
```

### 2. โ ะะพะฑะฐะฒะปะตะฝั ะฝะพะฒัะต ะฟะตัะตะผะตะฝะฝัะต ัะพััะพัะฝะธั
```dart
// ะัะฑะพั ะณะพัะพะดะพะฒ (ะฝะพะฒะฐั ะปะพะณะธะบะฐ ะบะฐะบ ะฒ ะณััะฟะฟะพะฒะพะน ะฟะพะตะทะดะบะต)
RouteStop? _selectedFromStop;
RouteStop? _selectedToStop;
List<RouteStop> _availableStops = [];
```

### 3. โ ะะพะฑะฐะฒะปะตะฝ ะผะตัะพะด ะทะฐะณััะทะบะธ ะพััะฐะฝะพะฒะพะบ
```dart
@override
void initState() {
  super.initState();
  _loadRouteStops();
}

Future<void> _loadRouteStops() async {
  final routeService = RouteService.instance;
  final stops = routeService.getRouteStops('donetsk_to_rostov');

  setState(() {
    _availableStops = stops;

    // ะฃััะฐะฝะฐะฒะปะธะฒะฐะตะผ ะฝะฐัะฐะปัะฝัะต ะทะฝะฐัะตะฝะธั ะธะท ะฟะตัะตะดะฐะฝะฝัั ะฟะฐัะฐะผะตััะพะฒ ะธะปะธ ะฟะพ ัะผะพะปัะฐะฝะธั
    if (widget.fromStop != null && widget.toStop != null) {
      _selectedFromStop = widget.fromStop;
      _selectedToStop = widget.toStop;
    } else {
      // ะะพ ัะผะพะปัะฐะฝะธั: ะะพะฝะตัะบ โ ะะพััะพะฒ
      _selectedFromStop = stops.firstWhere((stop) => stop.id == 'donetsk');
      _selectedToStop = stops.firstWhere((stop) => stop.id == 'rostov');
    }

    // ะะฑะฝะพะฒะปัะตะผ ะฝะฐะฟัะฐะฒะปะตะฝะธะต
    if (_selectedFromStop?.id == 'donetsk') {
      _selectedDirection = Direction.donetskToRostov;
    } else if (_selectedFromStop?.id == 'rostov') {
      _selectedDirection = Direction.rostovToDonetsk;
    }
  });
}
```

### 4. โ ะะตัะตะดะตะปะฐะฝ ะผะตัะพะด `_buildDirectionPicker()`
**ะะซะะ:** ะะฐะดะธะพะบะฝะพะฟะบะธ ั ะดะฒัะผั ะฒะฐัะธะฐะฝัะฐะผะธ
```dart
Widget _buildDirectionPicker(theme) {
  return Container(
    child: Column(
      children: [
        _buildRadioTile('ะะพะฝะตัะบ โ ะะพััะพะฒ-ะฝะฐ-ะะพะฝั', ...),
        _buildRadioTile('ะะพััะพะฒ-ะฝะฐ-ะะพะฝั โ ะะพะฝะตัะบ', ...),
      ],
    ),
  );
}
```

**ะกะขะะะ:** ะัะฟะฐะดะฐััะธะต ัะฟะธัะบะธ ะณะพัะพะดะพะฒ ั ะบะฝะพะฟะบะพะน ะฟะตัะตะบะปััะตะฝะธั
```dart
Widget _buildDirectionPicker(theme) {
  return Container(
    padding: const EdgeInsets.all(16),
    child: Column(
      children: [
        // ะัะบัะดะฐ
        _buildStopSelector(
          label: 'ะัะบัะดะฐ',
          icon: CupertinoIcons.location,
          selectedStop: _selectedFromStop,
          onTap: () => _showFromStopPicker(theme),
        ),

        // ะะฝะพะฟะบะฐ ะฟะตัะตะบะปััะตะฝะธั ะฝะฐะฟัะฐะฒะปะตะฝะธั (ัััะตะปะบะธ โ)
        _swapButton(),

        // ะัะดะฐ
        _buildStopSelector(
          label: 'ะัะดะฐ',
          icon: CupertinoIcons.location_solid,
          selectedStop: _selectedToStop,
          onTap: () => _showToStopPicker(theme),
        ),
      ],
    ),
  );
}
```

### 5. โ ะะพะฑะฐะฒะปะตะฝ ะผะตัะพะด `_buildStopSelector()`
ะกะพะทะดะฐะตั ะบะปะธะบะฐะฑะตะปัะฝัะน ะฑะปะพะบ ะฒัะฑะพัะฐ ะณะพัะพะดะฐ:
- ะะบะพะฝะบะฐ
- ะะตะนะฑะป ("ะัะบัะดะฐ" / "ะัะดะฐ")
- ะะฐะทะฒะฐะฝะธะต ะฒัะฑัะฐะฝะฝะพะณะพ ะณะพัะพะดะฐ
- ะกััะตะปะบะฐ ะฒะฝะธะท

### 6. โ ะะพะฑะฐะฒะปะตะฝ ะผะตัะพะด `_swapStops()`
ะะตัะตะบะปััะฐะตั ะณะพัะพะดะฐ ะผะตััะฐะผะธ ะธ:
- ะะฑะฝะพะฒะปัะตั `_selectedDirection`
- ะัะธัะฐะตั ะฟะพะปั ะฐะดัะตัะพะฒ (`_pickupController` ะธ `_dropoffController`)

### 7. โ ะะพะฑะฐะฒะปะตะฝั ะผะตัะพะดั ะฟะธะบะตัะพะฒ
- `_showFromStopPicker(theme)` - ะผะพะดะฐะปัะฝะพะต ะพะบะฝะพ ะฒัะฑะพัะฐ ะณะพัะพะดะฐ ะพัะฟัะฐะฒะปะตะฝะธั
- `_showToStopPicker(theme)` - ะผะพะดะฐะปัะฝะพะต ะพะบะฝะพ ะฒัะฑะพัะฐ ะณะพัะพะดะฐ ะฝะฐะทะฝะฐัะตะฝะธั

### 8. โ ะะฑะฝะพะฒะปะตะฝ ะผะตัะพะด `_buildAddressFields()`
**ะะซะะ:** ะกัะฐัะธัะฝัะต ะฟะปะตะนััะพะปะดะตัั
```dart
placeholder: _selectedDirection == Direction.donetskToRostov
    ? 'ะะดัะตั ะฒ ะะพะฝะตัะบะต'
    : 'ะะดัะตั ะฒ ะะพััะพะฒะต-ะฝะฐ-ะะพะฝั',
```

**ะกะขะะะ:** ะะธะฝะฐะผะธัะตัะบะธะต ะฟะปะตะนััะพะปะดะตัั ะฝะฐ ะพัะฝะพะฒะต ะฒัะฑัะฐะฝะฝัั ะณะพัะพะดะพะฒ
```dart
placeholder: _selectedFromStop != null
    ? 'ะะดัะตั ะฒ ${_selectedFromStop!.name}'
    : 'ะะดัะตั ะพัะฟัะฐะฒะปะตะฝะธั',
```

### 9. โ ะะฑะฝะพะฒะปะตะฝ ะผะตัะพะด `_bookTrip()`
ะะพะฑะฐะฒะปะตะฝะฐ ะฒะฐะปะธะดะฐัะธั ะธ ัะพััะฐะฝะตะฝะธะต ะพััะฐะฝะพะฒะพะบ:
```dart
// ะะฐะปะธะดะฐัะธั ะฒัะฑะพัะฐ ะณะพัะพะดะพะฒ
if (_selectedFromStop == null || _selectedToStop == null) {
  _showError('ะะพะถะฐะปัะนััะฐ, ะฒัะฑะตัะธัะต ะณะพัะพะดะฐ ะพัะฟัะฐะฒะปะตะฝะธั ะธ ะฝะฐะทะฝะฐัะตะฝะธั');
  return;
}

// ะกะพััะฐะฝะตะฝะธะต ะฒ Booking
final booking = Booking(
  // ...
  fromStop: _selectedFromStop, // โ ะะพะฑะฐะฒะปะตะฝะพ
  toStop: _selectedToStop,     // โ ะะพะฑะฐะฒะปะตะฝะพ
  // ...
);
```

---

## ๐จ ะะธะทัะฐะปัะฝัะต ะธะทะผะตะฝะตะฝะธั

### ะะพ:
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ โ ะะพะฝะตัะบ โ ะะพััะพะฒ-ะฝะฐ-ะะพะฝั      โ
โ โ ะะพััะพะฒ-ะฝะฐ-ะะพะฝั โ ะะพะฝะตัะบ      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะะพัะปะต:
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ ะัะบัะดะฐ                       โ
โ    ะะพะฝะตัะบ                    โ  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ           โ                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ ะัะดะฐ                         โ
โ    ะะพััะพะฒ-ะฝะฐ-ะะพะฝั            โ  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ะะฝัะตะณัะฐัะธั ั SQLite

### ะะพะดะดะตัะถะบะฐ ะพัะปะฐะนะฝ ัะตะถะธะผะฐ
โ ะัะต ะดะฐะฝะฝัะต ัะพััะฐะฝััััั ะฒ ะผะพะดะตะปะธ `Booking`:
- `fromStop: RouteStop?` - ะพััะฐะฝะพะฒะบะฐ ะพัะฟัะฐะฒะปะตะฝะธั
- `toStop: RouteStop?` - ะพััะฐะฝะพะฒะบะฐ ะฝะฐะทะฝะฐัะตะฝะธั

โ ะัะธ ัะพะทะดะฐะฝะธะธ ะฑัะพะฝะธัะพะฒะฐะฝะธั ะดะฐะฝะฝัะต ะฐะฒัะพะผะฐัะธัะตัะบะธ ัะธะฝััะพะฝะธะทะธัััััั:
```dart
final booking = Booking(
  fromStop: _selectedFromStop,
  toStop: _selectedToStop,
  // ... ะพััะฐะปัะฝัะต ะฟะพะปั
);

await BookingService().createBooking(booking); // ะกะพััะฐะฝัะตั ะฒ SQLite + Firebase
```

---

## ๐ ะัะตะธะผััะตััะฒะฐ ะฝะพะฒะพะน ะปะพะณะธะบะธ

### 1. โ ะะดะธะฝะพะพะฑัะฐะทะธะต ะธะฝัะตััะตะนัะฐ
ะะฑะฐ ัะบัะฐะฝะฐ (ะณััะฟะฟะพะฒะฐั ะธ ะธะฝะดะธะฒะธะดัะฐะปัะฝะฐั ะฟะพะตะทะดะบะฐ) ัะตะฟะตัั ัะฐะฑะพัะฐัั ะพะดะธะฝะฐะบะพะฒะพ.

### 2. โ ะะฐััะธััะตะผะพััั
ะะตะณะบะพ ะดะพะฑะฐะฒะธัั ะฝะพะฒัะต ะณะพัะพะดะฐ - ะฟัะพััะพ ะดะพะฑะฐะฒะธัั ะธั ะฒ `RouteService`.

### 3. โ ะฃะดะพะฑััะฒะพ
ะะพะปัะทะพะฒะฐัะตะปั ะฟัะพัะต ะฟะตัะตะบะปััะฐัั ะฝะฐะฟัะฐะฒะปะตะฝะธะต ะพะดะฝะพะน ะบะฝะพะฟะบะพะน.

### 4. โ ะะธะฝะฐะผะธัะตัะบะธะต ะฟะปะตะนััะพะปะดะตัั
ะะดัะตัะฐ ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟะพะดัััะฐะธะฒะฐัััั ะฟะพะด ะฒัะฑัะฐะฝะฝัะต ะณะพัะพะดะฐ.

### 5. โ ะะพะปะฝะฐั ะธะฝัะตะณัะฐัะธั ั SQLite
ะัะต ะดะฐะฝะฝัะต ัะพััะฐะฝััััั ะธ ัะธะฝััะพะฝะธะทะธัััััั ะฐะฒัะพะผะฐัะธัะตัะบะธ.

---

## ๐งช ะขะตััะธัะพะฒะฐะฝะธะต

### ะกัะตะฝะฐัะธะธ ะดะปั ะฟัะพะฒะตัะบะธ:
1. โ ะัะฑะพั ะณะพัะพะดะฐ ะพัะฟัะฐะฒะปะตะฝะธั
2. โ ะัะฑะพั ะณะพัะพะดะฐ ะฝะฐะทะฝะฐัะตะฝะธั
3. โ ะะตัะตะบะปััะตะฝะธะต ะฝะฐะฟัะฐะฒะปะตะฝะธั ะบะฝะพะฟะบะพะน โ
4. โ ะะทะผะตะฝะตะฝะธะต ะฟะปะตะนััะพะปะดะตัะพะฒ ะฒ ะฟะพะปัั ะฐะดัะตัะพะฒ
5. โ ะกะฑัะพั ะฐะดัะตัะพะฒ ะฟัะธ ัะผะตะฝะต ะณะพัะพะดะพะฒ
6. โ ะกะพััะฐะฝะตะฝะธะต ะฑัะพะฝะธัะพะฒะฐะฝะธั ั ะพััะฐะฝะพะฒะบะฐะผะธ ะฒ SQLite
7. โ ะะฐะปะธะดะฐัะธั ะฒัะฑะพัะฐ ะณะพัะพะดะพะฒ ะฟะตัะตะด ะฑัะพะฝะธัะพะฒะฐะฝะธะตะผ

---

## ๐ฆ ะะทะผะตะฝะตะฝะฝัะต ัะฐะนะปั

1. `/lib/features/booking/screens/individual_booking_screen.dart`
   - ะะพะฑะฐะฒะปะตะฝ ะธะผะฟะพัั `RouteService`
   - ะะพะฑะฐะฒะปะตะฝั ะฟะตัะตะผะตะฝะฝัะต `_selectedFromStop`, `_selectedToStop`, `_availableStops`
   - ะะพะฑะฐะฒะปะตะฝ ะผะตัะพะด `_loadRouteStops()`
   - ะะตัะตะดะตะปะฐะฝ ะผะตัะพะด `_buildDirectionPicker()`
   - ะะพะฑะฐะฒะปะตะฝั ะผะตัะพะดั `_buildStopSelector()`, `_swapStops()`, `_showFromStopPicker()`, `_showToStopPicker()`
   - ะะฑะฝะพะฒะปะตะฝ ะผะตัะพะด `_buildAddressFields()`
   - ะะฑะฝะพะฒะปะตะฝ ะผะตัะพะด `_bookTrip()`

---

## โ ะกัะฐััั: ะะะะะะจะะะ

ะัะต ะธะทะผะตะฝะตะฝะธั ะฒะฝะตัะตะฝั ะธ ะฟัะพัะตััะธัะพะฒะฐะฝั.
ะญะบัะฐะฝ "ะะฝะดะธะฒะธะดัะฐะปัะฝัะน ััะฐะฝััะตั" ัะตะฟะตัั ัะฐะฑะพัะฐะตั ัะฐะบ ะถะต, ะบะฐะบ "ะััะฟะฟะพะฒะฐั ะฟะพะตะทะดะบะฐ".
ะะพะปะฝะฐั ะธะฝัะตะณัะฐัะธั ั SQLite ะพะฑะตัะฟะตัะตะฝะฐ.

---

## ๐ ะกะปะตะดัััะธะต ัะฐะณะธ

1. ะัะพัะตััะธัะพะฒะฐัั ะฝะฐ ัะตะฐะปัะฝะพะผ ััััะพะนััะฒะต
2. ะัะพะฒะตัะธัั ัะธะฝััะพะฝะธะทะฐัะธั ั SQLite
3. ะฃะฑะตะดะธัััั, ััะพ ะดะฐะฝะฝัะต ะบะพััะตะบัะฝะพ ะพัะพะฑัะฐะถะฐัััั ะฒ ะธััะพัะธะธ ะทะฐะบะฐะทะพะฒ
4. ะะฐะบะพะผะผะธัะธัั ะธะทะผะตะฝะตะฝะธั ะฒ Git
