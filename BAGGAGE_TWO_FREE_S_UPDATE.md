# –û–ë–ù–û–í–õ–ï–ù–ò–ï –°–ò–°–¢–ï–ú–´ –ë–ê–ì–ê–ñ–ê: 2 –ë–ï–°–ü–õ–ê–¢–ù–´–• –ë–ê–ì–ê–ñ–ê S

## üìã –ó–ê–î–ê–ß–ê
–ò–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –±–∞–≥–∞–∂–∞:
- **–ë–´–õ–û**: 1 —Å–∞–º—ã–π –¥–æ—Ä–æ–≥–æ–π –±–∞–≥–∞–∂ –±–µ—Å–ø–ª–∞—Ç–Ω–æ
- **–°–¢–ê–õ–û**: 2 –±–∞–≥–∞–∂–∞ —Ä–∞–∑–º–µ—Ä–∞ S –±–µ—Å–ø–ª–∞—Ç–Ω–æ

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø

### 1. **lib/features/booking/screens/baggage_selection_screen_v3.dart**

#### –ò–∑–º–µ–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ (`_calculateTotalCost`):
```dart
// –ù–û–í–ê–Ø –õ–û–ì–ò–ö–ê: 2 –±–∞–≥–∞–∂–∞ —Ä–∞–∑–º–µ—Ä–∞ S –ë–ï–°–ü–õ–ê–¢–ù–û
double _calculateTotalCost() {
  int totalBaggageCount = _getTotalBaggageCount();
  if (totalBaggageCount == 0) return 0.0;

  // –°–æ–∑–¥–∞–µ–º —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –±–∞–≥–∞–∂–µ–π —Å –∏—Ö —Ü–µ–Ω–∞–º–∏
  List<double> allBaggagePrices = [];
  for (final size in BaggageSize.values) {
    final quantity = _quantities[size] ?? 0;
    final pricePerExtra = _prices[size] ?? 0.0;
    for (int i = 0; i < quantity; i++) {
      allBaggagePrices.add(pricePerExtra);
    }
  }

  // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é (—Å–∞–º—ã–µ –¥–µ—à–µ–≤—ã–µ –ø–µ—Ä–≤—ã–º–∏)
  allBaggagePrices.sort((a, b) => a.compareTo(b));

  // –ü–µ—Ä–≤—ã–µ 2 —Å–∞–º—ã—Ö –¥–µ—à–µ–≤—ã—Ö (–±–∞–≥–∞–∂–∞ S) - –±–µ—Å–ø–ª–∞—Ç–Ω–æ
  double total = 0.0;
  for (int i = 2; i < allBaggagePrices.length; i++) {
    total += allBaggagePrices[i];
  }
  return total;
}
```

#### –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `_getFreeBaggageCount`:
```dart
int _getFreeBaggageCount(BaggageSize size) {
  int totalCount = _getTotalBaggageCount();
  
  // –ï—Å–ª–∏ –≤—Å–µ–≥–æ –≤—ã–±—Ä–∞–Ω–æ 2 –∏–ª–∏ –º–µ–Ω—å—à–µ –±–∞–≥–∞–∂–µ–π - –≤—Å–µ –±–µ—Å–ø–ª–∞—Ç–Ω–æ
  if (totalCount <= 2) {
    return _quantities[size] ?? 0;
  }

  // –ï—Å–ª–∏ —ç—Ç–æ —Ä–∞–∑–º–µ—Ä S - –ø–µ—Ä–≤—ã–µ 2 –±–µ—Å–ø–ª–∞—Ç–Ω–æ
  if (size == BaggageSize.s) {
    final sQuantity = _quantities[size] ?? 0;
    return sQuantity >= 2 ? 2 : sQuantity;
  }

  return 0;
}
```

#### –û–±–Ω–æ–≤–ª–µ–Ω UI:
- **–ó–∞–≥–æ–ª–æ–≤–æ–∫**: "2 –ë–ê–ì–ê–ñ–ê –†–ê–ó–ú–ï–†–ê S –ë–ï–°–ü–õ–ê–¢–ù–û"
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ**: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ –±–∞–≥–∞–∂–µ–π > 2
- **–ö–∞—Ä—Ç–æ—á–∫–∏ –±–∞–≥–∞–∂–∞**: –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –∏ –ø–ª–∞—Ç–Ω—ã—Ö –±–∞–≥–∞–∂–µ–π

### 2. **lib/features/booking/screens/individual_booking_screen.dart**

–û–±–Ω–æ–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `_calculateBaggagePrice()`:
```dart
double _calculateBaggagePrice() {
  // –ù–û–í–ê–Ø –õ–û–ì–ò–ö–ê: 2 –±–∞–≥–∞–∂–∞ —Ä–∞–∑–º–µ—Ä–∞ S –ë–ï–°–ü–õ–ê–¢–ù–û
  int totalBaggageCount = _getTotalBaggageCount();
  if (totalBaggageCount == 0) return 0.0;

  List<double> allBaggagePrices = [];
  for (var item in _selectedBaggage) {
    for (int i = 0; i < item.quantity; i++) {
      allBaggagePrices.add(item.pricePerExtraItem);
    }
  }

  // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é (—Å–∞–º—ã–µ –¥–µ—à–µ–≤—ã–µ –ø–µ—Ä–≤—ã–º–∏)
  allBaggagePrices.sort((a, b) => a.compareTo(b));

  // –ü–µ—Ä–≤—ã–µ 2 —Å–∞–º—ã—Ö –¥–µ—à–µ–≤—ã—Ö - –±–µ—Å–ø–ª–∞—Ç–Ω–æ
  double totalCost = 0.0;
  for (int i = 2; i < allBaggagePrices.length; i++) {
    totalCost += allBaggagePrices[i];
  }
  return totalCost;
}
```

### 3. **lib/features/booking/screens/group_booking_screen.dart**

–û–±–Ω–æ–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `_calculateBaggagePrice()` (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ individual_booking_screen.dart)

## üéØ –ü–†–ò–ú–ï–†–´ –†–ê–ë–û–¢–´ –ù–û–í–û–ô –õ–û–ì–ò–ö–ò

### –ü—Ä–∏–º–µ—Ä 1: 2 –±–∞–≥–∞–∂–∞ S
- **–í—ã–±—Ä–∞–Ω–æ**: 2 √ó S (–ø–æ 500‚ÇΩ)
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: 0‚ÇΩ (–æ–±–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ)

### –ü—Ä–∏–º–µ—Ä 2: 3 –±–∞–≥–∞–∂–∞ S
- **–í—ã–±—Ä–∞–Ω–æ**: 3 √ó S (–ø–æ 500‚ÇΩ)
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: 500‚ÇΩ (2 –±–µ—Å–ø–ª–∞—Ç–Ω–æ, 1 –ø–ª–∞—Ç–Ω—ã–π)

### –ü—Ä–∏–º–µ—Ä 3: 1 S + 1 M
- **–í—ã–±—Ä–∞–Ω–æ**: 1 √ó S (500‚ÇΩ) + 1 √ó M (1000‚ÇΩ)
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: 1000‚ÇΩ (1 S –±–µ—Å–ø–ª–∞—Ç–Ω–æ, M –ø–ª–∞—Ç–Ω—ã–π)

### –ü—Ä–∏–º–µ—Ä 4: 2 S + 1 M
- **–í—ã–±—Ä–∞–Ω–æ**: 2 √ó S (–ø–æ 500‚ÇΩ) + 1 √ó M (1000‚ÇΩ)
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: 1000‚ÇΩ (2 S –±–µ—Å–ø–ª–∞—Ç–Ω–æ, M –ø–ª–∞—Ç–Ω—ã–π)

### –ü—Ä–∏–º–µ—Ä 5: 1 S + 2 M
- **–í—ã–±—Ä–∞–Ω–æ**: 1 √ó S (500‚ÇΩ) + 2 √ó M (–ø–æ 1000‚ÇΩ)
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: 2000‚ÇΩ (1 S –±–µ—Å–ø–ª–∞—Ç–Ω–æ, 2 M –ø–ª–∞—Ç–Ω—ã–µ)

### –ü—Ä–∏–º–µ—Ä 6: 1 M + 1 L
- **–í—ã–±—Ä–∞–Ω–æ**: 1 √ó M (1000‚ÇΩ) + 1 √ó L (2000‚ÇΩ)
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: 3000‚ÇΩ (–æ–±–∞ –ø–ª–∞—Ç–Ω—ã–µ, —Ç.–∫. –±–µ—Å–ø–ª–∞—Ç–Ω—ã —Ç–æ–ª—å–∫–æ S)

### –ü—Ä–∏–º–µ—Ä 7: –¢–æ–ª—å–∫–æ M –±–∞–≥–∞–∂–∏
- **–í—ã–±—Ä–∞–Ω–æ**: 2 √ó M (–ø–æ 1000‚ÇΩ)
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: 2000‚ÇΩ (–≤—Å–µ –ø–ª–∞—Ç–Ω—ã–µ, —Ç.–∫. –±–µ—Å–ø–ª–∞—Ç–Ω—ã —Ç–æ–ª—å–∫–æ S)

## üìù –¢–ï–•–ù–ò–ß–ï–°–ö–ê–Ø –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø

### –ê–ª–≥–æ—Ä–∏—Ç–º:
1. –î–ª—è —Ä–∞–∑–º–µ—Ä–∞ S: –ø–µ—Ä–≤—ã–µ 2 –±–∞–≥–∞–∂–∞ - –±–µ—Å–ø–ª–∞—Ç–Ω–æ, –æ—Å—Ç–∞–ª—å–Ω—ã–µ - –ø–ª–∞—Ç–Ω–æ
2. –î–ª—è —Ä–∞–∑–º–µ—Ä–æ–≤ M, L, Custom: –≤—Å–µ –±–∞–≥–∞–∂–∏ - –ø–ª–∞—Ç–Ω–æ
3. –°—É–º–º–∏—Ä—É–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤—Å–µ—Ö –ø–ª–∞—Ç–Ω—ã—Ö –±–∞–≥–∞–∂–µ–π

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ–¥—Ö–æ–¥–∞:
- ‚úÖ –¢–æ–ª—å–∫–æ –±–∞–≥–∞–∂–∏ —Ä–∞–∑–º–µ—Ä–∞ S –±–µ—Å–ø–ª–∞—Ç–Ω—ã (—Å—Ç—Ä–æ–≥–æ–µ –ø—Ä–∞–≤–∏–ª–æ)
- ‚úÖ –ë–∞–≥–∞–∂–∏ M, L, Custom –≤—Å–µ–≥–¥–∞ –ø–ª–∞—Ç–Ω—ã–µ
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è –∏ –ø–æ–Ω—è—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞
- ‚úÖ –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤–æ –≤—Å–µ—Ö —ç–∫—Ä–∞–Ω–∞—Ö
- ‚úÖ –ù–µ—Ç –ø—É—Ç–∞–Ω–∏—Ü—ã —Å "—Å–∞–º—ã–º–∏ –¥–µ—à–µ–≤—ã–º–∏"

## üîç –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:
1. [ ] –í—ã–±—Ä–∞—Ç—å 1 –±–∞–≥–∞–∂ S ‚Üí –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–º
2. [ ] –í—ã–±—Ä–∞—Ç—å 2 –±–∞–≥–∞–∂–∞ S ‚Üí –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–º–∏
3. [ ] –í—ã–±—Ä–∞—Ç—å 3 –±–∞–≥–∞–∂–∞ S ‚Üí 2 –±–µ—Å–ø–ª–∞—Ç–Ω–æ, 1 –ø–ª–∞—Ç–Ω—ã–π (500‚ÇΩ)
4. [ ] –í—ã–±—Ä–∞—Ç—å 1 S + 1 M ‚Üí –æ–±–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ
5. [ ] –í—ã–±—Ä–∞—Ç—å 2 S + 1 M ‚Üí 2 S –±–µ—Å–ø–ª–∞—Ç–Ω–æ, M –ø–ª–∞—Ç–Ω—ã–π (1000‚ÇΩ)
6. [ ] –í—ã–±—Ä–∞—Ç—å 1 S + 1 M + 1 L ‚Üí S –∏ M –±–µ—Å–ø–ª–∞—Ç–Ω–æ, L –ø–ª–∞—Ç–Ω—ã–π (2000‚ÇΩ)
7. [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–º –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏
8. [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –≥—Ä—É–ø–ø–æ–≤–æ–º –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏

## üìä –ò–ó–ú–ï–ù–ï–ù–ò–Ø –í UI

### –≠–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ –±–∞–≥–∞–∂–∞:
- **–ó–∞–≥–æ–ª–æ–≤–æ–∫**: "2 –ë–ê–ì–ê–ñ–ê –†–ê–ó–ú–ï–†–ê S –ë–ï–°–ü–õ–ê–¢–ù–û"
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è**: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ > 2 –±–∞–≥–∞–∂–∞—Ö
- **–ö–∞—Ä—Ç–æ—á–∫–∏ S**: –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç "–ë–ï–°–ü–õ–ê–¢–ù–û (2)" –µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω–æ 2
- **–ö–∞—Ä—Ç–æ—á–∫–∏ S**: –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç "–ë–ï–°–ü–õ–ê–¢–ù–û (2) + X –¥–æ–ø." –µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω–æ –±–æ–ª—å—à–µ 2
- **–ö–∞—Ä—Ç–æ—á–∫–∏ M/L**: –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø–æ–ª–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –º–µ—Å—Ç–∞ –∑–∞–Ω—è—Ç—ã S)

## ‚ú® –ò–¢–û–ì

–°–∏—Å—Ç–µ–º–∞ –±–∞–≥–∞–∂–∞ —Ç–µ–ø–µ—Ä—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç **2 –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –±–∞–≥–∞–∂–∞ —Ä–∞–∑–º–µ—Ä–∞ S** –≤–º–µ—Å—Ç–æ 1 —Å–∞–º–æ–≥–æ –¥–æ—Ä–æ–≥–æ–≥–æ –±–∞–≥–∞–∂–∞. –≠—Ç–æ –±–æ–ª–µ–µ –≤—ã–≥–æ–¥–Ω–æ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å –Ω–µ–±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –≤–µ—â–µ–π –∏ –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω–æ –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏.

---
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: 6 –æ–∫—Ç—è–±—Ä—è 2025 –≥.
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
