# –û–¢–ß–Å–¢: –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –õ–û–ì–ò–ö–ò –ë–ï–°–ü–õ–ê–¢–ù–û–ì–û –ë–ê–ì–ê–ñ–ê

**–î–∞—Ç–∞:** 7 –æ–∫—Ç—è–±—Ä—è 2025 –≥.  
**–ó–∞–¥–∞—á–∞:** –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –±–∞–≥–∞–∂–∞ - —Ç–æ–ª—å–∫–æ –ü–ï–†–í–´–ô –±–∞–≥–∞–∂ (–ª—é–±–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞) –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–º

---

## ‚úÖ –ü–†–û–ë–õ–ï–ú–ê

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- –í —ç–∫—Ä–∞–Ω–∞—Ö `individual_booking_screen.dart` –∏ `group_booking_screen.dart` –±—ã–ª–∞ —Å—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞
- –ü–µ—Ä–≤—ã–µ **2 –±–∞–≥–∞–∂–∞ —Ä–∞–∑–º–µ—Ä–∞ S** –±—ã–ª–∏ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–º–∏
- –≠—Ç–æ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –¢–ó v3.0

**–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–±–ª–µ–º—ã:**
```dart
// –°–¢–ê–†–ê–Ø –õ–û–ì–ò–ö–ê (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–ê–Ø):
if (item.size == BaggageSize.s) {
  if (item.quantity > 2) {
    total += (item.quantity - 2) * item.pricePerExtraItem;
  }
}
```

–ü—Ä–∏ –≤—ã–±–æ—Ä–µ 2 –±–∞–≥–∞–∂–µ–π —Ä–∞–∑–º–µ—Ä–∞ M –∏–ª–∏ L - –æ–±–∞ —Å—Ç–∞–Ω–æ–≤–∏–ª–∏—Å—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–º–∏, —Ö–æ—Ç—è –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–º —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–π.

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï

**–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞:**
- –¢–æ–ª—å–∫–æ **–ü–ï–†–í–´–ô –±–∞–≥–∞–∂** (–ª—é–±–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞: S, M, L –∏–ª–∏ Custom) - –ë–ï–°–ü–õ–ê–¢–ù–û
- –í—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –±–∞–≥–∞–∂–∏ - –ø–ª–∞—Ç–Ω—ã–µ –ø–æ —Ü–µ–Ω–∞–º –æ—Ç –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```dart
// –ù–û–í–ê–Ø –õ–û–ì–ò–ö–ê (–ü–†–ê–í–ò–õ–¨–ù–ê–Ø):
double _calculateBaggagePrice() {
  if (_selectedBaggage.isEmpty) return 0.0;

  double total = 0.0;
  bool firstBaggageFree = false;

  for (var item in _selectedBaggage) {
    if (item.quantity > 0) {
      if (!firstBaggageFree) {
        // –ü–µ—Ä–≤—ã–π –±–∞–≥–∞–∂ - –±–µ—Å–ø–ª–∞—Ç–Ω–æ
        firstBaggageFree = true;
        if (item.quantity > 1) {
          total += (item.quantity - 1) * item.pricePerExtraItem;
        }
      } else {
        // –í—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ - –ø–ª–∞—Ç–Ω–æ
        total += item.quantity * item.pricePerExtraItem;
      }
    }
  }

  return total;
}
```

---

## üìù –ò–ó–ú–ï–ù–Å–ù–ù–´–ï –§–ê–ô–õ–´

### 1. **individual_booking_screen.dart**
**–ü—É—Ç—å:** `/lib/features/booking/screens/individual_booking_screen.dart`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –º–µ—Ç–æ–¥–µ `_calculateBaggagePrice()`:**
- ‚ùå –£–¥–∞–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ "–ø–µ—Ä–≤—ã–µ 2 —Ä–∞–∑–º–µ—Ä–∞ S –±–µ—Å–ø–ª–∞—Ç–Ω–æ"
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ "–ø–µ—Ä–≤—ã–π –±–∞–≥–∞–∂ –ª—é–±–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ"
- –î–æ–±–∞–≤–ª–µ–Ω —Ñ–ª–∞–≥ `firstBaggageFree` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø–µ—Ä–≤–æ–≥–æ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –±–∞–≥–∞–∂–∞

### 2. **group_booking_screen.dart**
**–ü—É—Ç—å:** `/lib/features/booking/screens/group_booking_screen.dart`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –º–µ—Ç–æ–¥–µ `_calculateBaggagePrice()`:**
- ‚ùå –£–¥–∞–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ "–ø–µ—Ä–≤—ã–µ 2 —Ä–∞–∑–º–µ—Ä–∞ S –±–µ—Å–ø–ª–∞—Ç–Ω–æ"
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ "–ø–µ—Ä–≤—ã–π –±–∞–≥–∞–∂ –ª—é–±–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ"
- –î–æ–±–∞–≤–ª–µ–Ω —Ñ–ª–∞–≥ `firstBaggageFree` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø–µ—Ä–≤–æ–≥–æ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –±–∞–≥–∞–∂–∞

---

## üß™ –ü–†–ò–ú–ï–†–´ –†–ê–ë–û–¢–´ –ù–û–í–û–ô –õ–û–ì–ò–ö–ò

### –ü—Ä–∏–º–µ—Ä 1: –û–¥–∏–Ω –±–∞–≥–∞–∂ —Ä–∞–∑–º–µ—Ä–∞ S
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:** 1 √ó S
- **–¶–µ–Ω–∞ S:** 500‚ÇΩ
- **–ò—Ç–æ–≥–æ:** 0‚ÇΩ (–ø–µ—Ä–≤—ã–π –±–µ—Å–ø–ª–∞—Ç–Ω–æ)

### –ü—Ä–∏–º–µ—Ä 2: –î–≤–∞ –±–∞–≥–∞–∂–∞ —Ä–∞–∑–º–µ—Ä–∞ S
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:** 2 √ó S
- **–¶–µ–Ω–∞ S:** 500‚ÇΩ
- **–ò—Ç–æ–≥–æ:** 500‚ÇΩ (–ø–µ—Ä–≤—ã–π –±–µ—Å–ø–ª–∞—Ç–Ω–æ, –≤—Ç–æ—Ä–æ–π –ø–ª–∞—Ç–Ω–æ)

### –ü—Ä–∏–º–µ—Ä 3: –û–¥–∏–Ω –±–∞–≥–∞–∂ —Ä–∞–∑–º–µ—Ä–∞ M
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:** 1 √ó M
- **–¶–µ–Ω–∞ M:** 1000‚ÇΩ
- **–ò—Ç–æ–≥–æ:** 0‚ÇΩ (–ø–µ—Ä–≤—ã–π –±–µ—Å–ø–ª–∞—Ç–Ω–æ)

### –ü—Ä–∏–º–µ—Ä 4: –î–≤–∞ –±–∞–≥–∞–∂–∞ —Ä–∞–∑–º–µ—Ä–∞ M
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:** 2 √ó M
- **–¶–µ–Ω–∞ M:** 1000‚ÇΩ
- **–ò—Ç–æ–≥–æ:** 1000‚ÇΩ (–ø–µ—Ä–≤—ã–π –±–µ—Å–ø–ª–∞—Ç–Ω–æ, –≤—Ç–æ—Ä–æ–π –ø–ª–∞—Ç–Ω–æ)

### –ü—Ä–∏–º–µ—Ä 5: –°–º–µ—à–∞–Ω–Ω—ã–π –±–∞–≥–∞–∂ (1√óS + 2√óM)
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:** 1 √ó S (500‚ÇΩ) + 2 √ó M (1000‚ÇΩ)
- **–†–∞—Å—á—ë—Ç:**
  - –ü–µ—Ä–≤—ã–π S = 0‚ÇΩ (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
  - 2 √ó M = 2000‚ÇΩ (–ø–ª–∞—Ç–Ω–æ)
- **–ò—Ç–æ–≥–æ:** 2000‚ÇΩ

### –ü—Ä–∏–º–µ—Ä 6: –°–º–µ—à–∞–Ω–Ω—ã–π –±–∞–≥–∞–∂ (2√óS + 1√óL)
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:** 2 √ó S (500‚ÇΩ) + 1 √ó L (2000‚ÇΩ)
- **–†–∞—Å—á—ë—Ç:**
  - –ü–µ—Ä–≤—ã–π S = 0‚ÇΩ (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
  - –í—Ç–æ—Ä–æ–π S = 500‚ÇΩ (–ø–ª–∞—Ç–Ω–æ)
  - 1 √ó L = 2000‚ÇΩ (–ø–ª–∞—Ç–Ω–æ)
- **–ò—Ç–æ–≥–æ:** 2500‚ÇΩ

---

## ‚úÖ –ü–†–û–í–ï–†–ö–ê –°–û–ì–õ–ê–°–û–í–ê–ù–ù–û–°–¢–ò

### –í—Å–µ —Ç—Ä–∏ —ç–∫—Ä–∞–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –û–î–ò–ù–ê–ö–û–í–£–Æ –ª–æ–≥–∏–∫—É:

1. **baggage_selection_screen_v3.dart** ‚úÖ
   - –ú–µ—Ç–æ–¥ `_calculateTotalCost()` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–æ–≤—É—é –ª–æ–≥–∏–∫—É
   - –ú–µ—Ç–æ–¥ `_getFreeBaggageCount()` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 1 –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –±–∞–≥–∞–∂–∞

2. **individual_booking_screen.dart** ‚úÖ
   - –ú–µ—Ç–æ–¥ `_calculateBaggagePrice()` - –æ–±–Ω–æ–≤–ª—ë–Ω –Ω–∞ –Ω–æ–≤—É—é –ª–æ–≥–∏–∫—É

3. **group_booking_screen.dart** ‚úÖ
   - –ú–µ—Ç–æ–¥ `_calculateBaggagePrice()` - –æ–±–Ω–æ–≤–ª—ë–Ω –Ω–∞ –Ω–æ–≤—É—é –ª–æ–≥–∏–∫—É

---

## üìã –°–û–û–¢–í–ï–¢–°–¢–í–ò–ï –¢–ó v3.0

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –∏–∑ –¢–ó:**
> 1 –ø–∞—Å—Å–∞–∂–∏—Ä = 1 –±–∞–≥–∞–∂–Ω–æ–µ –º–µ—Å—Ç–æ **–ë–ï–°–ü–õ–ê–¢–ù–û** (–ª—é–±–æ–π —Ä–∞–∑–º–µ—Ä)

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û
- –ü–µ—Ä–≤—ã–π –±–∞–≥–∞–∂ –ª—é–±–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ (S, M, L, Custom) - –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π
- –í—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –±–∞–≥–∞–∂–∏ - –ø–ª–∞—Ç–Ω—ã–µ –ø–æ —Ü–µ–Ω–∞–º –æ—Ç –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞

---

## üîç –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

1. **–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –ø–æ–µ–∑–¥–∫–∞:**
   - [ ] –í—ã–±—Ä–∞—Ç—å 1 –±–∞–≥–∞–∂ S ‚Üí —Ü–µ–Ω–∞ 0‚ÇΩ
   - [ ] –í—ã–±—Ä–∞—Ç—å 2 –±–∞–≥–∞–∂–∞ S ‚Üí —Ü–µ–Ω–∞ 500‚ÇΩ
   - [ ] –í—ã–±—Ä–∞—Ç—å 1 –±–∞–≥–∞–∂ M ‚Üí —Ü–µ–Ω–∞ 0‚ÇΩ
   - [ ] –í—ã–±—Ä–∞—Ç—å 2 –±–∞–≥–∞–∂–∞ M ‚Üí —Ü–µ–Ω–∞ 1000‚ÇΩ
   - [ ] –í—ã–±—Ä–∞—Ç—å 1√óS + 1√óM ‚Üí —Ü–µ–Ω–∞ 1000‚ÇΩ

2. **–ì—Ä—É–ø–ø–æ–≤–∞—è –ø–æ–µ–∑–¥–∫–∞:**
   - [ ] –í—ã–±—Ä–∞—Ç—å 1 –±–∞–≥–∞–∂ S ‚Üí —Ü–µ–Ω–∞ 0‚ÇΩ
   - [ ] –í—ã–±—Ä–∞—Ç—å 2 –±–∞–≥–∞–∂–∞ S ‚Üí —Ü–µ–Ω–∞ 500‚ÇΩ
   - [ ] –í—ã–±—Ä–∞—Ç—å 1 –±–∞–≥–∞–∂ L ‚Üí —Ü–µ–Ω–∞ 0‚ÇΩ
   - [ ] –í—ã–±—Ä–∞—Ç—å 2 –±–∞–≥–∞–∂–∞ L ‚Üí —Ü–µ–Ω–∞ 2000‚ÇΩ

3. **–≠–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ –±–∞–≥–∞–∂–∞:**
   - [ ] –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –ø–µ—Ä–≤–æ–≥–æ –±–∞–≥–∞–∂–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è "–ë–ï–°–ü–õ–ê–¢–ù–û"
   - [ ] –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≤—Ç–æ—Ä–æ–≥–æ –±–∞–≥–∞–∂–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ü–µ–Ω–∞
   - [ ] –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å —Å—á–∏—Ç–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## üìä –°–¢–ê–¢–£–°

- ‚úÖ –ö–æ–¥ –æ–±–Ω–æ–≤–ª—ë–Ω
- ‚úÖ –õ–æ–≥–∏–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤ –æ–±–æ–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –û—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –Ω–µ—Ç
- ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

---

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —ç–º—É–ª—è—Ç–æ—Ä–µ/—É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –≤—ã–±–æ—Ä–∞ –±–∞–≥–∞–∂–∞
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ü–µ–Ω
4. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–π –±–∞–≥–∞–∂ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π

---

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ! üéâ**
