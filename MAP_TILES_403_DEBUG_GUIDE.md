# üó∫Ô∏è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ—Ç–ª–∞–¥–∫–µ 403 –æ—à–∏–±–∫–∏ Yandex Maps

## üìä –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è
- ‚úÖ MapKit –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ (v4.24.0)
- ‚úÖ –ö–∞—Ä—Ç–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è, –∫–∞–º–µ—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚ùå **–¢–∞–π–ª—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è** - –≤–∏–¥–Ω–∞ —Ç–æ–ª—å–∫–æ —Å–µ—Ç–∫–∞
- üîç –í –ª–æ–≥–∞—Ö: `"No available cache for request"`

## üéØ –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

### –®–∞–≥ 1: –ü–æ–π–º–∞—Ç—å 403 –æ—à–∏–±–∫—É –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

**–í–ê–ñ–ù–û:** –°–µ–π—á–∞—Å –∑–∞–ø—É—â–µ–Ω —Ñ–æ–Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –æ—à–∏–±–æ–∫!

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** –Ω–∞ —ç–º—É–ª—è—Ç–æ—Ä–µ/—É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ:** –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω ‚Üí "–°–≤–æ–±–æ–¥–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç"
3. **–ü–æ–¥–æ–∂–¥–∏—Ç–µ** 5-10 —Å–µ–∫—É–Ω–¥ –ø–æ–∫–∞ –∫–∞—Ä—Ç–∞ –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç–∞–π–ª—ã
4. **–í–µ—Ä–Ω–∏—Ç–µ—Å—å** –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞—Ö–≤–∞—á–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏
cat yandex_mapkit_errors.log | grep -i "403\|forbidden\|error"

# –ò–ª–∏ –ø–æ–ª–Ω—ã–π –ª–æ–≥
adb logcat -d | grep -i "403\|forbidden" | tail -30
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å API –∫–ª—é—á–∞

–í–∞—à —Ç–µ–∫—É—â–∏–π –∫–ª—é—á: `2f1d6a75-b751-4077-b305-c6abaea0b542`

#### 2.1 –í–æ–π–¥–∏—Ç–µ –≤ Yandex Console
1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://console.cloud.yandex.ru/
2. –í–æ–π–¥–∏—Ç–µ –ø–æ–¥ –∞–∫–∫–∞—É–Ω—Ç–æ–º, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –∫–ª—é—á
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: **–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã** ‚Üí **JavaScript API –∏ HTTP –ì–µ–æ–∫–æ–¥–µ—Ä**

#### 2.2 –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–ª—é—á–∞
–ù–∞–π–¥–∏—Ç–µ –∫–ª—é—á `2f1d6a75-b751-4077-b305-c6abaea0b542` –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

- [ ] **–°—Ç–∞—Ç—É—Å:** –ê–∫—Ç–∏–≤–µ–Ω / –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω / –ò—Å—Ç—ë–∫?
- [ ] **–¢–∏–ø:** –î–æ–ª–∂–µ–Ω –±—ã—Ç—å "JavaScript API –∏ HTTP –ì–µ–æ–∫–æ–¥–µ—Ä" (–ù–ï —Ç–æ–ª—å–∫–æ "HTTP –ì–µ–æ–∫–æ–¥–µ—Ä")
- [ ] **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –¥–æ–º–µ–Ω–∞–º/bundle ID:**
  - –î–æ–±–∞–≤–ª–µ–Ω `com.timetotravel.app`?
  - –ò–ª–∏ —Å—Ç–æ–∏—Ç `*` (–±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π)?
- [ ] **–õ–∏–º–∏—Ç—ã:**
  - –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ: 25,000 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–µ—Å—è—Ü
  - –°–∫–æ–ª—å–∫–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –∑–∞ —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü?
- [ ] **–ë–∏–ª–ª–∏–Ω–≥:**
  - –ü—Ä–∏–≤—è–∑–∞–Ω–∞ –ª–∏ –ø–ª–∞—Ç—ë–∂–Ω–∞—è –∫–∞—Ä—Ç–∞?
  - –î–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö API —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è –±–∏–ª–ª–∏–Ω–≥–∞ –¥–∞–∂–µ –¥–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ —Ç–∞—Ä–∏—Ñ–∞

#### 2.3 –ï—Å–ª–∏ –∫–ª—é—á –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω/–∏—Å—Ç—ë–∫ - —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π

```bash
# –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –∫–ª—é—á–∞ –æ–±–Ω–æ–≤–∏—Ç–µ –µ–≥–æ –≤ –ø—Ä–æ–µ–∫—Ç–µ:
NEW_KEY="–≤–∞—à-–Ω–æ–≤—ã–π-–∫–ª—é—á"

# –í Android
# android/app/src/main/AndroidManifest.xml
# <meta-data android:name="com.yandex.mapkit.API_KEY" android:value="$NEW_KEY"/>

# –í –∫–æ–¥–µ Flutter
# lib/config/map_config.dart
# static const String yandexMapKitApiKey = '$NEW_KEY';
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã

–ï—Å–ª–∏ –∫–ª—é—á –∞–∫—Ç–∏–≤–µ–Ω, –ø—Ä–æ–≤–µ—Ä–∏–º —Å–∞–º–∏ HTTP –∑–∞–ø—Ä–æ—Å—ã:

```bash
# –û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥–∏ –∏ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ
adb logcat -c

# –û—Ç–∫—Ä—ã—Ç—å —ç–∫—Ä–∞–Ω "–°–≤–æ–±–æ–¥–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç" –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
# –ó–∞—Ç–µ–º –ø–æ–π–º–∞—Ç—å –≤—Å–µ HTTP –∑–∞–ø—Ä–æ—Å—ã
adb logcat -d | grep -i "http\|request\|response" | grep -i "yandex\|tile"
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é MapKit

–í–æ–∑–º–æ–∂–Ω–æ, –≤–µ—Ä—Å–∏—è 4.24.0 –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å –≤–∞—à–∏–º –∫–ª—é—á–æ–º:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é
grep "yandex_mapkit_full:" pubspec.yaml

# –ï—Å–ª–∏ –Ω—É–∂–Ω–æ, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥—É—é –≤–µ—Ä—Å–∏—é
flutter pub upgrade yandex_mapkit_full
flutter clean && flutter pub get
```

### –®–∞–≥ 5: –í–∫–ª—é—á–∏—Ç—å debug-–ª–æ–≥–∏ MapKit (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–æ–±–∞–≤—å—Ç–µ –≤ `lib/main.dart`:

```dart
import 'package:yandex_mapkit/yandex_mapkit.dart';

void main() async {
  WidgetsFlutterBinding.ensureInitialized();
  
  // –î–û–ë–ê–í–ò–¢–¨ –≠–¢–û:
  await YandexMapKit.initialize(
    apiKey: MapConfig.yandexMapKitApiKey,
    enableDebugLogging: true, // ‚Üê –í–∫–ª—é—á–∏—Ç—å debug
  );
  
  runApp(const MyApp());
}
```

## üîç –ß–∞—Å—Ç—ã–µ –ø—Ä–∏—á–∏–Ω—ã 403 –æ—à–∏–±–∫–∏

### 1. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø –∫–ª—é—á–∞**
–î–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω—É–∂–µ–Ω –∫–ª—é—á —Ç–∏–ø–∞ **"JavaScript API –∏ HTTP –ì–µ–æ–∫–æ–¥–µ—Ä"**, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ "HTTP –ì–µ–æ–∫–æ–¥–µ—Ä"

### 2. **Bundle ID –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç**
–í –∫–æ–Ω—Å–æ–ª–∏ Yandex –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–∫–∞–∑–∞–Ω `com.timetotravel.app`

### 3. **–ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ —Ç–∞—Ä–∏—Ñ–∞**
25,000 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–µ—Å—è—Ü –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º —Ç–∞—Ä–∏—Ñ–µ

### 4. **–¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–∏–≤—è–∑–∫–∞ –∫–∞—Ä—Ç—ã**
–î–∞–∂–µ –¥–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ API —Ç—Ä–µ–±—É—é—Ç –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –±–∏–ª–ª–∏–Ω–≥–∞

### 5. **–†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–µ—Ç –ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø–æ —Å—Ç—Ä–∞–Ω–∞–º –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∫–ª—é—á–∞

### 6. **–ò—Å—Ç—ë–∫ —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –∫–ª—é—á–∞**
–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–ª—é—á–∏ –≤—ã–¥–∞—é—Ç—Å—è –Ω–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Å—Ä–æ–∫

## üìù –ß—Ç–æ —Å–æ–±—Ä–∞—Ç—å –¥–ª—è –æ—Ç—á—ë—Ç–∞ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É Yandex

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–∏—Ç—Å—è, —Å–æ–±–µ—Ä–∏—Ç–µ:

1. **–°–∫—Ä–∏–Ω—à–æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ API –∫–ª—é—á–∞** –∏–∑ –∫–æ–Ω—Å–æ–ª–∏ Yandex
2. **–õ–æ–≥–∏ —Å 403 –æ—à–∏–±–∫–æ–π:**
```bash
adb logcat -d > full_logcat.txt
```
3. **–í–µ—Ä—Å–∏—è MapKit:**
```bash
grep "yandex_mapkit" pubspec.yaml
```
4. **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:**
   - Package name: `com.timetotravel.app`
   - Platform: Android
   - Flutter version: `flutter --version`

5. **–û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤:**
   - –¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞ Yandex Maps: https://yandex.ru/support/maps-api/
   - –ò–ª–∏ —Å–æ–∑–¥–∞—Ç—å issue: https://github.com/yandex/mapkit-android-demo/issues

## ‚úÖ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–û—Ç–∫—Ä–æ–π—Ç–µ —ç–∫—Ä–∞–Ω "–°–≤–æ–±–æ–¥–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç"** –∏ –¥–∞–π—Ç–µ –∫–∞—Ä—Ç–µ –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç–∞–π–ª—ã
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
```bash
cat yandex_mapkit_errors.log
```
3. **–í–æ–π–¥–∏—Ç–µ –≤ Yandex Console** –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–ª—é—á
4. **–°–æ–æ–±—â–∏—Ç–µ –º–Ω–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã**, –∏ —è –ø–æ–º–æ–≥—É —Å —Ä–µ—à–µ–Ω–∏–µ–º!

---

**–§–æ–Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∑–∞–ø—É—â–µ–Ω!** üü¢
–û–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å–µ –æ—à–∏–±–∫–∏ Yandex –≤ `yandex_mapkit_errors.log`
