#!/usr/bin/env dart

/// ğŸ”„ Ğ¡ĞšĞ Ğ˜ĞŸĞ¢ ĞŸĞ•Ğ Ğ•Ğ—ĞĞ“Ğ Ğ£Ğ—ĞšĞ˜ ĞœĞĞ Ğ¨Ğ Ğ£Ğ¢ĞĞ’
/// 
/// Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ:
/// dart reload_routes.dart
/// 
/// Ğ­Ñ‚Ğ¾Ñ‚ ÑĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ¿Ñ€Ğ¸Ğ½ÑƒĞ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµÑ‚ Ğ²ÑĞµ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ñ‹ Ğ² SQLite,
/// ÑƒĞ´Ğ°Ğ»ÑÑ ÑÑ‚Ğ°Ñ€Ñ‹Ğµ Ğ¸ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑÑ Ğ½Ğ¾Ğ²Ñ‹Ğµ Ğ¸Ğ· RouteInitializer
/// 

import 'dart:io';
import 'package:flutter/cupertino.dart';
import 'lib/data/route_initializer.dart';

Future<void> main() async {
  print('ğŸ”„ Ğ—ĞĞŸĞ£Ğ¡Ğš ĞŸĞ•Ğ Ğ•Ğ—ĞĞ“Ğ Ğ£Ğ—ĞšĞ˜ ĞœĞĞ Ğ¨Ğ Ğ£Ğ¢ĞĞ’');
  print('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”');
  
  try {
    // Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Flutter bindings
    WidgetsFlutterBinding.ensureInitialized();
    
    print('ğŸ“Š Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° RouteInitializer:');
    final stats = RouteInitializer.routeStats;
    print('   â€¢ Ğ’ÑĞµĞ³Ğ¾ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¾Ğ²: ${stats['total_routes']}');
    print('   â€¢ Ğ£Ğ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ñ… Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ¾Ğ²: ${stats['unique_cities']}');
    print('   â€¢ Ğ¡Ñ€ĞµĞ´Ğ½ÑÑ Ñ†ĞµĞ½Ğ°: ${stats['avg_price']}â‚½');
    print('');
    
    print('ğŸ—‘ï¸ ĞŸĞĞ›ĞĞĞ¯ ĞĞ§Ğ˜Ğ¡Ğ¢ĞšĞ Ğ˜ ĞŸĞ•Ğ Ğ•Ğ—ĞĞ“Ğ Ğ£Ğ—ĞšĞ...');
    
    // Ğ’Ñ‹Ğ·Ñ‹Ğ²Ğ°ĞµĞ¼ Ğ¿Ñ€Ğ¸Ğ½ÑƒĞ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½ÑƒÑ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºÑƒ
    await RouteInitializer.forceInitializeOnlyUserRoutes();
    
    print('');
    print('âœ… ĞŸĞ•Ğ Ğ•Ğ—ĞĞ“Ğ Ğ£Ğ—ĞšĞ Ğ—ĞĞ’Ğ•Ğ Ğ¨Ğ•ĞĞ Ğ£Ğ¡ĞŸĞ•Ğ¨ĞĞ!');
    print('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”');
    print('');
    print('ğŸ¯ ĞĞĞ’Ğ«Ğ• ĞœĞĞ Ğ¨Ğ Ğ£Ğ¢Ğ« Ğ¡ ĞšĞ ĞĞ¡ĞĞĞ”ĞĞ ĞĞœ Ğ”ĞĞ¡Ğ¢Ğ£ĞŸĞĞ«:');
    print('   â€¢ Ğ”Ğ¾Ğ½ĞµÑ†Ğº â†’ ĞšÑ€Ğ°ÑĞ½Ğ¾Ğ´Ğ°Ñ€ (30000â‚½)');
    print('   â€¢ ĞœĞ°ĞºĞµĞµĞ²ĞºĞ° â†’ ĞšÑ€Ğ°ÑĞ½Ğ¾Ğ´Ğ°Ñ€ (30000â‚½)');
    print('   â€¢ Ğ¥Ğ°Ñ€Ñ†Ñ‹Ğ·ÑĞº â†’ ĞšÑ€Ğ°ÑĞ½Ğ¾Ğ´Ğ°Ñ€ (30000â‚½)');
    print('   â€¢ Ğ˜Ğ»Ğ¾Ğ²Ğ°Ğ¹ÑĞº â†’ ĞšÑ€Ğ°ÑĞ½Ğ¾Ğ´Ğ°Ñ€ (30000â‚½)');
    print('   â€¢ ĞĞ¼Ğ²Ñ€Ğ¾ÑĞ¸ĞµĞ²ĞºĞ° â†’ ĞšÑ€Ğ°ÑĞ½Ğ¾Ğ´Ğ°Ñ€ (30000â‚½)');
    print('   â€¢ ĞŸÑƒĞ½ĞºÑ‚ Ğ¿Ñ€Ğ¾Ğ¿ÑƒÑĞºĞ° ĞĞ²Ğ¸Ğ»Ğ¾-Ğ£ÑĞ¿ĞµĞ½ĞºĞ° â†’ ĞšÑ€Ğ°ÑĞ½Ğ¾Ğ´Ğ°Ñ€ (30000â‚½)');
    print('   â€¢ + Ğ²ÑĞµ Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ½Ñ‹Ğµ Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ');
    print('');
    print('ğŸ“± ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹');
    
  } catch (e, stackTrace) {
    print('âŒ ĞĞ¨Ğ˜Ğ‘ĞšĞ ĞŸĞ Ğ˜ ĞŸĞ•Ğ Ğ•Ğ—ĞĞ“Ğ Ğ£Ğ—ĞšĞ• ĞœĞĞ Ğ¨Ğ Ğ£Ğ¢ĞĞ’:');
    print('   $e');
    print('');
    print('ğŸ“‹ Stack trace:');
    print('   $stackTrace');
    print('');
    print('ğŸ”§ ĞŸĞĞŸĞ ĞĞ‘Ğ£Ğ™Ğ¢Ğ•:');
    print('   1. Ğ£Ğ±ĞµĞ´Ğ¸Ñ‚ĞµÑÑŒ, Ñ‡Ñ‚Ğ¾ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ½Ğµ Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½Ğ¾');
    print('   2. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ Ğ¿Ñ€Ğ°Ğ²Ğ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ° Ğº SQLite Ñ„Ğ°Ğ¹Ğ»Ñƒ');
    print('   3. Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ: flutter clean && flutter pub get');
    
    exit(1);
  }
}