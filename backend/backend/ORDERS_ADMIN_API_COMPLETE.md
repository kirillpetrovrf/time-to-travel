# üéâ ORDERS API –ò ADMIN ENDPOINTS - –ì–û–¢–û–í–û!

**–î–∞—Ç–∞:** 20 —è–Ω–≤–∞—Ä—è 2026  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –£—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ

---

## üìä –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. Orders API (5 endpoints)

#### GET /orders
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞–∫–∞–∑–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É (`?phone=...`)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ —Å—Ç–∞—Ç—É—Å—É (`?status=pending/confirmed/...`)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ userId –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä `?limit=N`

#### POST /orders
- –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∑–∞–∫–∞–∑–∞
- –†–∞–±–æ—Ç–∞–µ—Ç —Å JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ orderId –≤ —Ñ–æ—Ä–º–∞—Ç–µ `ORDER-YYYY-MM-XXX`
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∞–¥—Ä–µ—Å–æ–≤ –∏ —Ü–µ–Ω—ã
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

#### GET /orders/:id
- –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π –∑–∞–∫–∞–∑–∞ –ø–æ ID
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ (—Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü –∑–∞–∫–∞–∑–∞ –∏–ª–∏ –∞–¥–º–∏–Ω)
- JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞

#### PUT /orders/:id
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
- –¢—Ä–µ–±—É–µ—Ç JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–ª–∞–¥–µ–Ω–∏—è –∑–∞–∫–∞–∑–æ–º (–∏–ª–∏ —Ä–æ–ª—å admin)
- –ó–∞–ø—Ä–µ—Ç –Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö/–æ—Ç–º–µ–Ω–µ–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —á–∞—Å—Ç–∏—á–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ UpdateOrderDto

#### DELETE /orders/:id
- –û—Ç–º–µ–Ω–∞ –∑–∞–∫–∞–∑–∞ (–∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –Ω–∞ `cancelled`)
- –¢—Ä–µ–±—É–µ—Ç JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- –ó–∞–ø—Ä–µ—Ç –Ω–∞ –æ—Ç–º–µ–Ω—É —É–∂–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö/–æ—Ç–º–µ–Ω–µ–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤

#### PATCH /orders/:id/status
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞ (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã –∏ –≤–æ–¥–∏—Ç–µ–ª–∏)
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É —Å—Ç–∞—Ç—É—Å–∞–º–∏:
  - `pending` ‚Üí `confirmed`, `cancelled`
  - `confirmed` ‚Üí `in_progress`, `cancelled`
  - `in_progress` ‚Üí `completed`, `cancelled`
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: –≤–æ–¥–∏—Ç–µ–ª–∏ –Ω–µ –º–æ–≥—É—Ç –æ—Ç–º–µ–Ω—è—Ç—å –∑–∞–∫–∞–∑—ã
- –ó–∞–ø—Ä–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤

---

### 2. Admin API (4 endpoints)

#### POST /admin/routes
- –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞
- –¢–æ–ª—å–∫–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —Ä–æ–ª—å—é `admin`
- –í–∞–ª–∏–¥–∞—Ü–∏—è: –Ω–µ–ø—É—Å—Ç—ã–µ –≥–æ—Ä–æ–¥–∞, –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è —Ü–µ–Ω–∞
- –í–æ–∑–≤—Ä–∞—Ç —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞ —Å ID –∏ timestamps

#### PUT /admin/routes/:id
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞
- –¢–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
- –ß–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ UpdateRouteDto
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–∞

#### DELETE /admin/routes/:id
- –£–¥–∞–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞
- –¢–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º
- –í–æ–∑–≤—Ä–∞—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Å ID —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞

#### GET /admin/stats
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –∑–∞–∫–∞–∑–∞–º
- –¢–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
  - –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ –∫–∞–∂–¥–æ–º—É —Å—Ç–∞—Ç—É—Å—É
  - –û–±—â—É—é –≤—ã—Ä—É—á–∫—É (totalRevenue)
- Timestamp –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–ø—Ä–æ—Å–∞

---

## üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ —É–ª—É—á—à–µ–Ω–∏—è

### 1. –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `role` –≤ –º–æ–¥–µ–ª—å User
```dart
final String role; // 'client', 'driver', 'admin'
```
- –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ User –∫–ª–∞—Å—Å
- –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ User.fromDb()
- –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ User.copyWith()
- –û–±–Ω–æ–≤–ª–µ–Ω–æ User.toString()
- –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω user.g.dart

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ RouteRepository.delete()
```dart
Future<bool> delete(String id) async {
  final result = await db.execute(...);
  return result > 0;
}
```
–¢–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `bool` –≤–º–µ—Å—Ç–æ `void` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ —É–¥–∞–ª–µ–Ω–∏—è.

### 3. –£–±—Ä–∞–Ω—ã –ª–∏—à–Ω–∏–µ null-–ø—Ä–æ–≤–µ—Ä–∫–∏
- OrderRepository.update() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `Order`, –∞ –Ω–µ `Order?`
- OrderRepository.updateStatus() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `Order`, –∞ –Ω–µ `Order?`
- RouteRepository.update() –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –≤–º–µ—Å—Ç–æ null

### 4. –í–∞–ª–∏–¥–∞—Ü–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
- –°—Ç–∞—Ç—É—Å–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –∑–∞–∫–∞–∑–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–µ–π (admin, driver, client)
- –ó–∞–ø—Ä–µ—Ç –Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è –≤–æ–¥–∏—Ç–µ–ª–µ–π (–Ω–µ –º–æ–≥—É—Ç –æ—Ç–º–µ–Ω—è—Ç—å)

---

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

```
routes/orders/
‚îú‚îÄ‚îÄ index.dart              # GET /orders, POST /orders
‚îú‚îÄ‚îÄ [id].dart               # GET /orders/:id, PUT /orders/:id, DELETE /orders/:id
‚îî‚îÄ‚îÄ [id]/
    ‚îî‚îÄ‚îÄ status.dart         # PATCH /orders/:id/status

routes/admin/
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îú‚îÄ‚îÄ index.dart          # POST /admin/routes
‚îÇ   ‚îî‚îÄ‚îÄ [id].dart           # PUT /admin/routes/:id, DELETE /admin/routes/:id
‚îî‚îÄ‚îÄ stats.dart              # GET /admin/stats

API_ENDPOINTS.md            # –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
```

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ö–æ–º–ø–∏–ª—è—Ü–∏—è:
```bash
dart analyze
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ 0 –æ—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, 326 —Å—Ç–∏–ª–µ–≤—ã—Ö –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π (–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è JSON –∫–æ–¥–∞:
```bash
dart run build_runner build --delete-conflicting-outputs
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –£—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã user.g.dart, route.g.dart, order.g.dart

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

### Endpoints:
- **Auth:** 3 (register, login, me)
- **Routes:** 1 (index - search/list)
- **Orders:** 5 (index, create, get, update, delete, update status)
- **Admin:** 4 (create route, update route, delete route, stats)
- **Health:** 1
- **–í—Å–µ–≥–æ:** 14 endpoints

### –§–∞–π–ª—ã Backend:
- **Models:** 3 (user, route, order) + 3 generated
- **Repositories:** 3 (user, route, order)
- **Services:** 1 (database_service)
- **Utils:** 1 (jwt_helper)
- **Middleware:** 2 (global, auth)
- **Routes:** 10 —Ñ–∞–π–ª–æ–≤
- **Tests:** 1 (models_test)
- **Database:** 2 SQL —Ñ–∞–π–ª–∞
- **Docker:** 3 —Ñ–∞–π–ª–∞ (compose, Dockerfile, nginx)
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** 2 (API_ENDPOINTS.md, README)

**–í—Å–µ–≥–æ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~4200 —Å—Ç—Ä–æ–∫

---

## üéØ API Coverage

| –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª | Endpoints | –°—Ç–∞—Ç—É—Å |
|-----------|-----------|--------|
| –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è | POST /auth/register | ‚úÖ |
| –í—Ö–æ–¥ | POST /auth/login | ‚úÖ |
| –ü—Ä–æ—Ñ–∏–ª—å | GET /auth/me | ‚úÖ |
| –°–ø–∏—Å–æ–∫ –º–∞—Ä—à—Ä—É—Ç–æ–≤ | GET /routes | ‚úÖ |
| –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ | POST /orders | ‚úÖ |
| –°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ | GET /orders | ‚úÖ |
| –î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞ | GET /orders/:id | ‚úÖ |
| –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ | PUT /orders/:id | ‚úÖ |
| –û—Ç–º–µ–Ω–∞ –∑–∞–∫–∞–∑–∞ | DELETE /orders/:id | ‚úÖ |
| –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ | PATCH /orders/:id/status | ‚úÖ |
| –°–æ–∑–¥–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞ (admin) | POST /admin/routes | ‚úÖ |
| –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞ (admin) | PUT /admin/routes/:id | ‚úÖ |
| –£–¥–∞–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞ (admin) | DELETE /admin/routes/:id | ‚úÖ |
| –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (admin) | GET /admin/stats | ‚úÖ |
| Health check | GET /health | ‚úÖ |

---

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
‚úÖ –í—Å–µ endpoints —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã  
‚úÖ JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è  
‚úÖ Role-based access control (admin, driver, client)  
‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö  
‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞  
‚úÖ PostgreSQL –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è  
‚úÖ Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è  
‚úÖ Nginx reverse proxy —Å SSL  
‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API  

### –ß—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å —Å–¥–µ–ª–∞—Ç—å:
‚è≥ POST /auth/refresh - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ access token  
‚è≥ POST /auth/logout - –≤—ã—Ö–æ–¥ (–∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è refresh token)  
‚è≥ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è API endpoints  
‚è≥ Redis –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è  
‚è≥ WebSocket –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π  
‚è≥ –î–µ–ø–ª–æ–π –Ω–∞ Selectel VPS  
‚è≥ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤  
‚è≥ Flutter app –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è  

---

## üîê –†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

### Client (–∫–ª–∏–µ–Ω—Ç):
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–∏—Ö –∑–∞–∫–∞–∑–æ–≤
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–≤–æ–∏—Ö –∑–∞–∫–∞–∑–æ–≤
- ‚úÖ –û—Ç–º–µ–Ω–∞ —Å–≤–æ–∏—Ö –∑–∞–∫–∞–∑–æ–≤
- ‚ùå –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–∫–∞–∑–æ–≤
- ‚ùå –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏

### Driver (–≤–æ–¥–∏—Ç–µ–ª—å):
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–∫–∞–∑–æ–≤
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–∫–∞–∑–æ–≤ (–∫—Ä–æ–º–µ –æ—Ç–º–µ–Ω—ã)
- ‚ùå –û—Ç–º–µ–Ω–∞ –∑–∞–∫–∞–∑–æ–≤
- ‚ùå –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏

### Admin (–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä):
- ‚úÖ –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –∑–∞–∫–∞–∑–∞–º
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ª—é–±—ã—Ö —Å—Ç–∞—Ç—É—Å–æ–≤
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ (–Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
```bash
curl -X POST http://localhost:8080/orders \
  -H "Content-Type: application/json" \
  -d '{
    "fromAddress": "—É–ª. –ü—É—à–∫–∏–Ω—Å–∫–∞—è 1, –†–æ—Å—Ç–æ–≤",
    "toAddress": "—É–ª. –õ–µ–Ω–∏–Ω–∞ 10, –¢–∞–≥–∞–Ω—Ä–æ–≥",
    "fromLat": 47.2357,
    "fromLon": 39.7015,
    "toLat": 47.2313,
    "toLon": 38.8972,
    "departureDate": "2026-01-25T10:00:00Z",
    "vehicleClass": "comfort",
    "finalPrice": 1500.00,
    "passengers": [
      {"fullName": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤", "phone": "+79001234567", "isMain": true}
    ],
    "baggage": [{"size": "S", "count": 1, "price": 0}],
    "pets": []
  }'
```

### 2. –ü–æ–∏—Å–∫ –∑–∞–∫–∞–∑–∞ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É
```bash
curl "http://localhost:8080/orders?phone=%2B79001234567"
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ (–≤–æ–¥–∏—Ç–µ–ª—å/–∞–¥–º–∏–Ω)
```bash
curl -X PATCH http://localhost:8080/orders/ORDER-2026-01-001/status \
  -H "Authorization: Bearer <driver_token>" \
  -H "Content-Type: application/json" \
  -d '{"status": "confirmed"}'
```

### 4. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (–∞–¥–º–∏–Ω)
```bash
curl http://localhost:8080/admin/stats \
  -H "Authorization: Bearer <admin_token>"
```

---

## üéì –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: –î–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ Auth endpoints
1. POST /auth/refresh - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
2. POST /auth/logout - –≤—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
3. –¢–µ—Å—Ç—ã –¥–ª—è auth endpoints

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ Selectel
1. –ê—Ä–µ–Ω–¥–æ–≤–∞—Ç—å VPS (~600-800 —Ä—É–±/–º–µ—Å)
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker + Docker Compose
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSL —á–µ—Ä–µ–∑ Let's Encrypt
4. –ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–¥ —á–µ—Ä–µ–∑ git
5. –ó–∞–ø—É—Å—Ç–∏—Ç—å docker-compose up -d

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Flutter
1. –°–æ–∑–¥–∞—Ç—å API client –≤ Flutter app
2. –ó–∞–º–µ–Ω–∏—Ç—å SQLite –≤—ã–∑–æ–≤—ã –Ω–∞ HTTP –∑–∞–ø—Ä–æ—Å—ã
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ö—Ä–∞–Ω–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–æ–≤
4. –î–æ–±–∞–≤–∏—Ç—å offline mode (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –í–∞—Ä–∏–∞–Ω—Ç 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
1. –ù–∞–ø–∏—Å–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
2. –î–æ–±–∞–≤–∏—Ç—å Swagger/OpenAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD pipeline

---

## üèÅ –ò—Ç–æ–≥

**–°–æ–∑–¥–∞–Ω–æ 14 REST API endpoints** –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ —Ç–∞–∫—Å–∏-—Å–µ—Ä–≤–∏—Å–∞ —Å:
- ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ JWT
- ‚úÖ Role-based –¥–æ—Å—Ç—É–ø–æ–º (client/driver/admin)
- ‚úÖ CRUD –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ –¥–ª—è –∑–∞–∫–∞–∑–æ–≤ –∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤
- ‚úÖ –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π (—Å—Ç–∞—Ç—É—Å–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã, –≤–∞–ª–∏–¥–∞—Ü–∏—è)
- ‚úÖ PostgreSQL —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ Docker-ready –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π

**Backend –≥–æ—Ç–æ–≤ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Flutter –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º!** üöÄ
