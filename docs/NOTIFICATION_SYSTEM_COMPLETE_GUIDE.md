# üîî –ü–û–õ–ù–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –ò–ù–¢–ï–ì–†–ê–¶–ò–ò –°–ò–°–¢–ï–ú–´ –£–í–ï–î–û–ú–õ–ï–ù–ò–ô

## üìã –û–ì–õ–ê–í–õ–ï–ù–ò–ï
1. [–û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã](#–æ–±–∑–æ—Ä-—Å–∏—Å—Ç–µ–º—ã)
2. [–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (pubspec.yaml)](#–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
3. [Android –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#android-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
4. [iOS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#ios-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
5. [–ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª main.dart](#–≥–ª–∞–≤–Ω—ã–π-—Ñ–∞–π–ª-maindart)
6. [–°–µ—Ä–≤–∏—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π notification_service.dart](#—Å–µ—Ä–≤–∏—Å-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π)
7. [–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ SplashScreen](#–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è-–≤-splashscreen)
8. [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏](#–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–≤-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏)
9. [–ß–µ–∫–ª–∏—Å—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏](#—á–µ–∫–ª–∏—Å—Ç-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)

---

## üéØ –û–ë–ó–û–† –°–ò–°–¢–ï–ú–´

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞:
- ‚úÖ –õ–æ–∫–∞–ª—å–Ω—ã–µ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (—Ä–∞–±–æ—Ç–∞—é—Ç –¥–∞–∂–µ –∫–æ–≥–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ó–ê–ö–†–´–¢–û)
- ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –Ω–∞ —Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è (zonedSchedule)
- ‚úÖ –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∑–∞ 24 —á–∞—Å–∞ –∏ 1 —á–∞—Å –¥–æ —Å–æ–±—ã—Ç–∏—è
- ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è –∫ —ç–∫—Ä–∞–Ω—É –¥–µ—Ç–∞–ª–µ–π –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Android 12+ (—Ç–æ—á–Ω—ã–µ –±—É–¥–∏–ª—å–Ω–∏–∫–∏)
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ iOS
- ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–∞–∫–µ—Ç—ã:
- `flutter_local_notifications: ^18.0.1` - –ª–æ–∫–∞–ª—å–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- `timezone: ^0.9.4` - —Ä–∞–±–æ—Ç–∞ —Å —á–∞—Å–æ–≤—ã–º–∏ –ø–æ—è—Å–∞–º–∏ –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üì¶ –ó–ê–í–ò–°–ò–ú–û–°–¢–ò

### –§–∞–π–ª: `pubspec.yaml`

–î–æ–±–∞–≤–∏—Ç—å –≤ —Å–µ–∫—Ü–∏—é `dependencies`:

```yaml
dependencies:
  flutter:
    sdk: flutter
  
  # ========== –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø ==========
  # –î–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (—Ä–∞–±–æ—Ç–∞—é—Ç –¥–∞–∂–µ –∫–æ–≥–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–æ)
  flutter_local_notifications: ^18.0.1
  timezone: ^0.9.4
```

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å:
```bash
flutter pub get
```

---

## ü§ñ ANDROID –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø

### –§–∞–π–ª: `android/app/src/main/AndroidManifest.xml`

#### 1. –î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è (–ü–ï–†–ï–î —Ç–µ–≥–æ–º `<application>`):

```xml
<manifest xmlns:android="http://schemas.android.com/apk/res/android">
    
    <!-- ========== –†–ê–ó–†–ï–®–ï–ù–ò–Ø –î–õ–Ø –£–í–ï–î–û–ú–õ–ï–ù–ò–ô ========== -->
    
    <!-- –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (Android 13+) -->
    <uses-permission android:name="android.permission.POST_NOTIFICATIONS" />
    
    <!-- –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–ª—è —Ç–æ—á–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–¥–ª—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π) -->
    <uses-permission android:name="android.permission.SCHEDULE_EXACT_ALARM" />
    <uses-permission android:name="android.permission.USE_EXACT_ALARM" />
    
    <!-- –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —Ä–∞–±–æ—Ç—É –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ -->
    <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" />
    <uses-permission android:name="android.permission.WAKE_LOCK" />
    
    <!-- ========== –ö–û–ù–ï–¶ –†–ê–ó–†–ï–®–ï–ù–ò–ô –î–õ–Ø –£–í–ï–î–û–ú–õ–ï–ù–ò–ô ========== -->
    
    <application
        ...
```

#### 2. –î–æ–±–∞–≤–∏—Ç—å receivers (–í–ù–£–¢–†–ò —Ç–µ–≥–∞ `<application>`, –ü–û–°–õ–ï `<activity>`):

```xml
    <application
        android:label="YourAppName"
        ... >
        
        <activity ... >
            ...
        </activity>
        
        <!-- ========== RECEIVERS –î–õ–Ø –£–í–ï–î–û–ú–õ–ï–ù–ò–ô ========== -->
        
        <!-- Receiver –¥–ª—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π) -->
        <receiver
            android:name="com.dexterous.flutterlocalnotifications.ScheduledNotificationBootReceiver"
            android:exported="false">
            <intent-filter>
                <action android:name="android.intent.action.BOOT_COMPLETED"/>
                <action android:name="android.intent.action.MY_PACKAGE_REPLACED"/>
            </intent-filter>
        </receiver>
        
        <!-- Receiver –¥–ª—è —Ç–æ—á–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π -->
        <receiver
            android:name="com.dexterous.flutterlocalnotifications.ScheduledNotificationReceiver"
            android:exported="false" />
        
        <!-- ========== –ö–û–ù–ï–¶ RECEIVERS –î–õ–Ø –£–í–ï–î–û–ú–õ–ï–ù–ò–ô ========== -->
        
    </application>
</manifest>
```

### –§–∞–π–ª: `android/app/src/main/res/drawable/ic_notification.xml`

–°–æ–∑–¥–∞—Ç—å –∏–∫–æ–Ω–∫—É –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –±–µ–ª–∞—è –Ω–∞ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–º —Ñ–æ–Ω–µ):

```xml
<?xml version="1.0" encoding="utf-8"?>
<!-- –ò–∫–æ–Ω–∫–∞ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π - –î–û–õ–ñ–ù–ê –ë–´–¢–¨ –ë–ï–õ–û–ô! -->
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24">
    
    <!-- –ë–µ–ª–∞—è –∏–∫–æ–Ω–∫–∞ –∫–æ–ª–æ–∫–æ–ª—å—á–∏–∫–∞ (–ø—Ä–∏–º–µ—Ä) -->
    <path
        android:fillColor="#FFFFFFFF"
        android:pathData="M12,22c1.1,0 2,-0.9 2,-2h-4c0,1.1 0.9,2 2,2zM18,16v-5c0,-3.07 -1.63,-5.64 -4.5,-6.32V4c0,-0.83 -0.67,-1.5 -1.5,-1.5s-1.5,0.67 -1.5,1.5v0.68C7.64,5.36 6,7.92 6,11v5l-2,2v1h16v-1l-2,-2z"/>
</vector>
```

**–í–ê–ñ–ù–û:** –ò–∫–æ–Ω–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–∞ Android –î–û–õ–ñ–ù–ê –±—ã—Ç—å:
- –ë–µ–ª–æ–≥–æ —Ü–≤–µ—Ç–∞ (#FFFFFF)
- –ù–∞ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–º —Ñ–æ–Ω–µ
- –í —Ñ–æ—Ä–º–∞—Ç–µ vector drawable
- –†–∞–∑–º–µ—Ä 24x24dp

---

## üçé iOS –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø

### –§–∞–π–ª: `ios/Runner/Info.plist`

–î–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –Ω–∞ iOS —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ Info.plist –ù–ï –¢–†–ï–ë–£–ï–¢–°–Ø.
–†–∞–∑—Ä–µ—à–µ–Ω–∏—è –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç—Å—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ —á–µ—Ä–µ–∑ –∫–æ–¥.

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ** (–¥–ª—è background —Ä–µ–∂–∏–º–∞, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ):
```xml
<key>UIBackgroundModes</key>
<array>
    <string>fetch</string>
    <string>remote-notification</string>
</array>
```

---

## üì± –ì–õ–ê–í–ù–´–ô –§–ê–ô–õ main.dart

### –î–æ–±–∞–≤–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–π NavigatorKey:

```dart
import 'package:flutter/material.dart'; // –∏–ª–∏ cupertino

// ========== –ì–õ–û–ë–ê–õ–¨–ù–´–ô –ö–õ–Æ–ß –î–õ–Ø –ù–ê–í–ò–ì–ê–¶–ò–ò –ò–ó –£–í–ï–î–û–ú–õ–ï–ù–ò–ô ==========
/// –≠—Ç–æ—Ç –∫–ª—é—á –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é –∏–∑ –ª—é–±–æ–≥–æ –º–µ—Å—Ç–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è,
/// –≤–∫–ª—é—á–∞—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∫–æ—Ç–æ—Ä—ã–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –≤ background
final GlobalKey<NavigatorState> navigatorKey = GlobalKey<NavigatorState>();

void main() async {
  WidgetsFlutterBinding.ensureInitialized();
  
  // ... –¥—Ä—É–≥–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ...
  
  runApp(const MyApp());
}
```

### –ü–µ—Ä–µ–¥–∞—Ç—å navigatorKey –≤ MaterialApp/CupertinoApp:

```dart
class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      // ========== –í–ê–ñ–ù–û: –ü–ï–†–ï–î–ê–Å–ú NAVIGATOR KEY ==========
      navigatorKey: navigatorKey,
      
      title: 'Your App',
      home: const SplashScreen(),
      
      // ========== –†–û–£–¢–ò–ù–ì –î–õ–Ø –ù–ê–í–ò–ì–ê–¶–ò–ò –ò–ó –£–í–ï–î–û–ú–õ–ï–ù–ò–ô ==========
      onGenerateRoute: (settings) {
        switch (settings.name) {
          case '/home':
            return MaterialPageRoute(builder: (_) => const HomeScreen());
          
          // –≠—Ç–æ—Ç —Ä–æ—É—Ç –Ω—É–∂–µ–Ω –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
          case '/booking-details':
            final bookingId = settings.arguments as String;
            return MaterialPageRoute(
              builder: (_) => BookingDetailScreen(bookingId: bookingId),
            );
          
          default:
            return MaterialPageRoute(builder: (_) => const HomeScreen());
        }
      },
    );
  }
}
```

---

## üîî –°–ï–†–í–ò–° –£–í–ï–î–û–ú–õ–ï–ù–ò–ô

### –§–∞–π–ª: `lib/services/notification_service.dart`

**–ü–û–õ–ù–´–ô –ö–û–î –°–ï–†–í–ò–°–ê (—Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–ª–∏–∫–æ–º):**

```dart
import 'dart:typed_data';
import 'package:flutter/foundation.dart';
import 'package:flutter/material.dart' show Color;
import 'package:flutter_local_notifications/flutter_local_notifications.dart';
import 'package:timezone/timezone.dart' as tz;
import 'package:timezone/data/latest_all.dart' as tz;

// –í–ê–ñ–ù–û: –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å navigatorKey –∏–∑ main.dart
import '../main.dart' show navigatorKey;

// ============================================================
// –ì–õ–û–ë–ê–õ–¨–ù–´–ô –û–ë–†–ê–ë–û–¢–ß–ò–ö BACKGROUND –£–í–ï–î–û–ú–õ–ï–ù–ò–ô
// ============================================================
// –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –î–û–õ–ñ–ù–ê –±—ã—Ç—å –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ —Ñ–∞–π–ª–∞ (–Ω–µ –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞)
// –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è @pragma –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ background

@pragma('vm:entry-point')
void notificationTapBackground(NotificationResponse notificationResponse) {
  debugPrint('üîî BACKGROUND –£–í–ï–î–û–ú–õ–ï–ù–ò–ï –ü–û–õ–£–ß–ï–ù–û!');
  debugPrint('üîî ID: ${notificationResponse.id}');
  debugPrint('üîî Payload: ${notificationResponse.payload}');
  
  _handleNotificationNavigation(notificationResponse.payload);
}

/// –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
void _handleNotificationNavigation(String? payload) {
  if (payload == null || payload.isEmpty) {
    debugPrint('‚ö†Ô∏è Payload –ø—É—Å—Ç–æ–π, –Ω–∞–≤–∏–≥–∞—Ü–∏—è –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è');
    return;
  }

  debugPrint('üîî –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏: $payload');

  // –†–∞–∑–±–∏—Ä–∞–µ–º payload —Ñ–æ—Ä–º–∞—Ç–∞ "—Ç–∏–ø:id"
  final parts = payload.split(':');
  if (parts.length != 2) {
    debugPrint('‚ö†Ô∏è –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç payload: $payload');
    return;
  }

  final type = parts[0]; // 'booking', 'order', 'reminder' –∏ —Ç.–¥.
  final id = parts[1];   // ID —Å—É—â–Ω–æ—Å—Ç–∏

  // –ò—Å–ø–æ–ª—å–∑—É–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–π navigatorKey –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
  final context = navigatorKey.currentContext;
  if (context == null) {
    debugPrint('‚ö†Ô∏è Navigator context –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω');
    return;
  }

  // –ù–∞–≤–∏–≥–∞—Ü–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
  switch (type) {
    case 'booking':
    case 'order':
      Navigator.of(context).pushNamed('/booking-details', arguments: id);
      break;
    case 'test':
      debugPrint('üß™ –¢–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: $id');
      break;
    default:
      debugPrint('‚ö†Ô∏è –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ç–∏–ø —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: $type');
  }
}

// ============================================================
// –ö–õ–ê–°–° –°–ï–†–í–ò–°–ê –£–í–ï–î–û–ú–õ–ï–ù–ò–ô
// ============================================================

class NotificationService {
  // Singleton pattern
  static final NotificationService _instance = NotificationService._internal();
  NotificationService._internal();
  static NotificationService get instance => _instance;

  final FlutterLocalNotificationsPlugin _localNotifications =
      FlutterLocalNotificationsPlugin();

  bool _initialized = false;

  // ============================================================
  // –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø
  // ============================================================
  
  /// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
  /// –í—ã–∑—ã–≤–∞—Ç—å –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–≤ SplashScreen –∏–ª–∏ main)
  Future<bool> initialize() async {
    if (_initialized) return true;

    try {
      debugPrint('üîî [INIT] –ù–∞—á–∞–ª–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π...');

      // 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è timezone
      tz.initializeTimeZones();
      // –í–ê–ñ–ù–û: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å –¥–ª—è –≤–∞—à–µ–≥–æ —Ä–µ–≥–∏–æ–Ω–∞
      tz.setLocalLocation(tz.getLocation('Europe/Moscow'));
      debugPrint('üîî [INIT] ‚úÖ Timezone: Europe/Moscow');

      // 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è Android
      // –í–ê–ñ–ù–û: –ò–º—è –∏–∫–æ–Ω–∫–∏ –¥–æ–ª–∂–Ω–æ —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å —Ñ–∞–π–ª–æ–º –≤ res/drawable/
      const androidSettings = AndroidInitializationSettings(
        '@drawable/ic_notification', // –ò–º—è —Ñ–∞–π–ª–∞ –±–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
      );

      // 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è iOS
      const iosSettings = DarwinInitializationSettings(
        requestAlertPermission: true,
        requestBadgePermission: true,
        requestSoundPermission: true,
      );

      // 4. –û–±—ä–µ–¥–∏–Ω—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
      const initSettings = InitializationSettings(
        android: androidSettings,
        iOS: iosSettings,
      );

      // 5. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–≥–∏–Ω–∞
      await _localNotifications.initialize(
        initSettings,
        onDidReceiveNotificationResponse: _onNotificationTapped,
      );
      debugPrint('üîî [INIT] ‚úÖ FlutterLocalNotifications –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω');

      // 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –¥–ª—è Android 12+
      await _checkAndRequestExactAlarmPermission();

      _initialized = true;
      debugPrint('üîî [INIT] ‚úÖ –°–µ—Ä–≤–∏—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ');
      return true;
    } catch (e) {
      debugPrint('‚ùå [INIT] –û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏: $e');
      return false;
    }
  }

  /// –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –∑–∞–ø—Ä–æ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ —Ç–æ—á–Ω—ã–µ –±—É–¥–∏–ª—å–Ω–∏–∫–∏ (Android 12+)
  Future<void> _checkAndRequestExactAlarmPermission() async {
    final androidPlugin = _localNotifications
        .resolvePlatformSpecificImplementation<
          AndroidFlutterLocalNotificationsPlugin
        >();

    if (androidPlugin == null) return;

    final canSchedule = await androidPlugin.canScheduleExactNotifications();
    debugPrint('üîî [INIT] canScheduleExactNotifications: $canSchedule');

    if (canSchedule == null || !canSchedule) {
      debugPrint('‚ö†Ô∏è [INIT] –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —Ç–æ—á–Ω—ã–µ alarm\'—ã...');
      final granted = await androidPlugin.requestExactAlarmsPermission();
      debugPrint('üîî [INIT] –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ: ${granted == true ? "‚úÖ" : "‚ùå"}');
    }
  }

  /// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π)
  @pragma('vm:entry-point')
  static void _onNotificationTapped(NotificationResponse response) {
    debugPrint('üîî –ù–∞–∂–∞—Ç–∏–µ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ:');
    debugPrint('   ID: ${response.id}');
    debugPrint('   Payload: ${response.payload}');
    
    _handleNotificationNavigation(response.payload);
  }

  // ============================================================
  // –ù–ï–ú–ï–î–õ–ï–ù–ù–û–ï –£–í–ï–î–û–ú–õ–ï–ù–ò–ï
  // ============================================================

  /// –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
  Future<void> showNotification({
    required String title,
    required String body,
    String? payload,
  }) async {
    try {
      const androidDetails = AndroidNotificationDetails(
        'general_notifications',        // Channel ID
        '–û–±—â–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è',             // Channel Name
        channelDescription: '–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è',
        importance: Importance.max,
        priority: Priority.high,
        showWhen: true,
        enableLights: true,
        enableVibration: true,
        playSound: true,
        fullScreenIntent: true,
        channelShowBadge: true,
        autoCancel: true,
      );

      const iosDetails = DarwinNotificationDetails(
        presentAlert: true,
        presentBadge: true,
        presentSound: true,
      );

      const details = NotificationDetails(
        android: androidDetails,
        iOS: iosDetails,
      );

      // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID
      final notificationId = DateTime.now().millisecondsSinceEpoch % 100000;

      await _localNotifications.show(
        notificationId,
        title,
        body,
        details,
        payload: payload,
      );
      
      debugPrint('‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞–Ω–æ: $title');
    } catch (e) {
      debugPrint('‚ùå –û—à–∏–±–∫–∞ –ø–æ–∫–∞–∑–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: $e');
    }
  }

  // ============================================================
  // –ó–ê–ü–õ–ê–ù–ò–†–û–í–ê–ù–ù–û–ï –£–í–ï–î–û–ú–õ–ï–ù–ò–ï
  // ============================================================

  /// –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –≤—Ä–µ–º—è
  Future<bool> scheduleNotification({
    required int id,
    required String title,
    required String body,
    required DateTime scheduledTime,
    String? payload,
  }) async {
    try {
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤—Ä–µ–º—è –≤ –±—É–¥—É—â–µ–º
      if (scheduledTime.isBefore(DateTime.now())) {
        debugPrint('‚ö†Ô∏è –í—Ä–µ–º—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –ø—Ä–æ—à–ª–æ–º, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º');
        return false;
      }

      // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ TZDateTime
      final tzScheduledTime = tz.TZDateTime.from(scheduledTime, tz.local);

      final androidDetails = AndroidNotificationDetails(
        'scheduled_notifications',
        '–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è',
        channelDescription: '–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∏ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è',
        importance: Importance.max,
        priority: Priority.max,
        showWhen: true,
        enableLights: true,
        ledColor: const Color(0xFFFF0000),
        ledOnMs: 1000,
        ledOffMs: 500,
        enableVibration: true,
        vibrationPattern: Int64List.fromList([0, 500, 250, 500]),
        playSound: true,
        fullScreenIntent: true,
        channelShowBadge: true,
        autoCancel: false,
        visibility: NotificationVisibility.public,
      );

      const iosDetails = DarwinNotificationDetails(
        presentAlert: true,
        presentBadge: true,
        presentSound: true,
      );

      final details = NotificationDetails(
        android: androidDetails,
        iOS: iosDetails,
      );

      await _localNotifications.zonedSchedule(
        id,
        title,
        body,
        tzScheduledTime,
        details,
        androidScheduleMode: AndroidScheduleMode.exactAllowWhileIdle,
        uiLocalNotificationDateInterpretation:
            UILocalNotificationDateInterpretation.absoluteTime,
        payload: payload,
      );

      debugPrint('‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ:');
      debugPrint('   ID: $id');
      debugPrint('   –í—Ä–µ–º—è: $tzScheduledTime');
      debugPrint('   –ó–∞–≥–æ–ª–æ–≤–æ–∫: $title');
      
      return true;
    } catch (e) {
      debugPrint('‚ùå –û—à–∏–±–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: $e');
      return false;
    }
  }

  // ============================================================
  // –ù–ê–ü–û–ú–ò–ù–ê–ù–ò–Ø (–ü–†–ò–ú–ï–† –î–õ–Ø –ë–†–û–ù–ò–†–û–í–ê–ù–ò–ô)
  // ============================================================

  /// –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∑–∞ 24 —á–∞—Å–∞
  /// eventTime - –≤—Ä–µ–º—è —Å–æ–±—ã—Ç–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—Ä–µ–º—è –ø–æ–µ–∑–¥–∫–∏)
  /// eventId - ID —Å–æ–±—ã—Ç–∏—è –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
  /// eventDescription - –æ–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è —Ç–µ–∫—Å—Ç–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
  Future<bool> scheduleReminder24Hours({
    required DateTime eventTime,
    required String eventId,
    required String eventDescription,
  }) async {
    // –í—ã—á–∏—Å–ª—è–µ–º –≤—Ä–µ–º—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è: –∑–∞ 1 –¥–µ–Ω—å, –≤ 9:00 —É—Ç—Ä–∞
    final reminderDate = eventTime.subtract(const Duration(days: 1));
    final reminderTime = DateTime(
      reminderDate.year,
      reminderDate.month,
      reminderDate.day,
      9, // 9:00 —É—Ç—Ä–∞
      0,
    );

    if (reminderTime.isBefore(DateTime.now())) {
      debugPrint('‚ö†Ô∏è [24H] –í—Ä–µ–º—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –≤ –ø—Ä–æ—à–ª–æ–º');
      return false;
    }

    return scheduleNotification(
      id: '${eventId}_24h'.hashCode,
      title: 'üìÖ –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ: –∑–∞–≤—Ç—Ä–∞',
      body: '$eventDescription –∑–∞–≤—Ç—Ä–∞ –≤ ${_formatTime(eventTime)}',
      scheduledTime: reminderTime,
      payload: 'booking:$eventId',
    );
  }

  /// –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∑–∞ 1 —á–∞—Å
  Future<bool> scheduleReminder1Hour({
    required DateTime eventTime,
    required String eventId,
    required String eventDescription,
  }) async {
    final reminderTime = eventTime.subtract(const Duration(hours: 1));

    if (reminderTime.isBefore(DateTime.now())) {
      debugPrint('‚ö†Ô∏è [1H] –í—Ä–µ–º—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –≤ –ø—Ä–æ—à–ª–æ–º');
      return false;
    }

    return scheduleNotification(
      id: '${eventId}_1h'.hashCode,
      title: '‚è∞ –ß–µ—Ä–µ–∑ 1 —á–∞—Å',
      body: '$eventDescription –≤ ${_formatTime(eventTime)}',
      scheduledTime: reminderTime,
      payload: 'booking:$eventId',
    );
  }

  /// –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –¥–ª—è —Å–æ–±—ã—Ç–∏—è
  Future<void> scheduleAllReminders({
    required DateTime eventTime,
    required String eventId,
    required String eventDescription,
  }) async {
    await Future.wait([
      scheduleReminder24Hours(
        eventTime: eventTime,
        eventId: eventId,
        eventDescription: eventDescription,
      ),
      scheduleReminder1Hour(
        eventTime: eventTime,
        eventId: eventId,
        eventDescription: eventDescription,
      ),
    ]);
  }

  String _formatTime(DateTime time) {
    return '${time.hour.toString().padLeft(2, '0')}:${time.minute.toString().padLeft(2, '0')}';
  }

  // ============================================================
  // –û–¢–ú–ï–ù–ê –£–í–ï–î–û–ú–õ–ï–ù–ò–ô
  // ============================================================

  /// –û—Ç–º–µ–Ω–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è —Å–æ–±—ã—Ç–∏—è –ø–æ ID
  Future<void> cancelEventNotifications(String eventId) async {
    try {
      await _localNotifications.cancel('${eventId}_24h'.hashCode);
      await _localNotifications.cancel('${eventId}_1h'.hashCode);
      debugPrint('‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è $eventId –æ—Ç–º–µ–Ω–µ–Ω—ã');
    } catch (e) {
      debugPrint('‚ùå –û—à–∏–±–∫–∞ –æ—Ç–º–µ–Ω—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π: $e');
    }
  }

  /// –û—Ç–º–µ–Ω–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ ID
  Future<void> cancelNotification(int id) async {
    try {
      await _localNotifications.cancel(id);
      debugPrint('‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ $id –æ—Ç–º–µ–Ω–µ–Ω–æ');
    } catch (e) {
      debugPrint('‚ùå –û—à–∏–±–∫–∞ –æ—Ç–º–µ–Ω—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: $e');
    }
  }

  /// –û—Ç–º–µ–Ω–∏—Ç—å –í–°–ï —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
  Future<void> cancelAllNotifications() async {
    try {
      await _localNotifications.cancelAll();
      debugPrint('‚úÖ –í—Å–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–º–µ–Ω–µ–Ω—ã');
    } catch (e) {
      debugPrint('‚ùå –û—à–∏–±–∫–∞ –æ—Ç–º–µ–Ω—ã –≤—Å–µ—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π: $e');
    }
  }

  // ============================================================
  // –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –ú–ï–¢–û–î–´
  // ============================================================

  /// –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
  Future<List<PendingNotificationRequest>> getPendingNotifications() async {
    try {
      return await _localNotifications.pendingNotificationRequests();
    } catch (e) {
      debugPrint('‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞: $e');
      return [];
    }
  }

  // ============================================================
  // –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï
  // ============================================================

  /// –¢–µ—Å—Ç: –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
  Future<void> testNotificationNow() async {
    await showNotification(
      title: 'üß™ –¢–µ—Å—Ç (—Å–µ–π—á–∞—Å)',
      body: '–≠—Ç–æ —Ç–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ',
      payload: 'test:now',
    );
  }

  /// –¢–µ—Å—Ç: —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
  Future<void> testNotification5Seconds() async {
    final time = DateTime.now().add(const Duration(seconds: 5));
    await scheduleNotification(
      id: 99991,
      title: 'üß™ –¢–µ—Å—Ç (5 —Å–µ–∫)',
      body: '–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥',
      scheduledTime: time,
      payload: 'test:5sec',
    );
  }

  /// –¢–µ—Å—Ç: —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥ (–∑–∞–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ!)
  Future<void> testNotification10Seconds() async {
    final time = DateTime.now().add(const Duration(seconds: 10));
    await scheduleNotification(
      id: 99992,
      title: 'üß™ –¢–µ—Å—Ç (10 —Å–µ–∫)',
      body: '–ó–ê–ö–†–û–ô–¢–ï –ü–†–ò–õ–û–ñ–ï–ù–ò–ï! –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ background',
      scheduledTime: time,
      payload: 'test:10sec',
    );
  }
}
```

---

## üöÄ –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –í SPLASHSCREEN

### –ü—Ä–∏–º–µ—Ä –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:

```dart
import 'package:flutter/material.dart';
import '../services/notification_service.dart';

class SplashScreen extends StatefulWidget {
  const SplashScreen({super.key});

  @override
  State<SplashScreen> createState() => _SplashScreenState();
}

class _SplashScreenState extends State<SplashScreen> {
  @override
  void initState() {
    super.initState();
    _initialize();
  }

  Future<void> _initialize() async {
    // ... –¥—Ä—É–≥–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (–∞–Ω–∏–º–∞—Ü–∏–∏ –∏ —Ç.–¥.)
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
    await NotificationService.instance.initialize();
    
    // –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —ç–∫—Ä–∞–Ω
    if (mounted) {
      Navigator.of(context).pushReplacementNamed('/home');
    }
  }

  @override
  Widget build(BuildContext context) {
    return const Scaffold(
      body: Center(
        child: CircularProgressIndicator(),
      ),
    );
  }
}
```

---

## üì≤ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï –í –ü–†–ò–õ–û–ñ–ï–ù–ò–ò

### 1. –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å–µ–π—á–∞—Å:

```dart
await NotificationService.instance.showNotification(
  title: '–ó–∞–∫–∞–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω',
  body: '–í–∞—à –∑–∞–∫–∞–∑ #123 —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω',
  payload: 'order:123', // —Ñ–æ—Ä–º–∞—Ç: —Ç–∏–ø:id
);
```

### 2. –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ:

```dart
await NotificationService.instance.scheduleNotification(
  id: 12345,
  title: '–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ',
  body: '–ù–µ –∑–∞–±—É–¥—å—Ç–µ –ø—Ä–æ –≤—Å—Ç—Ä–µ—á—É!',
  scheduledTime: DateTime.now().add(Duration(hours: 2)),
  payload: 'reminder:meeting_1',
);
```

### 3. –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –¥–ª—è —Å–æ–±—ã—Ç–∏—è:

```dart
// –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–∫–∞–∑–∞/–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
await NotificationService.instance.scheduleAllReminders(
  eventTime: DateTime(2025, 12, 25, 14, 30), // –í—Ä–µ–º—è —Å–æ–±—ã—Ç–∏—è
  eventId: 'booking_123',
  eventDescription: '–ü–æ–µ–∑–¥–∫–∞ –î–æ–Ω–µ—Ü–∫ ‚Üí –†–æ—Å—Ç–æ–≤',
);
```

### 4. –û—Ç–º–µ–Ω–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ –∑–∞–∫–∞–∑–∞:

```dart
await NotificationService.instance.cancelEventNotifications('booking_123');
```

### 5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

```dart
// –ö–Ω–æ–ø–∫–∞ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
ElevatedButton(
  onPressed: () async {
    await NotificationService.instance.testNotificationNow();
    await NotificationService.instance.testNotification5Seconds();
    await NotificationService.instance.testNotification10Seconds();
    
    ScaffoldMessenger.of(context).showSnackBar(
      SnackBar(content: Text('3 —Ç–µ—Å—Ç–æ–≤—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω—ã')),
    );
  },
  child: Text('–¢–µ—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π'),
)
```

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –ò–ù–¢–ï–ì–†–ê–¶–ò–ò

### –®–∞–≥ 1: –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å `flutter_local_notifications: ^18.0.1` –≤ pubspec.yaml
- [ ] –î–æ–±–∞–≤–∏—Ç—å `timezone: ^0.9.4` –≤ pubspec.yaml
- [ ] –í—ã–ø–æ–ª–Ω–∏—Ç—å `flutter pub get`

### –®–∞–≥ 2: Android
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤ AndroidManifest.xml
- [ ] –î–æ–±–∞–≤–∏—Ç—å receivers –≤ AndroidManifest.xml
- [ ] –°–æ–∑–¥–∞—Ç—å –∏–∫–æ–Ω–∫—É `ic_notification.xml` (–±–µ–ª–∞—è –Ω–∞ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–º —Ñ–æ–Ω–µ)

### –®–∞–≥ 3: –ö–æ–¥
- [ ] –î–æ–±–∞–≤–∏—Ç—å `navigatorKey` –≤ main.dart
- [ ] –ü–µ—Ä–µ–¥–∞—Ç—å `navigatorKey` –≤ MaterialApp/CupertinoApp
- [ ] –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `notification_service.dart`
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–æ—É—Ç—ã –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (`/booking-details`)

### –®–∞–≥ 4: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
- [ ] –í—ã–∑–≤–∞—Ç—å `NotificationService.instance.initialize()` –≤ SplashScreen

### –®–∞–≥ 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥ (–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç–æ)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥ (–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ó–ê–ö–†–´–¢–û)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

---

## üêõ –ß–ê–°–¢–´–ï –ü–†–û–ë–õ–ï–ú–´ –ò –†–ï–®–ï–ù–ò–Ø

### –ü—Ä–æ–±–ª–µ–º–∞: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –Ω–∞ Android 12+
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è `SCHEDULE_EXACT_ALARM` –∏ `USE_EXACT_ALARM`

### –ü—Ä–æ–±–ª–µ–º–∞: –ò–∫–æ–Ω–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫ –∫–≤–∞–¥—Ä–∞—Ç
**–†–µ—à–µ–Ω–∏–µ:** –ò–∫–æ–Ω–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ë–ï–õ–û–ô –Ω–∞ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–º —Ñ–æ–Ω–µ

### –ü—Ä–æ–±–ª–µ–º–∞: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å `ScheduledNotificationBootReceiver` –≤ AndroidManifest

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–∞–≤–∏–≥–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ `navigatorKey` –ø–µ—Ä–µ–¥–∞–Ω –≤ MaterialApp

### –ü—Ä–æ–±–ª–µ–º–∞: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `AndroidScheduleMode.exactAllowWhileIdle`

---

## üìÅ –°–¢–†–£–ö–¢–£–†–ê –§–ê–ô–õ–û–í

```
your_app/
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ main.dart                    # navigatorKey + —Ä–æ—É—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ services/
‚îÇ       ‚îî‚îÄ‚îÄ notification_service.dart # –≤–µ—Å—å –∫–æ–¥ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
‚îú‚îÄ‚îÄ android/
‚îÇ   ‚îî‚îÄ‚îÄ app/
‚îÇ       ‚îî‚îÄ‚îÄ src/
‚îÇ           ‚îî‚îÄ‚îÄ main/
‚îÇ               ‚îú‚îÄ‚îÄ AndroidManifest.xml  # —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è + receivers
‚îÇ               ‚îî‚îÄ‚îÄ res/
‚îÇ                   ‚îî‚îÄ‚îÄ drawable/
‚îÇ                       ‚îî‚îÄ‚îÄ ic_notification.xml  # –∏–∫–æ–Ω–∫–∞
‚îú‚îÄ‚îÄ ios/
‚îÇ   ‚îî‚îÄ‚îÄ Runner/
‚îÇ       ‚îî‚îÄ‚îÄ Info.plist               # (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îî‚îÄ‚îÄ pubspec.yaml                     # –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 23 –¥–µ–∫–∞–±—Ä—è 2025
**–í–µ—Ä—Å–∏—è:** 1.0
**–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞:** Flutter 3.x, Android 12+, iOS 15+
