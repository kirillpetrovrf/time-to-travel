# –¢–ï–•–ù–ò–ß–ï–°–ö–û–ï –ó–ê–î–ê–ù–ò–ï (–¢–ó) v3.0
## –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ "Time to Travel"

### –°–¢–ê–¢–£–° –î–û–ö–£–ú–ï–ù–¢–ê: 
- **–í–µ—Ä—Å–∏—è**: 3.0 (–§–∏–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞)
- **–î–∞—Ç–∞**: 30 —Å–µ–Ω—Ç—è–±—Ä—è 2025
- **–°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**: –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

---

## 1. –û–ë–©–ï–ï –û–ü–ò–°–ê–ù–ò–ï –ü–†–û–ï–ö–¢–ê

### 1.1 –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
**"Time to Travel"** ‚Äî –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –º–µ–∂–¥—É–≥–æ—Ä–æ–¥–Ω–∏—Ö –ø–µ—Ä–µ–≤–æ–∑–æ–∫ –º–µ–∂–¥—É –≥–æ—Ä–æ–¥–∞–º–∏ –î–æ–Ω–µ—Ü–∫ –∏ –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É —Å —Å–∏—Å—Ç–µ–º–æ–π –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –æ—Å—Ç–∞–Ω–æ–≤–æ–∫, –±–∞–≥–∞–∂–∞ –∏ –∂–∏–≤–æ—Ç–Ω—ã—Ö. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ —É–¥–æ–±—Å—Ç–≤–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–≤.

### 1.2 –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è
- **–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏**: –ü–∞—Å—Å–∞–∂–∏—Ä—ã, –ø—É—Ç–µ—à–µ—Å—Ç–≤—É—é—â–∏–µ –º–µ–∂–¥—É –î–æ–Ω–µ—Ü–∫–æ–º –∏ –†–æ—Å—Ç–æ–≤–æ–º-–Ω–∞-–î–æ–Ω—É
- **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏**: –î–∏—Å–ø–µ—Ç—á–µ—Ä—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞–º–∏ –∏ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏
- **–ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –æ—Ö–≤–∞—Ç**: –î–ù–†, –†–æ—Å—Å–∏—è (–ø—Ä–∏–≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Ä–µ–≥–∏–æ–Ω—ã)

### 1.3 –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
- **–§—Ä–æ–Ω—Ç–µ–Ω–¥**: Flutter 3.x (Dart)
- **–ë—ç–∫–µ–Ω–¥**: Firebase (Authentication, Firestore Database, Cloud Functions)
- **UI Framework**: Cupertino Design System (iOS-—Å—Ç–∏–ª—å)
- **–ö–∞—Ä—Ç—ã**: Yandex Maps SDK (–¥–ª—è —Å–≤–æ–±–æ–¥–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤)
- **Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: Firebase Cloud Messaging (FCM)
- **–í–Ω–µ—à–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**: 
  - Telegram Bot API (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä—É)
  - VKontakte API (–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
- **–ü–ª–∞—Ç—Ñ–æ—Ä–º—ã**: iOS, Android

### 1.4 –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
1. **–î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è**: –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã vs –°–≤–æ–±–æ–¥–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç
2. **–î–µ—Ç–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ—Å—Ç–∞–Ω–æ–≤–æ–∫**: 11 –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤ –º–µ–∂–¥—É –≥–æ—Ä–æ–¥–∞–º–∏
3. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞–∂–æ–º**: 4 –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–∞–∑–º–µ—Ä–æ–≤ (1 –±–∞–≥–∞–∂–Ω–æ–µ –º–µ—Å—Ç–æ –±–µ—Å–ø–ª–∞—Ç–Ω–æ)
4. **–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∂–∏–≤–æ—Ç–Ω—ã—Ö**: 3 —Ä–∞–∑–º–µ—Ä–∞ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏
5. **VK-–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è**: –†–∞–∑–æ–≤–∞—è —Å–∫–∏–¥–∫–∞ 300‚ÇΩ –¥–ª—è –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
6. **Telegram-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä—É
7. **Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∑–∞ 24—á –∏ 1—á –¥–æ –ø–æ–µ–∑–¥–∫–∏
8. **–í—ã–±–æ—Ä –∞–≤—Ç–æ–º–æ–±–∏–ª—è**: –î–ª—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö –ø–æ–µ–∑–¥–æ–∫ (—Å–µ–¥–∞–Ω, —É–Ω–∏–≤–µ—Ä—Å–∞–ª, –º–∏–Ω–∏–≤—ç–Ω, –º–∏–∫—Ä–æ–∞–≤—Ç–æ–±—É—Å)

---

## 2. –¢–†–ï–ë–û–í–ê–ù–ò–Ø –ö–õ–ò–ï–ù–¢–ê: –î–ò–ó–ê–ô–ù –ò –ë–†–ï–ù–î–ò–ù–ì

### 2.1 –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ (–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞)
**–û—Å–Ω–æ–≤–Ω–∞—è –ø–∞–ª–∏—Ç—Ä–∞ (–Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–∞–π—Ç–∞ –∫–ª–∏–µ–Ω—Ç–∞):**
- **–ö—Ä–∞—Å–Ω—ã–π**: `#E53E3E` - –æ—Å–Ω–æ–≤–Ω–æ–π –∞–∫—Ü–µ–Ω—Ç–Ω—ã–π —Ü–≤–µ—Ç –¥–ª—è –∫–Ω–æ–ø–æ–∫, –∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- **–ß–µ—Ä–Ω—ã–π**: `#1A1A1A` - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–¢–µ–º–Ω–æ-—Å–µ—Ä—ã–π**: `#2D2D2D` - –≤—Ç–æ—Ä–∏—á–Ω—ã–π —Ñ–æ–Ω –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- **–ë–µ–ª—ã–π**: `#FFFFFF` - –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –∏ –∏–∫–æ–Ω–æ–∫
- **–ö—Ä–∞—Å–Ω–∞—è –æ—à–∏–±–∫–∞**: `#FF3B30` - –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö
- **–ó–µ–ª–µ–Ω—ã–π —É—Å–ø–µ—Ö**: `#34C759` - –¥–ª—è —É—Å–ø–µ—à–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤:**
- –í—Å–µ –∫–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π: –∫—Ä–∞—Å–Ω—ã–π —Ñ–æ–Ω + –±–µ–ª—ã–π —Ç–µ–∫—Å—Ç
- –§–æ–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: —á–µ—Ä–Ω—ã–π –∏–ª–∏ —Ç–µ–º–Ω–æ-—Å–µ—Ä—ã–π
- –¢–µ–∫—Å—Ç: –±–µ–ª—ã–π –Ω–∞ —Ç–µ–º–Ω–æ–º —Ñ–æ–Ω–µ
- –ê–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã (TabBar, –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã): –∫—Ä–∞—Å–Ω—ã–π
- –ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã: —Å–µ—Ä—ã–π (#8E8E93)

### 2.2 Splash Screen (–ó–∞—Å—Ç–∞–≤–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ)
**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ª–æ–≥–æ—Ç–∏–ø—É:**
- **–§–æ—Ä–º–∞—Ç**: –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ª–æ–≥–æ—Ç–∏–ø –∫–ª–∏–µ–Ω—Ç–∞
- **–§–æ–Ω**: –ì—Ä–∞–¥–∏–µ–Ω—Ç –∏–∑ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤ (—á–µ—Ä–Ω—ã–π ‚Üí —Ç–µ–º–Ω–æ-—Å–µ—Ä—ã–π)
- **–ê–Ω–∏–º–∞—Ü–∏—è**: –ü–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ —Å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- **–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: 2-3 —Å–µ–∫—É–Ω–¥—ã
- **–ü–µ—Ä–µ—Ö–æ–¥**: Fade out –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É —ç–∫—Ä–∞–Ω—É

### 2.3 –ò–∫–æ–Ω–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –õ–æ–≥–æ—Ç–∏–ø –∫–ª–∏–µ–Ω—Ç–∞ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ Apple Human Interface Guidelines
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ Material Design Guidelines
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—Å–µ—Ö —Ä–∞–∑–º–µ—Ä–æ–≤: 1024x1024, 512x512, 256x256, 128x128, 64x64

### 2.4 –°—Ç–∏–ª—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- **–û–±—â–∏–π —Å—Ç–∏–ª—å**: Dark Theme —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ Cupertino Design
- **–¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞**: San Francisco (iOS), Roboto (Android)
- **–ó–∞–∫—Ä—É–≥–ª–µ–Ω–∏—è**: 12px –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫, 8px –¥–ª—è –∫–Ω–æ–ø–æ–∫
- **–¢–µ–Ω–∏**: –ú—è–≥–∫–∏–µ —Ç–µ–Ω–∏ –¥–ª—è –≤—ã–¥–µ–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- **–ü–µ—Ä–µ—Ö–æ–¥—ã**: –ü–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ 300ms –¥–ª—è –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

---

## 3. –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –°–ò–°–¢–ï–ú–´ –ú–ê–†–®–†–£–¢–û–í

### 3.1 –î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

#### 3.1.1 –£—Ä–æ–≤–µ–Ω—å 1: –¢–∏–ø –º–∞—Ä—à—Ä—É—Ç–∞
**A. –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã (–ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ)**
- –î–æ–Ω–µ—Ü–∫ ‚Üî –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É
- –í–∫–ª—é—á–∞–µ—Ç –≤—Å–µ 11 –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö –æ—Å—Ç–∞–Ω–æ–≤–æ–∫
- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å
- –ë—ã—Å—Ç—Ä–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

**B. –°–≤–æ–±–æ–¥–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç (–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä)**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Yandex Maps API –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ: `–±–∞–∑–æ–≤–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å + (–∫–∏–ª–æ–º–µ—Ç—Ä—ã √ó –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç)`
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º—É–ª–æ–π**: –î–∏—Å–ø–µ—Ç—á–µ—Ä –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- **–£—Å–ª–æ–≤–∏–µ –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è**: –ï—Å–ª–∏ —Ü–µ–Ω–∞ –º–µ–Ω—å—à–µ 1,000‚ÇΩ, —Ç–æ –º–∏–Ω–∏–º—É–º 1,000‚ÇΩ
- **–û–∫—Ä—É–≥–ª–µ–Ω–∏–µ –≤–≤–µ—Ä—Ö**: –ï—Å–ª–∏ —Ü–µ–Ω–∞ 21,150‚ÇΩ, —Ç–æ –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ –¥–æ 22,000‚ÇΩ

```dart
class FreeRouteCalculator {
  static double calculatePrice(double distanceKm, {
    double basePrice = 500,
    double pricePerKm = 15,
    double cityFee = 200,
  }) {
    double price = basePrice + (distanceKm * pricePerKm) + cityFee;
    
    // –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞
    if (price < 1000) price = 1000;
    
    // –û–∫—Ä—É–≥–ª–µ–Ω–∏–µ –≤–≤–µ—Ä—Ö –¥–æ —Ç—ã—Å—è—á
    return (price / 1000).ceil() * 1000;
  }
}
```

#### 3.1.2 –£—Ä–æ–≤–µ–Ω—å 2: –¢–∏–ø –ø–æ–µ–∑–¥–∫–∏
**A. –ì—Ä—É–ø–ø–æ–≤–∞—è –ø–æ–µ–∑–¥–∫–∞: 2,000‚ÇΩ –∑–∞ –º–µ—Å—Ç–æ**
- –û–∂–∏–¥–∞–Ω–∏–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –≥—Ä—É–ø–ø—ã (1-8 —á–µ–ª–æ–≤–µ–∫)
- **–†–µ–π—Å—ã –æ—Å—É—â–µ—Å—Ç–≤–ª—è—é—Ç—Å—è –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ** (—Ö–æ—Ç—å –ø–æ–ª–Ω–∞—è –º–∞—à–∏–Ω–∞, —Ö–æ—Ç—å 1 –ø–∞—Å—Å–∞–∂–∏—Ä)
- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –º–µ—Å—Ç–æ "–ö—É–¥–∞" –∏ "–û—Ç–∫—É–¥–∞"
- **–í—ã–±–æ—Ä –º–∞—à–∏–Ω—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç** - –Ω–∞–∑–Ω–∞—á–∞–µ—Ç—Å—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–º

**B. –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –ø–æ–µ–∑–¥–∫–∞**
- **–î–Ω–µ–≤–Ω–∞—è**: 8,000‚ÇΩ (–¥–æ 22:00)
- **–ù–æ—á–Ω–∞—è**: 10,000‚ÇΩ (–ø–æ—Å–ª–µ 22:00)
- –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ì–∏–±–∫–æ–µ –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –õ—é–±–æ–µ –º–µ—Å—Ç–æ "–ö—É–¥–∞" –∏ "–û—Ç–∫—É–¥–∞"
- **–í—ã–±–æ—Ä –∞–≤—Ç–æ–º–æ–±–∏–ª—è**: —Å–µ–¥–∞–Ω, —É–Ω–∏–≤–µ—Ä—Å–∞–ª, –º–∏–Ω–∏–≤—ç–Ω, –º–∏–∫—Ä–æ–∞–≤—Ç–æ–±—É—Å

```dart
enum VehicleType {
  sedan('–°–µ–¥–∞–Ω'),
  wagon('–£–Ω–∏–≤–µ—Ä—Å–∞–ª'),
  minivan('–ú–∏–Ω–∏–≤—ç–Ω'),
  microbus('–ú–∏–∫—Ä–æ–∞–≤—Ç–æ–±—É—Å');
  
  const VehicleType(this.displayName);
  final String displayName;
}

class IndividualTripPricing {
  static double getBasePrice(DateTime departureTime) {
    final hour = departureTime.hour;
    return hour >= 22 || hour < 6 ? 10000 : 8000; // –ù–æ—á–Ω–∞—è/–¥–Ω–µ–≤–Ω–∞—è
  }
}
```

### 3.2 –î–µ—Ç–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ—Å—Ç–∞–Ω–æ–≤–æ–∫

#### 3.2.1 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞:**
- –í–≤–æ–¥ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–∏–±—ã—Ç–∏—è –¥–ª—è –∫–∞–∂–¥–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –æ—Å—Ç–∞–Ω–æ–≤–æ–∫ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ–º
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —á–µ—Ä–µ–∑ API
- –£—á–µ—Ç –ø—Ä–æ–±–æ–∫ –∏ –∑–∞–¥–µ—Ä–∂–µ–∫

#### 3.2.2 –ú–∞—Ä—à—Ä—É—Ç –î–æ–Ω–µ—Ü–∫ ‚Üí –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É
**–ë–∞–∑–æ–≤–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ (–ø—Ä–∏–º–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è –ø—Ä–∏ –≤—ã–µ–∑–¥–µ –≤ 00:00):**
```
1. –î–æ–Ω–µ—Ü–∫ (–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∞–≤—Ç–æ–≤–æ–∫–∑–∞–ª) - 00:00
2. –ú–∞–∫–µ–µ–≤–∫–∞ (–ø–ª. –õ–µ–Ω–∏–Ω–∞) - –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–º
3. –•–∞—Ä—Ü—ã–∑—Å–∫ (–ê–≤—Ç–æ—Å—Ç–∞–Ω—Ü–∏—è) - –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–º
4. –ò–ª–æ–≤–∞–π—Å–∫ (–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ø–ª–æ—â–∞–¥—å) - –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–º
5. –ö—É—Ç–µ–π–Ω–∏–∫–æ–≤–æ (–û—Å—Ç–∞–Ω–æ–≤–∫–∞ —É –º–∞–≥–∞–∑–∏–Ω–∞) - –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–º
6. –ê–º–≤—Ä–æ—Å–∏–µ–≤–∫–∞ (–ê–≤—Ç–æ—Å—Ç–∞–Ω—Ü–∏—è) - –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–º
7. –ö–ü–ü –£–°–ü–ï–ù–ö–ê (–ì—Ä–∞–Ω–∏—Ü–∞ –î–ù–†-–†–§) - 01:30 (02:30 —Å –ø—Ä–æ–±–∫–∞–º–∏)
8. –ú–∞—Ç–≤–µ–µ–≤-–ö—É—Ä–≥–∞–Ω (–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ø–ª–æ—â–∞–¥—å) - –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–º
9. –ü–æ–∫—Ä–æ–≤—Å–∫–æ–µ (–ê–≤—Ç–æ–±—É—Å–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞) - –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–º
10. –¢–∞–≥–∞–Ω—Ä–æ–≥ (–ê–≤—Ç–æ–≤–æ–∫–∑–∞–ª) - –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–º
11. –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É (–ì–ª–∞–≤–Ω—ã–π –∞–≤—Ç–æ–≤–æ–∫–∑–∞–ª) - 03:00 (04:00 —Å –ø—Ä–æ–±–∫–∞–º–∏)
```

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```dart
class RouteSchedule {
  final String stopId;
  final String stopName;
  final Duration estimatedTime;
  final Duration estimatedTimeWithTraffic;
  final bool isActive;
  final bool isCustomizable;
  
  const RouteSchedule({
    required this.stopId,
    required this.stopName,
    required this.estimatedTime,
    required this.estimatedTimeWithTraffic,
    required this.isActive,
    required this.isCustomizable,
  });
}

class ScheduleService {
  Future<void> updateStopSchedule(String stopId, Duration newTime) async {
    await FirebaseFirestore.instance
        .collection('route_schedules')
        .doc(stopId)
        .update({'estimatedTime': newTime.inMinutes});
  }
  
  Future<void> toggleStopActive(String stopId, bool isActive) async {
    await FirebaseFirestore.instance
        .collection('route_schedules')
        .doc(stopId)
        .update({'isActive': isActive});
  }
}
```

---

## 4. –°–ò–°–¢–ï–ú–ê –ë–ê–ì–ê–ñ–ê (–û–ë–ù–û–í–õ–ï–ù–ù–ê–Ø)

### 4.1 –ù–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –±–∞–≥–∞–∂–∞
**–û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ**: 1 –ø–∞—Å—Å–∞–∂–∏—Ä = 1 –±–∞–≥–∞–∂–Ω–æ–µ –º–µ—Å—Ç–æ **–ë–ï–°–ü–õ–ê–¢–ù–û**
**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –±–∞–≥–∞–∂**: –¶–µ–Ω—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–º —á–µ—Ä–µ–∑ API
**–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ**: –û—Ç 1 –¥–æ 10 —Å—É–º–æ–∫ –Ω–∞ –ø–∞—Å—Å–∞–∂–∏—Ä–∞

### 4.1.1 –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –±–∞–≥–∞–∂–∞ (–≤—Å–µ –±–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –º–µ—Å—Ç–∞)
**–†–∞–∑–º–µ—Ä S (–ú–∞–ª—ã–π)**
- **–ì–∞–±–∞—Ä–∏—Ç—ã**: 30√ó40√ó20 —Å–º
- **–ü—Ä–∏–º–µ—Ä—ã**: –†—é–∫–∑–∞–∫, –Ω–µ–±–æ–ª—å—à–∞—è —Å—É–º–∫–∞
- **–í–µ—Å**: –¥–æ 10 –∫–≥
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: –±–µ—Å–ø–ª–∞—Ç–Ω–æ (–≤—Ö–æ–¥–∏—Ç –≤ —Å—Ç–æ–∏–º–æ—Å—Ç—å –±–∏–ª–µ—Ç–∞)

**–†–∞–∑–º–µ—Ä M (–°—Ä–µ–¥–Ω–∏–π)**
- **–ì–∞–±–∞—Ä–∏—Ç—ã**: 50√ó60√ó25 —Å–º
- **–ü—Ä–∏–º–µ—Ä—ã**: –°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è —Å—É–º–∫–∞, —Å—Ä–µ–¥–Ω–∏–π —á–µ–º–æ–¥–∞–Ω
- **–í–µ—Å**: –¥–æ 20 –∫–≥
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: –±–µ—Å–ø–ª–∞—Ç–Ω–æ (–≤—Ö–æ–¥–∏—Ç –≤ —Å—Ç–æ–∏–º–æ—Å—Ç—å –±–∏–ª–µ—Ç–∞)

**–†–∞–∑–º–µ—Ä L (–ë–æ–ª—å—à–æ–π)**
- **–ì–∞–±–∞—Ä–∏—Ç—ã**: 70√ó80√ó30 —Å–º
- **–ü—Ä–∏–º–µ—Ä—ã**: –ë–æ–ª—å—à–æ–π —á–µ–º–æ–¥–∞–Ω, –∫–æ—Ä–æ–±–∫–∞
- **–í–µ—Å**: –¥–æ 32 –∫–≥
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: –±–µ—Å–ø–ª–∞—Ç–Ω–æ (–≤—Ö–æ–¥–∏—Ç –≤ —Å—Ç–æ–∏–º–æ—Å—Ç—å –±–∏–ª–µ—Ç–∞)

**–†–∞–∑–º–µ—Ä CUSTOM (–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π)**
- **–ì–∞–±–∞—Ä–∏—Ç—ã**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Ä—É—á–Ω—É—é (–î√ó–®√ó–í)
- **–ü—Ä–∏–º–µ—Ä—ã**: –ì–∏—Ç–∞—Ä–∞, –º–∏–∫—Ä–æ–≤–æ–ª–Ω–æ–≤–∫–∞, –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã
- **–ü–æ–ª–µ –æ–ø–∏—Å–∞–Ω–∏—è**: "–ß—Ç–æ –≤–µ–∑–µ—Ç–µ?" (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ)
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: –±–µ—Å–ø–ª–∞—Ç–Ω–æ (–≤—Ö–æ–¥–∏—Ç –≤ —Å—Ç–æ–∏–º–æ—Å—Ç—å –±–∏–ª–µ—Ç–∞)

### 4.1.2 –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤—ã–±–æ—Ä–∞ –±–∞–≥–∞–∂–∞ (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π)
**UX Flow:**
1. –≠–∫—Ä–∞–Ω "–ë–∞–≥–∞–∂" —Å —á–µ—Ç—ã—Ä—å–º—è –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ —Ä–∞–∑–º–µ—Ä–æ–≤ (S/M/L/CUSTOM)
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞:
   - –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–∫–æ–Ω–∫–∞
   - –û–ø–∏—Å–∞–Ω–∏–µ –≥–∞–±–∞—Ä–∏—Ç–æ–≤
   - –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–µ–¥–º–µ—Ç–æ–≤
   - "–ë–ï–°–ü–õ–ê–¢–ù–û" –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –º–µ—Å—Ç–∞
3. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –µ–¥–∏–Ω–∏—Ü –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ (—Å—Ç–µ–ø–ø–µ—Ä: 1-10 —Å –∫–Ω–æ–ø–∫–æ–π +)
4. –î–ª—è CUSTOM: –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –ø–æ–ª—è–º–∏ –≤–≤–æ–¥–∞ –≥–∞–±–∞—Ä–∏—Ç–æ–≤
5. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –±–∞–≥–∞–∂**: –¶–µ–Ω—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–∞ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–º)

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```dart
class BaggageItem {
  final String id;
  final BaggageSize size;
  final int quantity;
  final String? description;
  final Dimensions? customDimensions;
  final double pricePerExtraItem; // –¶–µ–Ω–∞ –∑–∞ –¥–æ–ø. –±–∞–≥–∞–∂
  
  double calculateCost() {
    if (quantity <= 1) return 0; // –ü–µ—Ä–≤–æ–µ –º–µ—Å—Ç–æ –±–µ—Å–ø–ª–∞—Ç–Ω–æ
    return (quantity - 1) * pricePerExtraItem;
  }
}

class BaggagePricingService {
  Future<Map<BaggageSize, double>> getExtraBaggagePrices() async {
    final doc = await FirebaseFirestore.instance
        .collection('settings')
        .doc('baggage_pricing')
        .get();
    
    return {
      BaggageSize.s: doc.data()?['extra_s_price'] ?? 0,
      BaggageSize.m: doc.data()?['extra_m_price'] ?? 0,
      BaggageSize.l: doc.data()?['extra_l_price'] ?? 0,
      BaggageSize.custom: doc.data()?['extra_custom_price'] ?? 0,
    };
  }
}
```

---

## 5. –°–ò–°–¢–ï–ú–ê –¢–†–ê–ù–°–ü–û–†–¢–ò–†–û–í–ö–ò –ñ–ò–í–û–¢–ù–´–• (–û–ë–ù–û–í–õ–ï–ù–ù–ê–Ø)

### 5.1 –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∂–∏–≤–æ—Ç–Ω—ã—Ö

#### 5.1.1 –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–æ–≤ (—É–±—Ä–∞–Ω —Ä–∞–∑–º–µ—Ä XS)
**–†–∞–∑–º–µ—Ä S (–ú–∞–ª–µ–Ω—å–∫–∏–π)**
- **–ü—Ä–∏–º–µ—Ä—ã**: –ö–æ—à–∫–∞, –º–∞–ª–µ–Ω—å–∫–∞—è —Å–æ–±–∞–∫–∞ (—á–∏—Ö—É–∞—Ö—É–∞, —Ç–æ–π-—Ç–µ—Ä—å–µ—Ä)
- **–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞**: –í –ø–µ—Ä–µ–Ω–æ—Å–∫–µ –≤ —Å–∞–ª–æ–Ω–µ
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: +500‚ÇΩ
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**: –î–æ 8 –∫–≥

**–†–∞–∑–º–µ—Ä M (–°—Ä–µ–¥–Ω–∏–π)**
- **–ü—Ä–∏–º–µ—Ä—ã**: –°—Ä–µ–¥–Ω—è—è —Å–æ–±–∞–∫–∞ (—Å–ø–∞–Ω–∏–µ–ª—å, –±–∏–≥–ª—å)
- **–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞**: **–¢–æ–ª—å–∫–æ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –ø–æ–µ–∑–¥–∫–∞** (—Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –º–µ—Å—Ç–∞)
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: +2,000‚ÇΩ + –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—É—é –ø–æ–µ–∑–¥–∫—É
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**: –î–æ 25 –∫–≥
- **–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å**: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å –≥–∞–ª–æ—á–∫–æ–π - –≤–ª–∞–¥–µ–ª–µ—Ü –æ–±—è–∑—É–µ—Ç—Å—è –∏–º–µ—Ç—å –Ω–∞–º–æ—Ä–¥–Ω–∏–∫

**–†–∞–∑–º–µ—Ä L (–ë–æ–ª—å—à–æ–π)**
- **–ü—Ä–∏–º–µ—Ä—ã**: –ö—Ä—É–ø–Ω–∞—è —Å–æ–±–∞–∫–∞ (–ª–∞–±—Ä–∞–¥–æ—Ä, –Ω–µ–º–µ—Ü–∫–∞—è –æ–≤—á–∞—Ä–∫–∞)
- **–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞**: **–¢–æ–ª—å–∫–æ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –ø–æ–µ–∑–¥–∫–∞** (—Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –º–µ—Å—Ç–∞)
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: +2,000‚ÇΩ + –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—É—é –ø–æ–µ–∑–¥–∫—É
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**: –°–≤—ã—à–µ 25 –∫–≥
- **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è**: 
  - –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è —Ö–∏–º—á–∏—Å—Ç–∫–∞ –ø–æ—Å–ª–µ –ø–æ–µ–∑–¥–∫–∏
  - –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –¥–∏—Å–∫–æ–º—Ñ–æ—Ä—Ç–∞ –¥—Ä—É–≥–∏—Ö –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤
- **–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å**: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å –≥–∞–ª–æ—á–∫–æ–π - –≤–ª–∞–¥–µ–ª–µ—Ü –æ–±—è–∑—É–µ—Ç—Å—è –∏–º–µ—Ç—å –Ω–∞–º–æ—Ä–¥–Ω–∏–∫

#### 5.1.2 –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤
**–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —Å–æ–≥–ª–∞—Å–∏–µ —Å –≥–∞–ª–æ—á–∫–æ–π:**
- –¢–µ–∫—Å—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–º —á–µ—Ä–µ–∑ API
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –∫–∞–±–∏–Ω–µ—Ç–µ –∫–ª–∏–µ–Ω—Ç–∞
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —Å–æ–≥–ª–∞—Å–∏–µ –¥–ª—è —Ä–∞–∑–º–µ—Ä–æ–≤ M –∏ L

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```dart
class PetAgreementService {
  Future<String> getPetAgreementText(PetSize size) async {
    final doc = await FirebaseFirestore.instance
        .collection('settings')
        .doc('pet_agreements')
        .get();
    
    switch (size) {
      case PetSize.m:
        return doc.data()?['medium_pet_agreement'] ?? 
               '–í–ª–∞–¥–µ–ª–µ—Ü –æ–±—è–∑—É–µ—Ç—Å—è –∏–º–µ—Ç—å –Ω–∞–º–æ—Ä–¥–Ω–∏–∫ —É —Å–æ–±–∞–∫–∏.';
      case PetSize.l:
        return doc.data()?['large_pet_agreement'] ?? 
               '–í–ª–∞–¥–µ–ª–µ—Ü –æ–±—è–∑—É–µ—Ç—Å—è –∏–º–µ—Ç—å –Ω–∞–º–æ—Ä–¥–Ω–∏–∫ —É —Å–æ–±–∞–∫–∏ –∏ —Å–æ–≥–ª–∞—Å–µ–Ω —Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–π —Ö–∏–º—á–∏—Å—Ç–∫–æ–π.';
      default:
        return '';
    }
  }
}

class PetSelectionWidget extends StatefulWidget {
  @override
  Widget build(BuildContext context) {
    return Column(
      children: [
        // –í—ã–±–æ—Ä —Ä–∞–∑–º–µ—Ä–∞ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ
        _buildPetSizeSelector(),
        
        // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∏ —Å–æ–≥–ª–∞—Å–∏–µ –¥–ª—è M/L —Ä–∞–∑–º–µ—Ä–æ–≤
        if (_selectedSize == PetSize.m || _selectedSize == PetSize.l)
          _buildAgreementSection(),
      ],
    );
  }
  
  Widget _buildAgreementSection() {
    return FutureBuilder<String>(
      future: PetAgreementService().getPetAgreementText(_selectedSize),
      builder: (context, snapshot) {
        return CheckboxListTile(
          title: Text(snapshot.data ?? ''),
          value: _agreementAccepted,
          onChanged: (value) => setState(() => _agreementAccepted = value!),
        );
      },
    );
  }
}
```

### 5.1.3 –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤—ã–±–æ—Ä–∞ –∂–∏–≤–æ—Ç–Ω—ã—Ö (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π)
**UX Flow:**
1. –≠–∫—Ä–∞–Ω "–ñ–∏–≤–æ—Ç–Ω—ã–µ" —Å —Ç—Ä–µ–º—è –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ —Ä–∞–∑–º–µ—Ä–æ–≤ (S/M/L)
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞:
   - –ò–∫–æ–Ω–∫–∞ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ
   - –ü—Ä–∏–º–µ—Ä—ã –∂–∏–≤–æ—Ç–Ω—ã—Ö
   - –°–ø–æ—Å–æ–± —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
   - –°—Ç–æ–∏–º–æ—Å—Ç—å
3. –ü—Ä–∏ –≤—ã–±–æ—Ä–µ —Ä–∞–∑–º–µ—Ä–∞ M, L:
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—É—é –ø–æ–µ–∑–¥–∫—É
   - –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —Å–æ–≥–ª–∞—Å–∏–µ —Å —É—Å–ª–æ–≤–∏—è–º–∏ (–≥–∞–ª–æ—á–∫–∞)
   - –¢–µ–∫—Å—Ç —Å–æ–≥–ª–∞—Å–∏—è –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–∞
4. –ü–æ–ª–µ "–û–ø–∏—Å–∞–Ω–∏–µ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ" (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ): –ø–æ—Ä–æ–¥–∞, –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

---

## 6. –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –° VKONTAKTE (–û–ë–ù–û–í–õ–ï–ù–ù–ê–Ø)

### 6.1 –°–∏—Å—Ç–µ–º–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ VK

#### 6.1.1 –ü—Ä–æ—Ü–µ—Å—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
**–®–∞–≥–∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —á–µ—Ä–µ–∑ VK" –≤ –ø—Ä–æ—Ñ–∏–ª–µ
2. OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ VK SDK
3. –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è:
   - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è VK
   - –ò–º—è –∏ —Ñ–∞–º–∏–ª–∏—è
   - –§–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è
   - –°—Ç–∞—Ç—É—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è
4. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ VK ID –≤ –ø—Ä–æ—Ñ–∏–ª–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
5. –ê–∫—Ç–∏–≤–∞—Ü–∏—è **—Ä–∞–∑–æ–≤–æ–π** —Å–∫–∏–¥–∫–∏ 300‚ÇΩ

#### 6.1.2 –°–∏—Å—Ç–µ–º–∞ —Å–∫–∏–¥–æ–∫ (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è)
**–õ–æ–≥–∏–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Å–∫–∏–¥–∫–∏:**
- **–†–∞–∑–º–µ—Ä —Å–∫–∏–¥–∫–∏**: 300‚ÇΩ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**: **–†–ê–ó–û–í–ê–Ø –°–ö–ò–î–ö–ê** —Ç–æ–ª—å–∫–æ –Ω–∞ –ø–µ—Ä–≤—ã–π –∑–∞–∫–∞–∑ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ**: –í –∫–æ—Ä–∑–∏–Ω–µ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π "–°–∫–∏–¥–∫–∞ VK: -300‚ÇΩ" (—Ç–æ–ª—å–∫–æ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –∑–∞–∫–∞–∑–∞)
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**: –û–¥–Ω–∞ —Å–∫–∏–¥–∫–∞ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞–≤—Å–µ–≥–¥–∞

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```dart
class VKDiscountService {
  Future<bool> canUseVKDiscount(String userId) async {
    final user = await UserService().getUser(userId);
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∫–∏–¥–∫–∏
    return user.isVKVerified && !user.hasUsedVKDiscount;
  }
  
  Future<void> markVKDiscountAsUsed(String userId) async {
    await FirebaseFirestore.instance
        .collection('users')
        .doc(userId)
        .update({'hasUsedVKDiscount': true});
  }
}

class User {
  final String id;
  final bool isVKVerified;
  final bool hasUsedVKDiscount;
  
  bool get canUseVKDiscount => isVKVerified && !hasUsedVKDiscount;
}
```

### 6.2 –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π)
**UX Flow:**
1. –í –ø—Ä–æ—Ñ–∏–ª–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–∞—Ä—Ç–æ—á–∫–∞ "–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è VK"
2. –ï—Å–ª–∏ –Ω–µ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω: –∫–Ω–æ–ø–∫–∞ "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —á–µ—Ä–µ–∑ VK" + "–ø–æ–ª—É—á–∏ —Å–∫–∏–¥–∫—É 300‚ÇΩ –Ω–∞ –ø–æ–µ–∑–¥–∫—É"
3. –ï—Å–ª–∏ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω –∏ —Å–∫–∏–¥–∫–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞: "–°–∫–∏–¥–∫–∞ 300‚ÇΩ –¥–æ—Å—Ç—É–ø–Ω–∞"
4. –ï—Å–ª–∏ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω –∏ —Å–∫–∏–¥–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞: "–°–∫–∏–¥–∫–∞ VK –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞"
5. –ü—Ä–æ—Ü–µ—Å—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏: WebView —Å VK OAuth ‚Üí –≤–æ–∑–≤—Ä–∞—Ç –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è

---

## 7. –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –° TELEGRAM

### 7.1 –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä—É

#### 7.1.1 –¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
**–ù–æ–≤—ã–π –∑–∞–∫–∞–∑ (–∫—Ä–∞—Ç–∫–∏–π —Ñ–æ—Ä–º–∞—Ç):**
```
–ù–û–í–´–ô –ó–ê–ö–ê–ó #12345

üë§ –ö–ª–∏–µ–Ω—Ç: –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤ (+7 900 123-45-67)
üìÖ –î–∞—Ç–∞: 15 –¥–µ–∫–∞–±—Ä—è 2024, 14:00
üõ£ –ú–∞—Ä—à—Ä—É—Ç: –î–æ–Ω–µ—Ü–∫ ‚Üí –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É
   ‚îî –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –î–æ–Ω–µ—Ü–∫ (–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∞–≤—Ç–æ–≤–æ–∫–∑–∞–ª)
   ‚îî –ü—Ä–∏–±—ã—Ç–∏–µ: –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É (–ì–ª–∞–≤–Ω—ã–π –∞–≤—Ç–æ–≤–æ–∫–∑–∞–ª)

üë• –¢–∏–ø: –ì—Ä—É–ø–ø–æ–≤–∞—è –ø–æ–µ–∑–¥–∫–∞ (2 –ø–∞—Å—Å–∞–∂–∏—Ä–∞)
üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å: 2,000‚ÇΩ

üß≥ –ë–∞–≥–∞–∂: –ë–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –±–∞–≥–∞–∂–∞
üêï –ñ–∏–≤–æ—Ç–Ω—ã–µ: –°—Ä–µ–¥–Ω—è—è —Å–æ–±–∞–∫–∞ (—Ä–∞–∑–º–µ—Ä M): +2,000‚ÇΩ

üí≥ –ò—Ç–æ–≥–æ –∫ –æ–ø–ª–∞—Ç–µ: 4,000‚ÇΩ
‚úÖ –°—Ç–∞—Ç—É—Å: –û–∂–∏–¥–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

[–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å] [–û—Ç–∫–ª–æ–Ω–∏—Ç—å] [–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏]
```

**–ö—Ä–∞—Ç–∫–∏–π —Ñ–æ—Ä–º–∞—Ç (–∫–∞–∫ –≤ –ø—Ä–∏–º–µ—Ä–µ –∫–ª–∏–µ–Ω—Ç–∞):**
```
29.09 1 —á–µ–ª 6:00
–†–æ—Å—Ç–æ–≤ - –ú–∞–∫–µ–µ–≤–∫–∞ 
+79490490677 –ì–µ–æ—Ä–≥–∏–π
–ë–µ–∑ –±–∞–≥–∞–∂–∞ 
2000‚ÇΩ
```

**–û—Ç–º–µ–Ω–∞ –∑–∞–∫–∞–∑–∞:**
```
‚ùå –û–¢–ú–ï–ù–ê –ó–ê–ö–ê–ó–ê #12345

üë§ –ö–ª–∏–µ–Ω—Ç: –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤
üìÖ –û—Ç–º–µ–Ω–µ–Ω–∞ –ø–æ–µ–∑–¥–∫–∞: 15 –¥–µ–∫–∞–±—Ä—è 2024, 14:00
üõ£ –ú–∞—Ä—à—Ä—É—Ç: –î–æ–Ω–µ—Ü–∫ ‚Üí –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É
üí∞ –í–æ–∑–≤—Ä–∞—Ç: 4,000‚ÇΩ

‚è∞ –í—Ä–µ–º—è –¥–æ –ø–æ–µ–∑–¥–∫–∏: 18 —á–∞—Å–æ–≤
üìã –ü—Ä–∏—á–∏–Ω–∞: –ò–∑–º–µ–Ω–∏–ª–∏—Å—å –ø–ª–∞–Ω—ã
```

#### 7.1.2 –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
```dart
class TelegramService {
  static const String botToken = 'BOT_TOKEN';
  static const String dispatcherChatId = 'DISPATCHER_CHAT_ID';
  
  Future<void> sendShortOrderNotification(Order order) async {
    final message = _formatShortOrderMessage(order);
    await _sendMessage(dispatcherChatId, message);
  }
  
  String _formatShortOrderMessage(Order order) {
    final date = DateFormat('dd.MM').format(order.departureDate);
    final time = DateFormat('HH:mm').format(order.departureTime);
    
    return '''
${date} ${order.passengerCount} —á–µ–ª ${time}
${order.route.from} - ${order.route.to}
${order.clientPhone} ${order.clientName}
${order.baggageInfo.isEmpty ? '–ë–µ–∑ –±–∞–≥–∞–∂–∞' : order.baggageInfo}
${order.totalPrice}‚ÇΩ
    ''';
  }
}
```

---

## 8. –°–ò–°–¢–ï–ú–ê PUSH-–£–í–ï–î–û–ú–õ–ï–ù–ò–ô

### 8.1 –¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

#### 8.1.1 –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è-–Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
**–ó–∞ 24 —á–∞—Å–∞ –¥–æ –ø–æ–µ–∑–¥–∫–∏:**
```
‚è∞ –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –ø–æ–µ–∑–¥–∫–µ

–ó–∞–≤—Ç—Ä–∞ –≤ 14:00 –≤–∞—à–∞ –ø–æ–µ–∑–¥–∫–∞ –î–æ–Ω–µ—Ü–∫ ‚Üí –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É
–ó–∞–∫–∞–∑ #12345

üìç –ú–µ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è: –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∞–≤—Ç–æ–≤–æ–∫–∑–∞–ª
‚è∞ –í—Ä–µ–º—è: 15 –¥–µ–∫–∞–±—Ä—è, 14:00

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å:
‚Ä¢ –î–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –≥—Ä–∞–Ω–∏—Ü—ã
‚Ä¢ –î–æ–∫—É–º–µ–Ω—Ç—ã –Ω–∞ –∂–∏–≤–æ—Ç–Ω—ã—Ö (–µ—Å–ª–∏ –µ—Å—Ç—å)
‚Ä¢ –ë—ã—Ç—å –Ω–∞ –º–µ—Å—Ç–µ –∑–∞ 15 –º–∏–Ω—É—Ç –¥–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è
```

**–ó–∞ 1 —á–∞—Å –¥–æ –ø–æ–µ–∑–¥–∫–∏:**
```
üöó –°–∫–æ—Ä–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–µ!

–ß–µ—Ä–µ–∑ —á–∞—Å –≤–∞—à–∞ –ø–æ–µ–∑–¥–∫–∞ –î–æ–Ω–µ—Ü–∫ ‚Üí –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É
–ó–∞–∫–∞–∑ #12345

üìç –ú–µ—Å—Ç–æ: –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∞–≤—Ç–æ–≤–æ–∫–∑–∞–ª
‚è∞ –í—Ä–µ–º—è: 15 –¥–µ–∫–∞–±—Ä—è, 14:00
üöó –í–æ–¥–∏—Ç–µ–ª—å —É–∂–µ –≤ –ø—É—Ç–∏ –∫ –º–µ—Å—Ç—É –ø–æ—Å–∞–¥–∫–∏

üì± –ö–æ–Ω—Ç–∞–∫—Ç –≤–æ–¥–∏—Ç–µ–ª—è: +7 900 555-44-33
```

#### 8.1.2 –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ –∑–∞–∫–∞–∑–∞
**–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞:**
```
‚úÖ –ó–∞–∫–∞–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω!

–í–∞—à –∑–∞–∫–∞–∑ #12345 –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–º
–ü–æ–µ–∑–¥–∫–∞: –î–æ–Ω–µ—Ü–∫ ‚Üí –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É
–î–∞—Ç–∞: 15 –¥–µ–∫–∞–±—Ä—è 2024, 14:00

–î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
```

**–û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞:**
```
‚ùå –ó–∞–∫–∞–∑ –æ—Ç–∫–ª–æ–Ω–µ–Ω

–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –≤–∞—à –∑–∞–∫–∞–∑ #12345 –æ—Ç–∫–ª–æ–Ω–µ–Ω
–ü—Ä–∏—á–∏–Ω–∞: –ù–µ—Ç —Å–≤–æ–±–æ–¥–Ω—ã—Ö –º–µ—Å—Ç –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—É—é –¥–∞—Ç—É

üí∞ –°—Ä–µ–¥—Å—Ç–≤–∞ –≤–æ–∑–≤—Ä–∞—â–µ–Ω—ã –Ω–∞ –≤–∞—à —Å—á–µ—Ç
üîÑ –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥—É—é –¥–∞—Ç—É
```

#### 8.1.3 –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞
**–°—Ä–∞–∑—É –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è:**
```
–°–ø–∞—Å–∏–±–æ –∑–∞ –∑–∞–∫–∞–∑! –ó–∞ –¥–µ–Ω—å –¥–æ –ø–æ–µ–∑–¥–∫–∏ –≤–æ–¥–∏—Ç–µ–ª—å —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ 
–∏–ª–∏ –Ω–∞–±–µ—Ä–µ—Ç –¥–∏—Å–ø–µ—Ç—á–µ—Ä –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π –ø–æ–µ–∑–¥–∫–∏.
```

---

## 9. –ê–î–ú–ò–ù–ò–°–¢–†–ê–¢–ò–í–ù–ê–Ø –ü–ê–ù–ï–õ–¨ –î–ò–°–ü–ï–¢–ß–ï–†–ê

### 9.1 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º

#### 9.1.1 –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏–π –ø–æ–µ–∑–¥–æ–∫
**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏–π –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –∏ –∞–∫—Ü–∏–π
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –∏ —Å—Ç–æ–∏–º–æ—Å—Ç–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é –º–∞—Ä—à—Ä—É—Ç–æ–≤
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º—É–ª–æ–π —Å–≤–æ–±–æ–¥–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤** (–±–∞–∑–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞, –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∑–∞ –∫–º, –≥–æ—Ä–æ–¥—Å–∫–∏–µ –¥–æ–ø–ª–∞—Ç—ã)

#### 9.1.2 –£–ø—Ä–∞–≤–ª—è–µ–º—ã–µ —á–µ—Ä–µ–∑ CMS –æ–ø–∏—Å–∞–Ω–∏—è
**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ë–ª–æ–∫ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø–æ–¥ –≤—ã–±–æ—Ä–æ–º —Ç–∏–ø–∞ –ø–æ–µ–∑–¥–∫–∏
- –ö–æ–Ω—Ç–µ–Ω—Ç —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∫–∞–±–∏–Ω–µ—Ç –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞
- API –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–ø–∏—Å–∞–Ω–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞

```dart
class ContentManagementService {
  Future<void> updateTripDescription(TripType tripType, String description) async {
    await FirebaseFirestore.instance
        .collection('content')
        .doc('trip_descriptions')
        .update({tripType.toString(): description});
  }
  
  Future<void> updateFreeRouteFormula({
    required double basePrice,
    required double pricePerKm,
    required double cityFee,
  }) async {
    await FirebaseFirestore.instance
        .collection('settings')
        .doc('free_route_pricing')
        .update({
          'basePrice': basePrice,
          'pricePerKm': pricePerKm,
          'cityFee': cityFee,
        });
  }
}
```

### 9.2 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏

#### 9.2.1 –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞–º–∏
**–§—É–Ω–∫—Ü–∏–∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∑–∞–∫–∞–∑–æ–≤ (–Ω–æ–≤—ã–µ, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã–µ, –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ)
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –≤–æ–¥–∏—Ç–µ–ª–µ–π
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤ –¥–ª—è –≥—Ä—É–ø–ø–æ–≤—ã—Ö –ø–æ–µ–∑–¥–æ–∫
- –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∫–ª–∏–µ–Ω—Ç–∞–º
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π** –¥–ª—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö –ø–æ–µ–∑–¥–æ–∫

#### 9.2.2 –°–µ–∫—Ä–µ—Ç–Ω—ã–π –≤—Ö–æ–¥ –¥–ª—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞
**–°–ø–æ—Å–æ–±—ã –≤—Ö–æ–¥–∞:**
1. **–û—Ç–¥–µ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** –¥–ª—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–≤
2. **–°–µ–∫—Ä–µ—Ç–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è**: 7 —Ä–∞–∑ –Ω–∞–∂–∞—Ç—å –ø—Ä–∞–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª ‚Üí –≤—Ö–æ–¥ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞

```dart
class SecretDispatcherAccess {
  int _tapCount = 0;
  
  void handleTap() {
    _tapCount++;
    if (_tapCount >= 7) {
      _showDispatcherLogin();
      _tapCount = 0;
    }
    
    // –°–±—Ä–æ—Å —Å—á–µ—Ç—á–∏–∫–∞ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
    Timer(Duration(seconds: 5), () => _tapCount = 0);
  }
  
  void _showDispatcherLogin() {
    showDialog(
      context: context,
      builder: (context) => DispatcherLoginDialog(),
    );
  }
}
```

---

## 10. –†–ê–°–®–ò–†–ï–ù–ù–´–ô –ü–†–û–§–ò–õ–¨ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø

### 10.1 –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –ø—Ä–æ—Ñ–∏–ª—è

#### 10.1.1 –õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è)
**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:**
- **–§–∞–º–∏–ª–∏—è**: –ü–æ –ø–∞—Å–ø–æ—Ä—Ç—É
- **–ò–º—è**: –ü–æ–ª–Ω–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –ø–∞—Å–ø–æ—Ä—Ç—É
- **–û—Ç—á–µ—Å—Ç–≤–æ**: –ü–æ –∂–µ–ª–∞–Ω–∏—é –∫–ª–∏–µ–Ω—Ç–∞
- **–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è**: –î–ª—è –≤–æ–∑—Ä–∞—Å—Ç–Ω—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –∏ —Å–∫–∏–¥–æ–∫
- **–ü–æ–ª**: –ú—É–∂—Å–∫–æ–π/–ñ–µ–Ω—Å–∫–∏–π (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ–º)
- **–î–æ–≤–µ—Ä–µ–Ω–Ω–æ–µ –ª–∏—Ü–æ**: –¢–µ–ª–µ—Ñ–æ–Ω –¥–ª—è —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ —Å —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞–º–∏

**–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:**
- –§–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è
- –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–æ–µ–∑–¥–æ–∫
- –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤

#### 10.1.2 –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –±–æ–Ω—É—Å—ã
**VK –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è:**
- –°—Ç–∞—Ç—É—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –ò–º—è –∏–∑ VK –ø—Ä–æ—Ñ–∏–ª—è
- –§–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è VK
- –î–∞—Ç–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –ê–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–∑–æ–≤–∞—è —Å–∫–∏–¥–∫–∞ 300‚ÇΩ

**–ò—Å—Ç–æ—Ä–∏—è –ø–æ–µ–∑–¥–æ–∫:**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–µ–∑–¥–æ–∫
- –°—Ç–∞—Ç—É—Å –∫–ª–∏–µ–Ω—Ç–∞ (–Ω–æ–≤—ã–π, –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π, VIP)
- –ù–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–µ –±–æ–Ω—É—Å—ã
- –ò—Å—Ç–æ—Ä–∏—è –æ—Ç–∑—ã–≤–æ–≤

```dart
class ExpandedUserProfile {
  final String id;
  final String phone;
  final String firstName;
  final String lastName;
  final String? middleName;
  final DateTime birthDate;
  final Gender gender;
  final String emergencyContact;
  final String? profilePhotoUrl;
  
  // VK –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
  final bool isVKVerified;
  final String? vkId;
  final String? vkName;
  final String? vkPhotoUrl;
  final bool hasUsedVKDiscount;
  
  // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
  final int completedTrips;
  final CustomerTier tier;
  final List<Review> reviews;
}

enum Gender { male, female }
enum CustomerTier { new, regular, vip }
```

---

## 11. –ö–ê–õ–¨–ö–£–õ–Ø–¢–û–† –°–í–û–ë–û–î–ù–´–• –ú–ê–†–®–†–£–¢–û–í

### 11.1 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Yandex Maps

#### 11.1.1 –†–∞—Å—á–µ—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –∏ —Å—Ç–æ–∏–º–æ—Å—Ç–∏
**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- –ê–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç –∞–¥—Ä–µ—Å–æ–≤ —á–µ—Ä–µ–∑ Yandex Geocoding API
- –†–∞—Å—á–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞ —á–µ—Ä–µ–∑ Yandex Directions API
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è
- –£—á–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ—Å—Ç–∏ –¥–æ—Ä–æ–≥ –∏ –ø—Ä–æ–±–æ–∫

**–§–æ—Ä–º—É–ª–∞ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è (—É–ø—Ä–∞–≤–ª—è–µ–º–∞—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–º):**
```
–°—Ç–æ–∏–º–æ—Å—Ç—å = –ë–∞–∑–æ–≤–∞—è_—Å—Ç–∞–≤–∫–∞ + (–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ_–∫–º √ó –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç_–∑–∞_–∫–º) + –ì–æ—Ä–æ–¥—Å–∫–∏–µ_–¥–æ–ø–ª–∞—Ç—ã
```

**–ì–¥–µ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å):**
- **–ë–∞–∑–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞**: 500‚ÇΩ (—Å—Ç–∞—Ä—Ç–æ–≤–∞—è —Ü–µ–Ω–∞)
- **–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∑–∞ –∫–º**: 15‚ÇΩ/–∫–º
- **–ì–æ—Ä–æ–¥—Å–∫–∏–µ –¥–æ–ø–ª–∞—Ç—ã**: +200‚ÇΩ –ø—Ä–∏ –ø–æ–µ–∑–¥–∫–µ –≤ –∫—Ä—É–ø–Ω—ã–µ –≥–æ—Ä–æ–¥–∞

#### 11.1.2 –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
```dart
class YandexMapsService {
  static const String apiKey = 'YANDEX_MAPS_API_KEY';
  
  Future<RouteCalculationResult> calculateRoute({
    required String fromAddress,
    required String toAddress,
  }) async {
    // 1. Geocoding - –ø–æ–ª—É—á–∞–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
    final fromCoords = await _geocodeAddress(fromAddress);
    final toCoords = await _geocodeAddress(toAddress);
    
    // 2. Directions - —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –º–∞—Ä—à—Ä—É—Ç
    final route = await _calculateDirections(fromCoords, toCoords);
    
    // 3. –ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è
    final pricing = await _loadPricingSettings();
    
    // 4. –¶–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º
    final price = _calculatePriceWithRounding(route.distanceKm, pricing);
    
    return RouteCalculationResult(
      distance: route.distanceKm,
      duration: route.durationMinutes,
      price: price,
      waypoints: route.waypoints,
    );
  }
  
  double _calculatePriceWithRounding(double distanceKm, PricingSettings pricing) {
    double price = pricing.basePrice + 
                   (distanceKm * pricing.pricePerKm) + 
                   pricing.cityFee;
    
    // –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ 1,000‚ÇΩ
    if (price < 1000) price = 1000;
    
    // –û–∫—Ä—É–≥–ª–µ–Ω–∏–µ –≤–≤–µ—Ä—Ö –¥–æ —Ç—ã—Å—è—á
    return (price / 1000).ceil() * 1000.0;
  }
}

class PricingSettings {
  final double basePrice;
  final double pricePerKm;
  final double cityFee;
  
  const PricingSettings({
    required this.basePrice,
    required this.pricePerKm,
    required this.cityFee,
  });
}
```

### 11.2 –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
**UX Flow:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç "–°–≤–æ–±–æ–¥–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç"
2. –î–≤–∞ –ø–æ–ª—è –≤–≤–æ–¥–∞ —Å –∞–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç–æ–º:
   - "–û—Ç–∫—É–¥–∞" (—Ç–µ–∫—É—â–µ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
   - "–ö—É–¥–∞"
3. –ü—Ä–∏ –≤–≤–æ–¥–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –ø–æ–¥—Å–∫–∞–∑–∫–∏ –∞–¥—Ä–µ—Å–æ–≤
4. –ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –∞–¥—Ä–µ—Å–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç:
   - –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –≤ –∫–º
   - –í—Ä–µ–º—è –≤ –ø—É—Ç–∏
   - –°—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ–µ–∑–¥–∫–∏ (—Å —É—á–µ—Ç–æ–º –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è)
5. –ö–Ω–æ–ø–∫–∞ "–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å" ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –∫ –≤—ã–±–æ—Ä—É —Ç–∏–ø–∞ –ø–æ–µ–∑–¥–∫–∏

---

## 12. –°–¢–ê–¢–£–°–´ –ò –ñ–ò–ó–ù–ï–ù–ù–´–ô –¶–ò–ö–õ –ó–ê–ö–ê–ó–û–í

### 12.1 –°–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–∫–∞–∑–∞

#### 12.1.1 –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã
**CREATED** (–°–æ–∑–¥–∞–Ω)
- –ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- –û–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –ø—Ä–µ–¥–æ–ø–ª–∞—Ç–∞)
- –î–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**PENDING** (–û–∂–∏–¥–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è)
- –ó–∞–∫–∞–∑ –æ–ø–ª–∞—á–µ–Ω –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –¥–∏—Å–ø–µ—Ç—á–µ—Ä—É
- –î–∏—Å–ø–µ—Ç—á–µ—Ä –ø–æ–ª—É—á–∏–ª —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç "–û–∂–∏–¥–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è"

**CONFIRMED** (–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω)
- –î–∏—Å–ø–µ—Ç—á–µ—Ä –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –∑–∞–∫–∞–∑
- –ù–∞–∑–Ω–∞—á–µ–Ω –≤–æ–¥–∏—Ç–µ–ª—å –∏ –∞–≤—Ç–æ–º–æ–±–∏–ª—å
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

**IN_PROGRESS** (–í –ø—É—Ç–∏)
- –ü–æ–µ–∑–¥–∫–∞ –Ω–∞—á–∞–ª–∞—Å—å
- –ê–∫—Ç–∏–≤–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è
- –î–æ—Å—Ç—É–ø–Ω–∞ —Å–≤—è–∑—å —Å –≤–æ–¥–∏—Ç–µ–ª–µ–º

**COMPLETED** (–ó–∞–≤–µ—Ä—à–µ–Ω)
- –ü–æ–µ–∑–¥–∫–∞ —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
- –î–æ—Å—Ç—É–ø–Ω–∞ –æ—Ü–µ–Ω–∫–∞ –∏ –æ—Ç–∑—ã–≤
- –ó–∞–∫–∞–∑ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ –∏—Å—Ç–æ—Ä–∏—é

**CANCELLED** (–û—Ç–º–µ–Ω–µ–Ω)
- –û—Ç–º–µ–Ω–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∏–ª–∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–º
- –í–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤ (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)
- –£–∫–∞–∑–∞–Ω–∏–µ –ø—Ä–∏—á–∏–Ω—ã –æ—Ç–º–µ–Ω—ã

```dart
enum OrderStatus {
  created,
  pending,
  confirmed,
  inProgress,
  completed,
  cancelled,
}

class OrderStateMachine {
  static bool canTransition(OrderStatus from, OrderStatus to) {
    switch (from) {
      case OrderStatus.created:
        return [OrderStatus.pending, OrderStatus.cancelled].contains(to);
      case OrderStatus.pending:
        return [OrderStatus.confirmed, OrderStatus.cancelled].contains(to);
      case OrderStatus.confirmed:
        return [OrderStatus.inProgress, OrderStatus.cancelled].contains(to);
      case OrderStatus.inProgress:
        return [OrderStatus.completed, OrderStatus.cancelled].contains(to);
      case OrderStatus.completed:
      case OrderStatus.cancelled:
        return false; // –§–∏–Ω–∞–ª—å–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
    }
  }
}
```

### 12.2 –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º
**–ü—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞:**
- Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram –¥–∏—Å–ø–µ—Ç—á–µ—Ä—É 
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

---

## 13. –°–ò–°–¢–ï–ú–ê –û–ü–õ–ê–¢–´ –ò –¶–ï–ù–û–û–ë–†–ê–ó–û–í–ê–ù–ò–Ø

### 13.1 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è

#### 13.1.1 –ë–∞–∑–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å
**–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã:**
- **–î–æ–Ω–µ—Ü–∫ ‚Üî –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É**: 2,000‚ÇΩ –∑–∞ –ø–æ—Å–∞–¥–∫—É
- **–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏**: 2,000‚ÇΩ –∑–∞ –ø–æ—Å–∞–¥–∫—É
- **–ì—Ä—É–ø–ø–æ–≤–∞—è –ø–æ–µ–∑–¥–∫–∞**: 2,000‚ÇΩ –∑–∞ –ø–æ—Å–∞–¥–∫—É
- **–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –ø–æ–µ–∑–¥–∫–∞**: 8,000‚ÇΩ (–¥–Ω–µ–º) / 10,000‚ÇΩ (–Ω–æ—á—å—é)

#### 13.1.2 –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏
**–ë–∞–≥–∞–∂:**
- **–ü–µ—Ä–≤–æ–µ –º–µ—Å—Ç–æ**: –ë–ï–°–ü–õ–ê–¢–ù–û (–ª—é–±–æ–π —Ä–∞–∑–º–µ—Ä S/M/L/Custom)
- **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –±–∞–≥–∞–∂**: –¶–µ–Ω—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–º —á–µ—Ä–µ–∑ API

**–ñ–∏–≤–æ—Ç–Ω—ã–µ:**
- **S** (–¥–æ 8 –∫–≥): +500‚ÇΩ
- **M** (–¥–æ 25 –∫–≥): +2,000‚ÇΩ + –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –ø–æ–µ–∑–¥–∫–∞
- **L** (—Å–≤—ã—à–µ 25 –∫–≥): +2,000‚ÇΩ + –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –ø–æ–µ–∑–¥–∫–∞

**–°–∫–∏–¥–∫–∏:**
- **VK –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è**: -300‚ÇΩ (—Ä–∞–∑–æ–≤–∞—è)
- **–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π –∫–ª–∏–µ–Ω—Ç** (10+ –ø–æ–µ–∑–¥–æ–∫): -5%

#### 13.1.3 –†–∞—Å—á–µ—Ç –∏—Ç–æ–≥–æ–≤–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏
```dart
class PriceCalculator {
  static double calculateTotalPrice({
    required Route route,
    required TripType tripType,
    required List<BaggageItem> baggage,
    required List<PetInfo> pets,
    required bool canUseVKDiscount,
    required CustomerTier customerTier,
    required DateTime departureTime,
  }) {
    double basePrice = route.basePrice;
    
    // –¢–∏–ø –ø–æ–µ–∑–¥–∫–∏
    if (tripType == TripType.individual) {
      basePrice = IndividualTripPricing.getBasePrice(departureTime);
    }
    
    // –ë–∞–≥–∞–∂ (–ø–µ—Ä–≤–æ–µ –º–µ—Å—Ç–æ –±–µ—Å–ø–ª–∞—Ç–Ω–æ)
    double baggagePrice = baggage.fold(0.0, (sum, item) => sum + item.calculateCost());
    
    // –ñ–∏–≤–æ—Ç–Ω—ã–µ
    double petPrice = pets.fold(0.0, (sum, pet) => sum + pet.cost);
    
    double totalPrice = basePrice + baggagePrice + petPrice;
    
    // –°–∫–∏–¥–∫–∏
    if (canUseVKDiscount) totalPrice -= 300.0;
    if (customerTier == CustomerTier.vip) totalPrice *= 0.95; // -5%
    
    return totalPrice;
  }
}
```

### 13.2 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–ª–∞—Ç–µ–∂–Ω—ã—Ö —Å–∏—Å—Ç–µ–º
**–°–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã:**
- **–ù–∞–ª–∏—á–Ω—ã–µ**: –û–ø–ª–∞—Ç–∞ –≤–æ–¥–∏—Ç–µ–ª—é –ø—Ä–∏ –ø–æ—Å–∞–¥–∫–µ
- **SBP (–°–∏—Å—Ç–µ–º–∞ –±—ã—Å—Ç—Ä—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π)**: QR-–∫–æ–¥ –æ–ø–ª–∞—Ç–∞
  - –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –≤—Å—Ç–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –≤ –∫–∞–±–∏–Ω–µ—Ç–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞
  - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–ª—é—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

```dart
class PaymentService {
  Future<String?> getSBPPaymentUrl(double amount, String orderId) async {
    final settings = await FirebaseFirestore.instance
        .collection('settings')
        .doc('payment')
        .get();
    
    final sbpEnabled = settings.data()?['sbp_enabled'] ?? false;
    if (!sbpEnabled) return null;
    
    final baseUrl = settings.data()?['sbp_url'] ?? '';
    return '$baseUrl?amount=$amount&order=$orderId';
  }
}
```

---

## 14. –ú–û–ù–ò–¢–û–†–ò–ù–ì –ò –ê–ù–ê–õ–ò–¢–ò–ö–ê

### 14.1 –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–µ–∑–¥–∫–∞—Ö

#### 14.1.1 –ú–µ—Ç—Ä–∏–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
**–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏:**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å–ø–µ—à–Ω—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
- –°—Ä–µ–¥–Ω—è—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–∫–∞–∑–∞
- –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã
- –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ –Ω–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤
- –ü—Ä–æ—Ü–µ–Ω—Ç –æ—Ç–º–µ–Ω –∑–∞–∫–∞–∑–æ–≤

```dart
class AnalyticsService {
  static void trackBookingStarted({
    required String routeType,
    required String tripType,
  }) {
    FirebaseAnalytics.instance.logEvent(
      name: 'booking_started',
      parameters: {
        'route_type': routeType,
        'trip_type': tripType,
      },
    );
  }
  
  static void trackBookingCompleted({
    required Order order,
  }) {
    FirebaseAnalytics.instance.logEvent(
      name: 'booking_completed',
      parameters: {
        'order_id': order.id,
        'total_price': order.totalPrice,
        'has_pets': order.pets.isNotEmpty,
        'extra_baggage': order.baggage.where((b) => b.quantity > 1).length,
      },
    );
  }
}
```

### 14.2 –ü–∞–Ω–µ–ª—å –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –¥–ª—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞
**–û—Å–Ω–æ–≤–Ω—ã–µ –æ—Ç—á–µ—Ç—ã:**
- –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–∫–∞–∑–æ–≤
- –ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å –º–∞—Ä—à—Ä—É—Ç–æ–≤
- –í—ã—Ä—É—á–∫–∞ –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤–æ–¥–∏—Ç–µ–ª–µ–π
- –û—Ç–∑—ã–≤—ã –∏ —Ä–µ–π—Ç–∏–Ω–≥–∏

---

## 15. –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨ –ò –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨

### 15.1 –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

#### 15.1.1 –ó–∞—â–∏—Ç–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
**–ú–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ (HTTPS/TLS)
- –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è)
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ Firebase —á–µ—Ä–µ–∑ Security Rules
- –ê—É–¥–∏—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º

**Firebase Security Rules:**
```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å –∏ –∏–∑–º–µ–Ω—è—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    // –ó–∞–∫–∞–∑—ã –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç–µ–ª—é –∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞–º
    match /orders/{orderId} {
      allow read, write: if request.auth != null && 
        (resource.data.clientId == request.auth.uid || 
         get(/databases/$(database)/documents/users/$(request.auth.uid)).data.userType == 'dispatcher');
    }
  }
}
```

#### 15.1.2 –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
**–í—Ö–æ–¥—è—â–∏–µ –¥–∞–Ω–Ω—ã–µ:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–º–µ—Ä–æ–≤ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤
- –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–æ–ª–µ–π
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ —Ñ–∞–π–ª–æ–≤

### 15.2 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

#### 15.2.1 –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ñ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º
**–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è:**
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏ –æ—Å—Ç–∞–Ω–æ–≤–æ–∫
- –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ–µ–∑–¥–æ–∫
- –û—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤

```dart
class CacheManager {
  static final _cache = <String, dynamic>{};
  
  static Future<T?> getCachedData<T>(String key) async {
    final cached = _cache[key];
    if (cached != null && !_isExpired(cached['timestamp'])) {
      return cached['data'] as T;
    }
    return null;
  }
  
  static void setCachedData(String key, dynamic data) {
    _cache[key] = {
      'data': data,
      'timestamp': DateTime.now(),
    };
  }
}
```

#### 15.2.2 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ —Ä–µ—Å—É—Ä—Å–æ–≤
- –°–∂–∞—Ç–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ª–æ–≥–æ—Ç–∏–ø–æ–≤
- –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö –∏–∫–æ–Ω–æ–∫
- –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ APK/IPA

---

## 16. –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ò –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–ï

### 16.1 –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

#### 16.1.1 –í–∏–¥—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
**Unit —Ç–µ—Å—Ç—ã:**
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ (–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ü–µ–Ω, –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö)
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –¥–∞–Ω–Ω—ã—Ö
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤

**Integration —Ç–µ—Å—Ç—ã:**
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Firebase
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API calls (VK, Telegram, Yandex)
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**UI —Ç–µ—Å—Ç—ã:**
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ responsive –¥–∏–∑–∞–π–Ω–∞
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

#### 16.1.2 –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```dart
// –ü—Ä–∏–º–µ—Ä unit —Ç–µ—Å—Ç–∞
void main() {
  group('PriceCalculator', () {
    test('should calculate correct price with VK discount', () {
      final price = PriceCalculator.calculateTotalPrice(
        route: popularRoute,
        tripType: TripType.group,
        baggage: [],
        pets: [],
        canUseVKDiscount: true,
        customerTier: CustomerTier.regular,
        departureTime: DateTime.now(),
      );
      
      expect(price, 1700); // 2000 - 300 VK discount
    });
  });
}
```

### 16.2 –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

#### 16.2.1 –°—Ä–µ–¥—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
**Development (—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞):**
- Firebase –ø—Ä–æ–µ–∫—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
- Debug-—Ä–µ–∂–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**Staging (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ):**
- –ö–æ–ø–∏—è production –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º
- UAT (User Acceptance Testing)

**Production (–ø—Ä–æ–¥–∞–∫—à–Ω):**
- –†–µ–∞–ª—å–Ω–∞—è Firebase —Å—Ä–µ–¥–∞
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã

#### 16.2.2 CI/CD Pipeline
**–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:**
- GitHub Actions –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–±–æ—Ä–∫–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ commit
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è –≤ –º–∞–≥–∞–∑–∏–Ω—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

### 16.3 –†–∞–∑–º–µ—â–µ–Ω–∏–µ –≤ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞—Ö
**–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ –ø–ª–æ—â–∞–¥–∫–∏ (–±–µ–∑ –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π):**
- **RuStore**: –†–æ—Å—Å–∏–π—Å–∫–∏–π –º–∞–≥–∞–∑–∏–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- **Google Play Market**: –ì–ª–æ–±–∞–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ Android
- **Apple App Store**: –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ iOS

---

## 17. –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

### 17.1 –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ—à–µ–Ω–∏—è
1. **–ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**: –û—Ç –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
2. **–ì–∏–±–∫–æ—Å—Ç—å –º–∞—Ä—à—Ä—É—Ç–æ–≤**: –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ + —Å–≤–æ–±–æ–¥–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã —Å —É–ø—Ä–∞–≤–ª—è–µ–º—ã–º —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ–º
3. **–î–µ—Ç–∞–ª—å–Ω—ã–π —É—á–µ—Ç**: –ë–∞–≥–∞–∂ (1 –º–µ—Å—Ç–æ –±–µ—Å–ø–ª–∞—Ç–Ω–æ), –∂–∏–≤–æ—Ç–Ω—ã–µ, –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏
4. **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UX**: iOS-—Å—Ç–∏–ª—å, –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
5. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**: VK (—Ä–∞–∑–æ–≤–∞—è —Å–∫–∏–¥–∫–∞), Telegram, Yandex Maps
6. **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**: –ü–æ–ª–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–∞–±–∏–Ω–µ—Ç –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞
7. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–æ—Å—Ç—É –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### 17.2 –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞
**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏:**
- –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ —ç–∫—Ä–∞–Ω–æ–≤ < 2 —Å–µ–∫
- –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–∞ > 99.5%
- –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ API < 500ms

**–ë–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫–∏:**
- –ö–æ–Ω–≤–µ—Ä—Å–∏—è –≤ –∑–∞–∫–∞–∑ > 15%
- –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–∫–∞–∑—ã > 30%
- –°—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞ –≤ –º–∞–≥–∞–∑–∏–Ω–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π > 4.5

### 17.3 –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è
**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–∏—Å–∫–∏:**
- –°–±–æ–∏ Firebase ‚Üí Backup-—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- –ü—Ä–æ–±–ª–µ–º—ã —Å –≤–Ω–µ—à–Ω–∏–º–∏ API ‚Üí Fallback-—Ä–µ—à–µ–Ω–∏—è
- –ù–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞ ‚Üí –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ë–∏–∑–Ω–µ—Å-—Ä–∏—Å–∫–∏:**
- –ù–∏–∑–∫–æ–µ –ø—Ä–∏–Ω—è—Ç–∏–µ ‚Üí –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- –ö–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è ‚Üí –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (—Å–µ–∫—Ä–µ—Ç–Ω—ã–π –≤—Ö–æ–¥ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞, —É–ø—Ä–∞–≤–ª—è–µ–º–æ–µ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ)
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞ ‚Üí –ì–∏–±–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

---

**–ö–û–ù–ï–¶ –¢–ï–•–ù–ò–ß–ï–°–ö–û–ì–û –ó–ê–î–ê–ù–ò–Ø v3.0**
- **–í–Ω–µ—à–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**: 
  - Telegram Bot API (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä—É)
  - VKontakte API (–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
- **–ü–ª–∞—Ç—Ñ–æ—Ä–º—ã**: iOS, Android

### 1.4 –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
1. **–î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è**: –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã vs –°–≤–æ–±–æ–¥–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç
2. **–î–µ—Ç–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ—Å—Ç–∞–Ω–æ–≤–æ–∫**: 11 –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤ –º–µ–∂–¥—É –≥–æ—Ä–æ–¥–∞–º–∏
3. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞–∂–æ–º**: 4 –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–∞–∑–º–µ—Ä–æ–≤ + –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –≥–∞–±–∞—Ä–∏—Ç—ã
4. **–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∂–∏–≤–æ—Ç–Ω—ã—Ö**: 4 —Ä–∞–∑–º–µ—Ä–∞ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏
5. **VK-–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è**: –°–∏—Å—Ç–µ–º–∞ —Å–∫–∏–¥–æ–∫ –¥–ª—è –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
6. **Telegram-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä—É
7. **Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∑–∞ 24—á –∏ 1—á –¥–æ –ø–æ–µ–∑–¥–∫–∏

---

## 2. –¢–†–ï–ë–û–í–ê–ù–ò–Ø –ö–õ–ò–ï–ù–¢–ê: –î–ò–ó–ê–ô–ù –ò –ë–†–ï–ù–î–ò–ù–ì

### 2.1 –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ (–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞)
**–û—Å–Ω–æ–≤–Ω–∞—è –ø–∞–ª–∏—Ç—Ä–∞ (–Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–∞–π—Ç–∞ –∫–ª–∏–µ–Ω—Ç–∞):**
- **–ö—Ä–∞—Å–Ω—ã–π**: `#E53E3E` - –æ—Å–Ω–æ–≤–Ω–æ–π –∞–∫—Ü–µ–Ω—Ç–Ω—ã–π —Ü–≤–µ—Ç –¥–ª—è –∫–Ω–æ–ø–æ–∫, –∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- **–ß–µ—Ä–Ω—ã–π**: `#1A1A1A` - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–¢–µ–º–Ω–æ-—Å–µ—Ä—ã–π**: `#2D2D2D` - –≤—Ç–æ—Ä–∏—á–Ω—ã–π —Ñ–æ–Ω –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- **–ë–µ–ª—ã–π**: `#FFFFFF` - –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –∏ –∏–∫–æ–Ω–æ–∫
- **–ö—Ä–∞—Å–Ω–∞—è –æ—à–∏–±–∫–∞**: `#FF3B30` - –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö
- **–ó–µ–ª–µ–Ω—ã–π —É—Å–ø–µ—Ö**: `#34C759` - –¥–ª—è —É—Å–ø–µ—à–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤:**
- –í—Å–µ –∫–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π: –∫—Ä–∞—Å–Ω—ã–π —Ñ–æ–Ω + –±–µ–ª—ã–π —Ç–µ–∫—Å—Ç
- –§–æ–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: —á–µ—Ä–Ω—ã–π –∏–ª–∏ —Ç–µ–º–Ω–æ-—Å–µ—Ä—ã–π
- –¢–µ–∫—Å—Ç: –±–µ–ª—ã–π –Ω–∞ —Ç–µ–º–Ω–æ–º —Ñ–æ–Ω–µ
- –ê–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã (TabBar, –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã): –∫—Ä–∞—Å–Ω—ã–π
- –ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã: —Å–µ—Ä—ã–π (#8E8E93)

### 2.2 Splash Screen (–ó–∞—Å—Ç–∞–≤–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ)
**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ª–æ–≥–æ—Ç–∏–ø—É:**
- **–§–æ—Ä–º–∞—Ç**: –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ª–æ–≥–æ—Ç–∏–ø –∫–ª–∏–µ–Ω—Ç–∞
- **–§–æ–Ω**: –ì—Ä–∞–¥–∏–µ–Ω—Ç –∏–∑ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤ (—á–µ—Ä–Ω—ã–π ‚Üí —Ç–µ–º–Ω–æ-—Å–µ—Ä—ã–π)
- **–ê–Ω–∏–º–∞—Ü–∏—è**: –ü–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ —Å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- **–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: 2-3 —Å–µ–∫—É–Ω–¥—ã
- **–ü–µ—Ä–µ—Ö–æ–¥**: Fade out –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É —ç–∫—Ä–∞–Ω—É

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```dart
// –ê–Ω–∏–º–∞—Ü–∏—è –ª–æ–≥–æ—Ç–∏–ø–∞
AnimationController _splashController;
Animation<double> _fadeAnimation;
Animation<double> _scaleAnimation;
Animation<Offset> _slideAnimation;
```

### 2.3 –ò–∫–æ–Ω–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –õ–æ–≥–æ—Ç–∏–ø –∫–ª–∏–µ–Ω—Ç–∞ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ Apple Human Interface Guidelines
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ Material Design Guidelines
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—Å–µ—Ö —Ä–∞–∑–º–µ—Ä–æ–≤: 1024x1024, 512x512, 256x256, 128x128, 64x64

### 2.4 –°—Ç–∏–ª—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- **–û–±—â–∏–π —Å—Ç–∏–ª—å**: Dark Theme —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ Cupertino Design
- **–¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞**: San Francisco (iOS), Roboto (Android)
- **–ó–∞–∫—Ä—É–≥–ª–µ–Ω–∏—è**: 12px –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫, 8px –¥–ª—è –∫–Ω–æ–ø–æ–∫
- **–¢–µ–Ω–∏**: –ú—è–≥–∫–∏–µ —Ç–µ–Ω–∏ –¥–ª—è –≤—ã–¥–µ–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- **–ü–µ—Ä–µ—Ö–æ–¥—ã**: –ü–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ 300ms –¥–ª—è –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

---

## 3. –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –°–ò–°–¢–ï–ú–´ –ú–ê–†–®–†–£–¢–û–í

### 3.1 –î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

#### 3.1.1 –£—Ä–æ–≤–µ–Ω—å 1: –¢–∏–ø –º–∞—Ä—à—Ä—É—Ç–∞
**A. –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã (–ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ)**
- –î–æ–Ω–µ—Ü–∫ ‚Üî –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É
- –í–∫–ª—é—á–∞–µ—Ç –≤—Å–µ 11 –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö –æ—Å—Ç–∞–Ω–æ–≤–æ–∫
- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å
- –ë—ã—Å—Ç—Ä–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

**B. –°–≤–æ–±–æ–¥–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç (–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä)**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Yandex Maps API –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ: `–±–∞–∑–æ–≤–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å + (–∫–∏–ª–æ–º–µ—Ç—Ä—ã √ó –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç)`

#### 3.1.2 –£—Ä–æ–≤–µ–Ω—å 2: –¢–∏–ø –ø–æ–µ–∑–¥–∫–∏
**A. –ì—Ä—É–ø–ø–æ–≤–∞—è –ø–æ–µ–∑–¥–∫–∞**: 2 000 —Ä—É–±. - –º–µ—Å—Ç–æ.
- –û–∂–∏–¥–∞–Ω–∏–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –≥—Ä—É–ø–ø—ã (4-8 —á–µ–ª–æ–≤–µ–∫)
- –ù–∏–∂–Ω—è—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞ —Å—á–µ—Ç —Å–æ–≤–º–µ—Å—Ç–Ω–æ–π –ø–æ–µ–∑–¥–∫–∏
- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –º–µ—Å—Ç–æ –ö—É–¥–∞ –∏ –û—Ç–∫—É–¥–∞

**B. –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –ø–æ–µ–∑–¥–∫–∞**: 8 000 —Ä—É–±. - –¥–Ω–µ–º. 10 000 —Ä—É–±.- –Ω–æ—á–Ω—ã–µ –ø–æ—Å–ª–µ 22.00
- –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ü–æ–≤—ã—à–µ–Ω–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å
- –ì–∏–±–∫–æ–µ –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –õ—é–±–æ–µ –º–µ—Å—Ç–æ –ö—É–¥–∞ –∏ –û—Ç–∫—É–¥–∞

### 3.2 –î–µ—Ç–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ—Å—Ç–∞–Ω–æ–≤–æ–∫

#### 3.2.1 –ú–∞—Ä—à—Ä—É—Ç –î–æ–Ω–µ—Ü–∫ ‚Üí –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É - 
```
1. –î–æ–Ω–µ—Ü–∫ (–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∞–≤—Ç–æ–≤–æ–∫–∑–∞–ª) - 00:00
2. –ú–∞–∫–µ–µ–≤–∫–∞ (–ø–ª. –õ–µ–Ω–∏–Ω–∞) - 00:20
3. –•–∞—Ä—Ü—ã–∑—Å–∫ (–ê–≤—Ç–æ—Å—Ç–∞–Ω—Ü–∏—è) - 00:45
4. –ò–ª–æ–≤–∞–π—Å–∫ (–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ø–ª–æ—â–∞–¥—å) - 01:10
5. –ö—É—Ç–µ–π–Ω–∏–∫–æ–≤–æ (–û—Å—Ç–∞–Ω–æ–≤–∫–∞ —É –º–∞–≥–∞–∑–∏–Ω–∞) - 01:30
6. –ê–º–≤—Ä–æ—Å–∏–µ–≤–∫–∞ (–ê–≤—Ç–æ—Å—Ç–∞–Ω—Ü–∏—è) - 01:50
7. –ö–ü–ü –£–°–ü–ï–ù–ö–ê (–ì—Ä–∞–Ω–∏—Ü–∞ –î–ù–†-–†–§) - 02:20
8. –ú–∞—Ç–≤–µ–µ–≤-–ö—É—Ä–≥–∞–Ω (–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ø–ª–æ—â–∞–¥—å) - 02:50
9. –ü–æ–∫—Ä–æ–≤—Å–∫–æ–µ (–ê–≤—Ç–æ–±—É—Å–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞) - 03:15
10. –¢–∞–≥–∞–Ω—Ä–æ–≥ (–ê–≤—Ç–æ–≤–æ–∫–∑–∞–ª) - 03:45
11. –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É (–ì–ª–∞–≤–Ω—ã–π –∞–≤—Ç–æ–≤–æ–∫–∑–∞–ª) - 04:30
```



---

## 4. –°–ò–°–¢–ï–ú–ê –ë–ê–ì–ê–ñ–ê

### 4.1 –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –±–∞–≥–∞–∂–∞

#### 4.1.1 –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã
**–†–∞–∑–º–µ—Ä S (–ú–∞–ª—ã–π)**
- **–ì–∞–±–∞—Ä–∏—Ç—ã**: 30√ó40√ó20 —Å–º
- **–ü—Ä–∏–º–µ—Ä—ã**: –†—é–∫–∑–∞–∫, –Ω–µ–±–æ–ª—å—à–∞—è —Å—É–º–∫–∞
- **–í–µ—Å**: –¥–æ 10 –∫–≥
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: –±–µ—Å–ø–ª–∞—Ç–Ω–æ (–≤—Ö–æ–¥–∏—Ç –≤ —Å—Ç–æ–∏–º–æ—Å—Ç—å –±–∏–ª–µ—Ç–∞)

**–†–∞–∑–º–µ—Ä M (–°—Ä–µ–¥–Ω–∏–π)**
- **–ì–∞–±–∞—Ä–∏—Ç—ã**: 50√ó60√ó25 —Å–º
- **–ü—Ä–∏–º–µ—Ä—ã**: –°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è —Å—É–º–∫–∞, —Å—Ä–µ–¥–Ω–∏–π —á–µ–º–æ–¥–∞–Ω
- **–í–µ—Å**: –¥–æ 20 –∫–≥
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: +100‚ÇΩ –∫ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –±–∏–ª–µ—Ç–∞

**–†–∞–∑–º–µ—Ä L (–ë–æ–ª—å—à–æ–π)**
- **–ì–∞–±–∞—Ä–∏—Ç—ã**: 70√ó80√ó30 —Å–º
- **–ü—Ä–∏–º–µ—Ä—ã**: –ë–æ–ª—å—à–æ–π —á–µ–º–æ–¥–∞–Ω, –∫–æ—Ä–æ–±–∫–∞
- **–í–µ—Å**: –¥–æ 32 –∫–≥
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: +200‚ÇΩ –∫ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –±–∏–ª–µ—Ç–∞

**–†–∞–∑–º–µ—Ä CUSTOM (–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π)**
- **–ì–∞–±–∞—Ä–∏—Ç—ã**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Ä—É—á–Ω—É—é (–î√ó–®√ó–í)
- **–ü—Ä–∏–º–µ—Ä—ã**: –ì–∏—Ç–∞—Ä–∞, –º–∏–∫—Ä–æ–≤–æ–ª–Ω–æ–≤–∫–∞, –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã
- **–ü–æ–ª–µ –æ–ø–∏—Å–∞–Ω–∏—è**: "–ß—Ç–æ –≤–µ–∑–µ—Ç–µ?" (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ)
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ –æ–±—ä–µ–º—É: `(–î√ó–®√ó–í) / 1000 √ó 5‚ÇΩ`

#### 4.1.2 –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤—ã–±–æ—Ä–∞ –±–∞–≥–∞–∂–∞
**UX Flow:**
1. –≠–∫—Ä–∞–Ω "–ë–∞–≥–∞–∂" —Å —á–µ—Ç—ã—Ä—å–º—è –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ —Ä–∞–∑–º–µ—Ä–æ–≤ (S/M/L/CUSTOM)
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞: 
   - –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–∫–æ–Ω–∫–∞
   - –û–ø–∏—Å–∞–Ω–∏–µ –≥–∞–±–∞—Ä–∏—Ç–æ–≤
   - –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–µ–¥–º–µ—Ç–æ–≤
   - –°—Ç–æ–∏–º–æ—Å—Ç—å
3. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –µ–¥–∏–Ω–∏—Ü –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ (—Å—Ç–µ–ø–ø–µ—Ä: 0-5)
4. –î–ª—è CUSTOM: –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –ø–æ–ª—è–º–∏ –≤–≤–æ–¥–∞ –≥–∞–±–∞—Ä–∏—Ç–æ–≤
5. –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –±–∞–≥–∞–∂–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```dart
class BaggageItem {
  final String id;
  final BaggageSize size;
  final int quantity;
  final String? description; // –î–ª—è CUSTOM
  final Dimensions? customDimensions; // –î–ª—è CUSTOM
  final double cost;
}

enum BaggageSize { s, m, l, custom }

class Dimensions {
  final double length;
  final double width;
  final double height;
  
  double get volume => length * width * height;
}
```

---

## 5. –°–ò–°–¢–ï–ú–ê –¢–†–ê–ù–°–ü–û–†–¢–ò–†–û–í–ö–ò –ñ–ò–í–û–¢–ù–´–•

### 5.1 –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∂–∏–≤–æ—Ç–Ω—ã—Ö –ø–æ —Ä–∞–∑–º–µ—Ä—É

#### 5.1.1 –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–æ–≤
**–†–∞–∑–º–µ—Ä XS (–û—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏–π)**
- **–ü—Ä–∏–º–µ—Ä—ã**: –•–æ–º—è–∫, –ø–æ–ø—É–≥–∞–π, –∫—Ä–æ–ª–∏–∫
- **–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞**: –í –ø–µ—Ä–µ–Ω–æ—Å–∫–µ –Ω–∞ –∫–æ–ª–µ–Ω—è—Ö
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: +100‚ÇΩ
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**: –î–æ 3 –∫–≥

**–†–∞–∑–º–µ—Ä S (–ú–∞–ª–µ–Ω—å–∫–∏–π)**
- **–ü—Ä–∏–º–µ—Ä—ã**: –ö–æ—à–∫–∞, –º–∞–ª–µ–Ω—å–∫–∞—è —Å–æ–±–∞–∫–∞ (—á–∏—Ö—É–∞—Ö—É–∞, —Ç–æ–π-—Ç–µ—Ä—å–µ—Ä)
- **–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞**: –í –ø–µ—Ä–µ–Ω–æ—Å–∫–µ –≤ —Å–∞–ª–æ–Ω–µ
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: +500‚ÇΩ
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**: –î–æ 8 –∫–≥

**–†–∞–∑–º–µ—Ä M (–°—Ä–µ–¥–Ω–∏–π)**
- **–ü—Ä–∏–º–µ—Ä—ã**: –°—Ä–µ–¥–Ω—è—è —Å–æ–±–∞–∫–∞ (—Å–ø–∞–Ω–∏–µ–ª—å, –±–∏–≥–ª—å)
- **–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞**: **–¢–æ–ª—å–∫–æ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –ø–æ–µ–∑–¥–∫–∞** (—Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –º–µ—Å—Ç–∞)
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: +2000‚ÇΩ + –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—É—é –ø–æ–µ–∑–¥–∫—É
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**: –î–æ 25 –∫–≥

**–†–∞–∑–º–µ—Ä L (–ë–æ–ª—å—à–æ–π)**
- **–ü—Ä–∏–º–µ—Ä—ã**: –ö—Ä—É–ø–Ω–∞—è —Å–æ–±–∞–∫–∞ (–ª–∞–±—Ä–∞–¥–æ—Ä, –Ω–µ–º–µ—Ü–∫–∞—è –æ–≤—á–∞—Ä–∫–∞)
- **–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞**: **–¢–æ–ª—å–∫–æ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –ø–æ–µ–∑–¥–∫–∞** (—Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –º–µ—Å—Ç–∞)
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: +2000‚ÇΩ + –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—É—é –ø–æ–µ–∑–¥–∫—É
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**: –°–≤—ã—à–µ 25 –∫–≥

#### 5.1.2 –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã
**–õ–æ–≥–∏–∫–∞ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞:**
```dart
if (selectedPetSize == PetSize.L) {
  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—É—é –ø–æ–µ–∑–¥–∫—É
  showDialog(
    context: context,
    builder: (context) => AlertDialog(
      title: Text('–¢—Ä–µ–±—É–µ—Ç—Å—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –ø–æ–µ–∑–¥–∫–∞'),
      content: Text('–î–ª—è –∫—Ä—É–ø–Ω—ã—Ö –∂–∏–≤–æ—Ç–Ω—ã—Ö –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –ø–æ–µ–∑–¥–∫–∞. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏—Ç –∫–æ–º—Ñ–æ—Ä—Ç –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤–∞—à–µ–≥–æ –ø–∏—Ç–æ–º—Ü–∞.'),
      actions: [
        TextButton(
          onPressed: () => _switchToIndividualTrip(),
          child: Text('–ü–µ—Ä–µ–π—Ç–∏ –∫ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–π –ø–æ–µ–∑–¥–∫–µ'),
        ),
      ],
    ),
  );
}
```

#### 5.1.3 –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤—ã–±–æ—Ä–∞ –∂–∏–≤–æ—Ç–Ω—ã—Ö
**UX Flow:**
1. –≠–∫—Ä–∞–Ω "–ñ–∏–≤–æ—Ç–Ω—ã–µ" —Å —á–µ—Ç—ã—Ä—å–º—è –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ —Ä–∞–∑–º–µ—Ä–æ–≤ (XS/S/M/L)
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞:
   - –ò–∫–æ–Ω–∫–∞ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ
   - –ü—Ä–∏–º–µ—Ä—ã –∂–∏–≤–æ—Ç–Ω—ã—Ö
   - –°–ø–æ—Å–æ–± —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
   - –°—Ç–æ–∏–º–æ—Å—Ç—å
3. –ü—Ä–∏ –≤—ã–±–æ—Ä–µ —Ä–∞–∑–º–µ—Ä–∞ L: —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—É—é –ø–æ–µ–∑–¥–∫—É
4. –ü–æ–ª–µ "–û–ø–∏—Å–∞–Ω–∏–µ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ" (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ): –ø–æ—Ä–æ–¥–∞, –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

---

## 6. –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –° VKONTAKTE

### 6.1 –°–∏—Å—Ç–µ–º–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ VK

#### 6.1.1 –ü—Ä–æ—Ü–µ—Å—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
**–®–∞–≥–∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —á–µ—Ä–µ–∑ VK" –≤ –ø—Ä–æ—Ñ–∏–ª–µ
2. OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ VK SDK
3. –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è:
   - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è VK
   - –ò–º—è –∏ —Ñ–∞–º–∏–ª–∏—è
   - –§–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è
   - –°—Ç–∞—Ç—É—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è
4. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ VK ID –≤ –ø—Ä–æ—Ñ–∏–ª–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
5. –ê–∫—Ç–∏–≤–∞—Ü–∏—è —Å–∫–∏–¥–∫–∏ 300‚ÇΩ –Ω–∞ –≤—Å–µ –ø–æ–µ–∑–¥–∫–∏

#### 6.1.2 –°–∏—Å—Ç–µ–º–∞ —Å–∫–∏–¥–æ–∫
**–õ–æ–≥–∏–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Å–∫–∏–¥–∫–∏:**
- **–†–∞–∑–º–µ—Ä —Å–∫–∏–¥–∫–∏**: 300‚ÇΩ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ –≤—Å–µ–º –∑–∞–∫–∞–∑–∞–º –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ**: –í –∫–æ—Ä–∑–∏–Ω–µ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π "–°–∫–∏–¥–∫–∞ VK: -300‚ÇΩ"
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**: –û–¥–Ω–∞ —Å–∫–∏–¥–∫–∞ –Ω–∞ –∑–∞–∫–∞–∑ (–Ω–µ —Å—É–º–º–∏—Ä—É–µ—Ç—Å—è)

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```dart
class VKService {
  static const String clientId = 'VK_APP_ID';
  static const String redirectUri = 'https://timetotravel.app/vk-callback';
  
  Future<VKAuthResult> authenticateUser() async {
    // OAuth flow
  }
  
  Future<VKUserInfo> getUserInfo(String accessToken) async {
    // API call to VK
  }
}

class User {
  // ...–¥—Ä—É–≥–∏–µ –ø–æ–ª—è...
  final String? vkId;
  final bool isVKVerified;
  final String? vkName;
  final String? vkPhotoUrl;
  
  bool get hasVKDiscount => isVKVerified;
  double get vkDiscountAmount => hasVKDiscount ? 30.0 : 0.0;
}
```

### 6.2 –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
**UX Flow:**
1. –í –ø—Ä–æ—Ñ–∏–ª–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–∞—Ä—Ç–æ—á–∫–∞ "–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è VK"
2. –ï—Å–ª–∏ –Ω–µ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω: –∫–Ω–æ–ø–∫–∞ "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —á–µ—Ä–µ–∑ VK" + –æ–ø–∏—Å–∞–Ω–∏–µ —Å–∫–∏–¥–∫–∏
3. –ï—Å–ª–∏ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω: –≥–∞–ª–æ—á–∫–∞ + –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø—Ä–æ—Ñ–∏–ª—è VK + "–°–∫–∏–¥–∫–∞ 30‚ÇΩ –∞–∫—Ç–∏–≤–Ω–∞"
4. –ü—Ä–æ—Ü–µ—Å—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏: WebView —Å VK OAuth ‚Üí –≤–æ–∑–≤—Ä–∞—Ç –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è

---

## 7. –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –° TELEGRAM

### 7.1 –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä—É

#### 7.1.1 –¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
**–ù–æ–≤—ã–π –∑–∞–∫–∞–∑:**
```
üöó –ù–û–í–´–ô –ó–ê–ö–ê–ó #12345

üë§ –ö–ª–∏–µ–Ω—Ç: –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤ (+7 900 123-45-67)
üìÖ –î–∞—Ç–∞: 15 –¥–µ–∫–∞–±—Ä—è 2024, 14:00
üõ£ –ú–∞—Ä—à—Ä—É—Ç: –î–æ–Ω–µ—Ü–∫ ‚Üí –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É
   ‚îî –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –î–æ–Ω–µ—Ü–∫ (–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∞–≤—Ç–æ–≤–æ–∫–∑–∞–ª)
   ‚îî –ü—Ä–∏–±—ã—Ç–∏–µ: –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É (–ì–ª–∞–≤–Ω—ã–π –∞–≤—Ç–æ–≤–æ–∫–∑–∞–ª)

üë• –¢–∏–ø: –ì—Ä—É–ø–ø–æ–≤–∞—è –ø–æ–µ–∑–¥–∫–∞ (2 –ø–∞—Å—Å–∞–∂–∏—Ä–∞)
üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å: 2,340‚ÇΩ

üß≥ –ë–∞–≥–∞–∂:
   ‚îî –†–∞–∑–º–µ—Ä M: 1 —à—Ç. (+100‚ÇΩ)
   ‚îî –†–∞–∑–º–µ—Ä S: 2 —à—Ç. (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)

üêï –ñ–∏–≤–æ—Ç–Ω—ã–µ:
   ‚îî –°—Ä–µ–¥–Ω—è—è —Å–æ–±–∞–∫–∞ (—Ä–∞–∑–º–µ—Ä M): +400‚ÇΩ

üí≥ –ò—Ç–æ–≥–æ –∫ –æ–ø–ª–∞—Ç–µ: 2,840‚ÇΩ
‚úÖ –°—Ç–∞—Ç—É—Å: –û–∂–∏–¥–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

[–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å] [–û—Ç–∫–ª–æ–Ω–∏—Ç—å] [–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏]
```

**–û—Ç–º–µ–Ω–∞ –∑–∞–∫–∞–∑–∞:**
```
‚ùå –û–¢–ú–ï–ù–ê –ó–ê–ö–ê–ó–ê #12345

üë§ –ö–ª–∏–µ–Ω—Ç: –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤
üìÖ –û—Ç–º–µ–Ω–µ–Ω–∞ –ø–æ–µ–∑–¥–∫–∞: 15 –¥–µ–∫–∞–±—Ä—è 2024, 14:00
üõ£ –ú–∞—Ä—à—Ä—É—Ç: –î–æ–Ω–µ—Ü–∫ ‚Üí –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É
üí∞ –í–æ–∑–≤—Ä–∞—Ç: 2,840‚ÇΩ

‚è∞ –í—Ä–µ–º—è –¥–æ –ø–æ–µ–∑–¥–∫–∏: 18 —á–∞—Å–æ–≤
üìã –ü—Ä–∏—á–∏–Ω–∞: –ò–∑–º–µ–Ω–∏–ª–∏—Å—å –ø–ª–∞–Ω—ã
```

#### 7.1.2 –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
**Telegram Bot API Integration:**
```dart
class TelegramService {
  static const String botToken = 'BOT_TOKEN';
  static const String dispatcherChatId = 'DISPATCHER_CHAT_ID';
  
  Future<void> sendOrderNotification(Order order) async {
    final message = _formatOrderMessage(order);
    await _sendMessage(dispatcherChatId, message);
  }
  
  String _formatOrderMessage(Order order) {
    return '''
üöó –ù–û–í–´–ô –ó–ê–ö–ê–ó #${order.id}

üë§ –ö–ª–∏–µ–Ω—Ç: ${order.customerName} (${order.phoneNumber})
üìÖ –î–∞—Ç–∞: ${order.dateTime.format()}
üõ£ –ú–∞—Ä—à—Ä—É—Ç: ${order.route.from} ‚Üí ${order.route.to}

${_formatOrderDetails(order)}

üí≥ –ò—Ç–æ–≥–æ –∫ –æ–ø–ª–∞—Ç–µ: ${order.totalAmount}‚ÇΩ
‚úÖ –°—Ç–∞—Ç—É—Å: ${order.status}
    ''';
  }
}
```

---

## 8. –°–ò–°–¢–ï–ú–ê PUSH-–£–í–ï–î–û–ú–õ–ï–ù–ò–ô

### 8.1 –¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

#### 8.1.1 –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è-–Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
**–ó–∞ 24 —á–∞—Å–∞ –¥–æ –ø–æ–µ–∑–¥–∫–∏:**
```
‚è∞ –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –ø–æ–µ–∑–¥–∫–µ

–ó–∞–≤—Ç—Ä–∞ –≤ 14:00 –≤–∞—à–∞ –ø–æ–µ–∑–¥–∫–∞ –î–æ–Ω–µ—Ü–∫ ‚Üí –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É
–ó–∞–∫–∞–∑ #12345

üìç –ú–µ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è: –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∞–≤—Ç–æ–≤–æ–∫–∑–∞–ª
‚è∞ –í—Ä–µ–º—è: 15 –¥–µ–∫–∞–±—Ä—è, 14:00

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å:
‚Ä¢ –î–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –≥—Ä–∞–Ω–∏—Ü—ã
‚Ä¢ –î–æ–∫—É–º–µ–Ω—Ç—ã –Ω–∞ –∂–∏–≤–æ—Ç–Ω—ã—Ö (–µ—Å–ª–∏ –µ—Å—Ç—å)
‚Ä¢ –ë—ã—Ç—å –Ω–∞ –º–µ—Å—Ç–µ –∑–∞ 15 –º–∏–Ω—É—Ç –¥–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è
```

**–ó–∞ 1 —á–∞—Å –¥–æ –ø–æ–µ–∑–¥–∫–∏:**
```
üöó –°–∫–æ—Ä–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–µ!

–ß–µ—Ä–µ–∑ —á–∞—Å –≤–∞—à–∞ –ø–æ–µ–∑–¥–∫–∞ –î–æ–Ω–µ—Ü–∫ ‚Üí –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É
–ó–∞–∫–∞–∑ #12345

üìç –ú–µ—Å—Ç–æ: –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∞–≤—Ç–æ–≤–æ–∫–∑–∞–ª
‚è∞ –í—Ä–µ–º—è: 15 –¥–µ–∫–∞–±—Ä—è, 14:00
üöó –í–æ–¥–∏—Ç–µ–ª—å —É–∂–µ –≤ –ø—É—Ç–∏ –∫ –º–µ—Å—Ç—É –ø–æ—Å–∞–¥–∫–∏

üì± –ö–æ–Ω—Ç–∞–∫—Ç –≤–æ–¥–∏—Ç–µ–ª—è: +7 900 555-44-33
```

#### 8.1.2 –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ –∑–∞–∫–∞–∑–∞
**–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞:**
```
‚úÖ –ó–∞–∫–∞–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω!

–í–∞—à –∑–∞–∫–∞–∑ #12345 –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–º
–ü–æ–µ–∑–¥–∫–∞: –î–æ–Ω–µ—Ü–∫ ‚Üí –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É
–î–∞—Ç–∞: 15 –¥–µ–∫–∞–±—Ä—è 2024, 14:00

–î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
```

**–û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞:**
```
‚ùå –ó–∞–∫–∞–∑ –æ—Ç–∫–ª–æ–Ω–µ–Ω

–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –≤–∞—à –∑–∞–∫–∞–∑ #12345 –æ—Ç–∫–ª–æ–Ω–µ–Ω
–ü—Ä–∏—á–∏–Ω–∞: –ù–µ—Ç —Å–≤–æ–±–æ–¥–Ω—ã—Ö –º–µ—Å—Ç –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—É—é –¥–∞—Ç—É

üí∞ –°—Ä–µ–¥—Å—Ç–≤–∞ –≤–æ–∑–≤—Ä–∞—â–µ–Ω—ã –Ω–∞ –≤–∞—à —Å—á–µ—Ç
üîÑ –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥—É—é –¥–∞—Ç—É
```

#### 8.1.3 –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
```dart
class NotificationService {
  static final FirebaseMessaging _fcm = FirebaseMessaging.instance;
  
  // –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∑–∞ 24 —á–∞—Å–∞
  Future<void> schedule24HourReminder(Order order) async {
    final scheduledTime = order.departureTime.subtract(Duration(hours: 24));
    await _scheduleNotification(
      scheduledTime: scheduledTime,
      title: '‚è∞ –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –ø–æ–µ–∑–¥–∫–µ',
      body: _format24HourReminderBody(order),
    );
  }
  
  // –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∑–∞ 1 —á–∞—Å
  Future<void> schedule1HourReminder(Order order) async {
    final scheduledTime = order.departureTime.subtract(Duration(hours: 1));
    await _scheduleNotification(
      scheduledTime: scheduledTime,
      title: 'üöó –°–∫–æ—Ä–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–µ!',
      body: _format1HourReminderBody(order),
    );
  }
}
```

---

## 9. –ê–î–ú–ò–ù–ò–°–¢–†–ê–¢–ò–í–ù–ê–Ø –ü–ê–ù–ï–õ–¨ –î–ò–°–ü–ï–¢–ß–ï–†–ê

### 9.1 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º

#### 9.1.1 –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏–π –ø–æ–µ–∑–¥–æ–∫
**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏–π –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –∏ –∞–∫—Ü–∏–π
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –∏ —Å—Ç–æ–∏–º–æ—Å—Ç–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é –º–∞—Ä—à—Ä—É—Ç–æ–≤

**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞:**
```dart
class AdminTripEditScreen extends StatefulWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text('–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞')),
      body: Form(
        child: Column(
          children: [
            TextFormField(
              decoration: InputDecoration(labelText: '–û–ø–∏—Å–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞'),
              maxLines: 5,
              initialValue: trip.description,
            ),
            TextFormField(
              decoration: InputDecoration(labelText: '–ë–∞–∑–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å (‚ÇΩ)'),
              keyboardType: TextInputType.number,
              initialValue: trip.basePrice.toString(),
            ),
            SwitchListTile(
              title: Text('–ú–∞—Ä—à—Ä—É—Ç –∞–∫—Ç–∏–≤–µ–Ω'),
              value: trip.isActive,
              onChanged: (value) => setState(() => trip.isActive = value),
            ),
          ],
        ),
      ),
    );
  }
}
```

### 9.2 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏

#### 9.2.1 –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞–º–∏
**–§—É–Ω–∫—Ü–∏–∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∑–∞–∫–∞–∑–æ–≤ (–Ω–æ–≤—ã–µ, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã–µ, –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ)
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –≤–æ–¥–∏—Ç–µ–ª–µ–π
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤ –¥–ª—è –≥—Ä—É–ø–ø–æ–≤—ã—Ö –ø–æ–µ–∑–¥–æ–∫
- –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∫–ª–∏–µ–Ω—Ç–∞–º

**–≠–∫—Ä–∞–Ω –∑–∞–∫–∞–∑–æ–≤:**
```dart
class DispatcherOrdersScreen extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏'),
        actions: [
          IconButton(
            icon: Icon(Icons.filter_list),
            onPressed: () => _showFilterDialog(),
          ),
        ],
      ),
      body: StreamBuilder<List<Order>>(
        stream: OrderService.getOrdersStream(),
        builder: (context, snapshot) {
          if (!snapshot.hasData) return CircularProgressIndicator();
          
          return ListView.builder(
            itemCount: snapshot.data!.length,
            itemBuilder: (context, index) {
              final order = snapshot.data![index];
              return OrderCard(
                order: order,
                onConfirm: () => _confirmOrder(order),
                onReject: () => _rejectOrder(order),
                onEdit: () => _editOrder(order),
              );
            },
          );
        },
      ),
    );
  }
}
```

---

## 10. –†–ê–°–®–ò–†–ï–ù–ù–´–ô –ü–†–û–§–ò–õ–¨ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø

### 10.1 –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –ø—Ä–æ—Ñ–∏–ª—è

#### 10.1.1 –õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:**
- **–§–∞–º–∏–ª–∏—è**: –î–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–∏ –≥—Ä–∞–Ω–∏—Ü—ã
- **–ò–º—è**: –ü–æ–ª–Ω–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–û—Ç—á–µ—Å—Ç–≤–æ**: –ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏
- **–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è**: –î–ª—è –≤–æ–∑—Ä–∞—Å—Ç–Ω—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –∏ —Å–∫–∏–¥–æ–∫

**–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:**
- **–ü–æ–ª**: –ú—É–∂—Å–∫–æ–π/–ñ–µ–Ω—Å–∫–∏–π/–ù–µ —É–∫–∞–∑–∞–Ω
- **–°–µ—Ä–∏—è –∏ –Ω–æ–º–µ—Ä –ø–∞—Å–ø–æ—Ä—Ç–∞**: –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –ø—Ä–∏ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–∏ –≥—Ä–∞–Ω–∏—Ü—ã
- **–ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ**: –ò–º—è –∏ —Ç–µ–ª–µ—Ñ–æ–Ω –¥–ª—è —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤

#### 10.1.2 –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –±–æ–Ω—É—Å—ã
**VK –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è:**
- –°—Ç–∞—Ç—É—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –ò–º—è –∏–∑ VK –ø—Ä–æ—Ñ–∏–ª—è
- –§–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è VK
- –î–∞—Ç–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –ê–∫—Ç–∏–≤–Ω–∞—è —Å–∫–∏–¥–∫–∞ 300‚ÇΩ

**–ò—Å—Ç–æ—Ä–∏—è –ø–æ–µ–∑–¥–æ–∫:**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–µ–∑–¥–æ–∫
- –°—Ç–∞—Ç—É—Å –∫–ª–∏–µ–Ω—Ç–∞ (–Ω–æ–≤—ã–π, –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π, VIP)
- –ù–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–µ –±–æ–Ω—É—Å—ã
- –ò—Å—Ç–æ—Ä–∏—è –æ—Ç–∑—ã–≤–æ–≤

#### 10.1.3 –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ—Ñ–∏–ª—è
```dart
class ExpandedProfileScreen extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: CustomScrollView(
        slivers: [
          SliverAppBar(
            expandedHeight: 200,
            flexibleSpace: FlexibleSpaceBar(
              background: UserAvatarSection(),
            ),
          ),
          SliverList(
            delegate: SliverChildListDelegate([
              PersonalInfoSection(),
              VKVerificationSection(),
              TravelHistorySection(),
              ContactInfoSection(),
              EmergencyContactSection(),
              DocumentsSection(),
              SettingsSection(),
            ]),
          ),
        ],
      ),
    );
  }
}
```

---

## 11. –ö–ê–õ–¨–ö–£–õ–Ø–¢–û–† –°–í–û–ë–û–î–ù–´–• –ú–ê–†–®–†–£–¢–û–í

### 11.1 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Yandex Maps

#### 11.1.1 –†–∞—Å—á–µ—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –∏ —Å—Ç–æ–∏–º–æ—Å—Ç–∏
**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- –ê–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç –∞–¥—Ä–µ—Å–æ–≤ —á–µ—Ä–µ–∑ Yandex Geocoding API
- –†–∞—Å—á–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞ —á–µ—Ä–µ–∑ Yandex Directions API
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è
- –£—á–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ—Å—Ç–∏ –¥–æ—Ä–æ–≥ –∏ –ø—Ä–æ–±–æ–∫

**–§–æ—Ä–º—É–ª–∞ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è:**
```
–°—Ç–æ–∏–º–æ—Å—Ç—å = –ë–∞–∑–æ–≤–∞—è_—Å—Ç–∞–≤–∫–∞ + (–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ_–∫–º √ó –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç_–∑–∞_–∫–º) + –ì–æ—Ä–æ–¥—Å–∫–∏–µ_–¥–æ–ø–ª–∞—Ç—ã
```

–ì–¥–µ:
- **–ë–∞–∑–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞**: 500‚ÇΩ (—Å—Ç–∞—Ä—Ç–æ–≤–∞—è —Ü–µ–Ω–∞)
- **–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∑–∞ –∫–º**: 15‚ÇΩ/–∫–º
- **–ì–æ—Ä–æ–¥—Å–∫–∏–µ –¥–æ–ø–ª–∞—Ç—ã**: +200‚ÇΩ –ø—Ä–∏ –ø–æ–µ–∑–¥–∫–µ –≤ –∫—Ä—É–ø–Ω—ã–µ –≥–æ—Ä–æ–¥–∞

#### 11.1.2 –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
```dart
class YandexMapsService {
  static const String apiKey = 'YANDEX_MAPS_API_KEY';
  
  Future<RouteCalculationResult> calculateRoute({
    required String fromAddress,
    required String toAddress,
  }) async {
    // 1. Geocoding - –ø–æ–ª—É—á–∞–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
    final fromCoords = await _geocodeAddress(fromAddress);
    final toCoords = await _geocodeAddress(toAddress);
    
    // 2. Directions - —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –º–∞—Ä—à—Ä—É—Ç
    final route = await _calculateDirections(fromCoords, toCoords);
    
    // 3. –¶–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ
    final price = _calculatePrice(route.distanceKm);
    
    return RouteCalculationResult(
      distance: route.distanceKm,
      duration: route.durationMinutes,
      price: price,
      waypoints: route.waypoints,
    );
  }
  
  double _calculatePrice(double distanceKm) {
    const basePrice = 500.0;
    const pricePerKm = 15.0;
    return basePrice + (distanceKm * pricePerKm);
  }
}
```

### 11.2 –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
**UX Flow:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç "–°–≤–æ–±–æ–¥–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç"
2. –î–≤–∞ –ø–æ–ª—è –≤–≤–æ–¥–∞ —Å –∞–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç–æ–º:
   - "–û—Ç–∫—É–¥–∞" (—Ç–µ–∫—É—â–µ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
   - "–ö—É–¥–∞"
3. –ü—Ä–∏ –≤–≤–æ–¥–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –ø–æ–¥—Å–∫–∞–∑–∫–∏ –∞–¥—Ä–µ—Å–æ–≤
4. –ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –∞–¥—Ä–µ—Å–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç:
   - –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –≤ –∫–º
   - –í—Ä–µ–º—è –≤ –ø—É—Ç–∏
   - –°—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ–µ–∑–¥–∫–∏
5. –ö–Ω–æ–ø–∫–∞ "–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å" ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –∫ –≤—ã–±–æ—Ä—É —Ç–∏–ø–∞ –ø–æ–µ–∑–¥–∫–∏

---

## 12. –°–¢–ê–¢–£–°–´ –ò –ñ–ò–ó–ù–ï–ù–ù–´–ô –¶–ò–ö–õ –ó–ê–ö–ê–ó–û–í

### 12.1 –°–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–∫–∞–∑–∞

#### 12.1.1 –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã
**CREATED** (–°–æ–∑–¥–∞–Ω)
- –ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- –û–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –ø—Ä–µ–¥–æ–ø–ª–∞—Ç–∞)
- –î–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**PENDING** (–û–∂–∏–¥–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è)
- –ó–∞–∫–∞–∑ –æ–ø–ª–∞—á–µ–Ω –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –¥–∏—Å–ø–µ—Ç—á–µ—Ä—É
- –î–∏—Å–ø–µ—Ç—á–µ—Ä –ø–æ–ª—É—á–∏–ª —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç "–û–∂–∏–¥–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è"

**CONFIRMED** (–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω)
- –î–∏—Å–ø–µ—Ç—á–µ—Ä –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –∑–∞–∫–∞–∑
- –ù–∞–∑–Ω–∞—á–µ–Ω –≤–æ–¥–∏—Ç–µ–ª—å –∏ –∞–≤—Ç–æ–º–æ–±–∏–ª—å
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

**IN_PROGRESS** (–í –ø—É—Ç–∏)
- –ü–æ–µ–∑–¥–∫–∞ –Ω–∞—á–∞–ª–∞—Å—å
- –ê–∫—Ç–∏–≤–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è
- –î–æ—Å—Ç—É–ø–Ω–∞ —Å–≤—è–∑—å —Å –≤–æ–¥–∏—Ç–µ–ª–µ–º

**COMPLETED** (–ó–∞–≤–µ—Ä—à–µ–Ω)
- –ü–æ–µ–∑–¥–∫–∞ —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
- –î–æ—Å—Ç—É–ø–Ω–∞ –æ—Ü–µ–Ω–∫–∞ –∏ –æ—Ç–∑—ã–≤
- –ó–∞–∫–∞–∑ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ –∏—Å—Ç–æ—Ä–∏—é

**CANCELLED** (–û—Ç–º–µ–Ω–µ–Ω)
- –û—Ç–º–µ–Ω–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∏–ª–∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–º
- –í–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤ (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)
- –£–∫–∞–∑–∞–Ω–∏–µ –ø—Ä–∏—á–∏–Ω—ã –æ—Ç–º–µ–Ω—ã

#### 12.1.2 –ü–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å—Ç–∞—Ç—É—Å–∞–º–∏
```dart
enum OrderStatus {
  created,
  pending,
  confirmed,
  inProgress,
  completed,
  cancelled,
}

class OrderStateMachine {
  static bool canTransition(OrderStatus from, OrderStatus to) {
    switch (from) {
      case OrderStatus.created:
        return [OrderStatus.pending, OrderStatus.cancelled].contains(to);
      case OrderStatus.pending:
        return [OrderStatus.confirmed, OrderStatus.cancelled].contains(to);
      case OrderStatus.confirmed:
        return [OrderStatus.inProgress, OrderStatus.cancelled].contains(to);
      case OrderStatus.inProgress:
        return [OrderStatus.completed, OrderStatus.cancelled].contains(to);
      case OrderStatus.completed:
      case OrderStatus.cancelled:
        return false; // –§–∏–Ω–∞–ª—å–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
    }
  }
}
```

### 12.2 –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º
**–ü—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞:**
- Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram –¥–∏—Å–ø–µ—Ç—á–µ—Ä—É 
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏


---

## 13. –°–ò–°–¢–ï–ú–ê –û–ü–õ–ê–¢–´ –ò –¶–ï–ù–û–û–ë–†–ê–ó–û–í–ê–ù–ò–Ø

### 13.1 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è

#### 13.1.1 –ë–∞–∑–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å
**–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã:**
- **–î–æ–Ω–µ—Ü–∫ ‚Üî –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É**: 2,000‚ÇΩ –∑–∞ –ø–æ—Å–∞–¥–∫—É
- **–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏**: 2,000‚ÇΩ –∑–∞ –ø–æ—Å–∞–¥–∫—É
- **–ì—Ä—É–ø–ø–æ–≤–∞—è –ø–æ–µ–∑–¥–∫–∞**: 2,000‚ÇΩ –∑–∞ –ø–æ—Å–∞–¥–∫—É
- **–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –ø–æ–µ–∑–¥–∫–∞**: 8 000 —Ä—É–±. - –¥–Ω–µ–º. 10 000 —Ä—É–±.- –Ω–æ—á–Ω—ã–µ –ø–æ—Å–ª–µ 22.00

#### 13.1.2 –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏
**–ë–∞–≥–∞–∂:**
- –†–∞–∑–º–µ—Ä S - –†—é–∫–∑–∞–∫: –±–µ—Å–ø–ª–∞—Ç–Ω–æ
- –†–∞–∑–º–µ—Ä M - –°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è —Å—É–º–∫–∞: +100‚ÇΩ
- –†–∞–∑–º–µ—Ä L - —á–µ–º–æ–¥–∞–Ω: +200‚ÇΩ
- CUSTOM: `(–æ–±—ä–µ–º_–≤_–ª–∏—Ç—Ä–∞—Ö) √ó 5‚ÇΩ`

**–ñ–∏–≤–æ—Ç–Ω—ã–µ:**
- XS (–¥–æ 3 –∫–≥) - —Ç–æ–π: +500‚ÇΩ
- S (–¥–æ 8 –∫–≥) - –∫–∞—Ä–ª–∏–∫–æ–≤—ã–µ: +500‚ÇΩ
- M (–¥–æ 25 –∫–≥) - —Å—Ç–∞–Ω–¥–∞—Ä—Ç: +2000‚ÇΩ + 8000‚ÇΩ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –ø–æ–µ–∑–¥–∫–∞ 
- L (—Å–≤—ã—à–µ 25 –∫–≥) - –±–æ–ª—å—à–∏–µ : +2000‚ÇΩ + 8000‚ÇΩ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –ø–æ–µ–∑–¥–∫–∞

**–°–∫–∏–¥–∫–∏:**
- VK –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è: -300‚ÇΩ
- –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π –∫–ª–∏–µ–Ω—Ç (10+ –ø–æ–µ–∑–¥–æ–∫): -5%


#### 13.1.3 –†–∞—Å—á–µ—Ç –∏—Ç–æ–≥–æ–≤–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏
```dart
class PriceCalculator {
  static double calculateTotalPrice({
    required Route route,
    required TripType tripType,
    required List<BaggageItem> baggage,
    required List<PetInfo> pets,
    required bool hasVKDiscount,
    required CustomerTier customerTier,
  }) {
    double basePrice = route.basePrice;
    
    // –¢–∏–ø –ø–æ–µ–∑–¥–∫–∏
    if (tripType == TripType.individual) {
      basePrice *= 1.5; // +50%
    }
    
    // –ë–∞–≥–∞–∂
    double baggagePrice = baggage.fold(0.0, (sum, item) => sum + item.cost);
    
    // –ñ–∏–≤–æ—Ç–Ω—ã–µ
    double petPrice = pets.fold(0.0, (sum, pet) => sum + pet.cost);
    
    double totalPrice = basePrice + baggagePrice + petPrice;
    
    // –°–∫–∏–¥–∫–∏
    if (hasVKDiscount) totalPrice -= 300.0;
    if (customerTier == CustomerTier.vip) totalPrice *= 0.95; // -5%
    
    return totalPrice;
  }
}
```

### 13.2 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–ª–∞—Ç–µ–∂–Ω—ã—Ö —Å–∏—Å—Ç–µ–º
**–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —Å–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã:**
- **–ù–∞–ª–∏—á–Ω—ã–µ**: –æ–ø–ª–∞—Ç–∞ –≤–æ–¥–∏—Ç–µ–ª—é –ø—Ä–∏ –ø–æ—Å–∞–¥–∫–µ
- **SBP (–°–∏—Å—Ç–µ–º–∞ –±—ã—Å—Ç—Ä—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π)**: QR-–∫–æ–¥ –æ–ø–ª–∞—Ç–∞


---

## 14. –ú–û–ù–ò–¢–û–†–ò–ù–ì –ò –ê–ù–ê–õ–ò–¢–ò–ö–ê

### 14.1 –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–µ–∑–¥–∫–∞—Ö

#### 14.1.1 –ú–µ—Ç—Ä–∏–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
**–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏:**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å–ø–µ—à–Ω—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
- –°—Ä–µ–¥–Ω—è—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–∫–∞–∑–∞
- –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã
- –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ –Ω–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤
- –ü—Ä–æ—Ü–µ–Ω—Ç –æ—Ç–º–µ–Ω –∑–∞–∫–∞–∑–æ–≤

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```dart
class AnalyticsService {
  static void trackBookingStarted({
    required String routeType,
    required String tripType,
  }) {
    FirebaseAnalytics.instance.logEvent(
      name: 'booking_started',
      parameters: {
        'route_type': routeType, // popular_route / free_route
        'trip_type': tripType,   // group / individual
        'timestamp': DateTime.now().millisecondsSinceEpoch,
      },
    );
  }
  
  static void trackBookingCompleted({
    required Order order,
  }) {
    FirebaseAnalytics.instance.logEvent(
      name: 'booking_completed',
      parameters: {
        'order_id': order.id,
        'total_price': order.totalAmount,
        'has_baggage': order.baggage.isNotEmpty,
        'has_pets': order.pets.isNotEmpty,
        'has_vk_discount': order.hasVKDiscount,
      },
    );
  }
}
```

### 14.2 –ü–∞–Ω–µ–ª—å –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –¥–ª—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞
**–û—Å–Ω–æ–≤–Ω—ã–µ –æ—Ç—á–µ—Ç—ã:**
- –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–∫–∞–∑–æ–≤
- –ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å –º–∞—Ä—à—Ä—É—Ç–æ–≤
- –í—ã—Ä—É—á–∫–∞ –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤–æ–¥–∏—Ç–µ–ª–µ–π
- –û—Ç–∑—ã–≤—ã –∏ —Ä–µ–π—Ç–∏–Ω–≥–∏

---

## 15. –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨ –ò –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨

### 15.1 –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

#### 15.1.1 –ó–∞—â–∏—Ç–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
**–ú–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ (HTTPS/TLS)
- –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è)
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ Firebase —á–µ—Ä–µ–∑ Security Rules
- –ê—É–¥–∏—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º

**Firebase Security Rules:**
```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å –∏ –∏–∑–º–µ–Ω—è—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    // –ó–∞–∫–∞–∑—ã –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç–µ–ª—é –∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞–º
    match /orders/{orderId} {
      allow read, write: if request.auth != null && 
        (request.auth.uid == resource.data.userId || 
         request.auth.token.isDispatcher == true);
    }
  }
}
```

#### 15.1.2 –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
**–í—Ö–æ–¥—è—â–∏–µ –¥–∞–Ω–Ω—ã–µ:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–º–µ—Ä–æ–≤ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤
- –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–æ–ª–µ–π
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ —Ñ–∞–π–ª–æ–≤

### 15.2 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

#### 15.2.1 –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ñ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º
**–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è:**
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏ –æ—Å—Ç–∞–Ω–æ–≤–æ–∫
- –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ–µ–∑–¥–æ–∫
- –û—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```dart
class CacheManager {
  static final _cache = <String, dynamic>{};
  static const _cacheExpiry = Duration(hours: 1);
  
  static Future<T?> getCachedData<T>(String key) async {
    final cached = _cache[key];
    if (cached != null && 
        DateTime.now().difference(cached['timestamp']) < _cacheExpiry) {
      return cached['data'] as T;
    }
    return null;
  }
  
  static void setCachedData(String key, dynamic data) {
    _cache[key] = {
      'data': data,
      'timestamp': DateTime.now(),
    };
  }
}
```

#### 15.2.2 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ —Ä–µ—Å—É—Ä—Å–æ–≤
- –°–∂–∞—Ç–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ª–æ–≥–æ—Ç–∏–ø–æ–≤
- –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö –∏–∫–æ–Ω–æ–∫
- –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ APK/IPA

---

## 16. –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ò –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–ï

### 16.1 –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

#### 16.1.1 –í–∏–¥—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
**Unit —Ç–µ—Å—Ç—ã:**
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ (–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ü–µ–Ω, –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö)
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –¥–∞–Ω–Ω—ã—Ö
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤

**Integration —Ç–µ—Å—Ç—ã:**
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Firebase
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API calls (VK, Telegram, Yandex)
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**UI —Ç–µ—Å—Ç—ã:**
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ responsive –¥–∏–∑–∞–π–Ω–∞
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

#### 16.1.2 –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```dart
// –ü—Ä–∏–º–µ—Ä unit —Ç–µ—Å—Ç–∞
void main() {
  group('PriceCalculator', () {
    test('should calculate base price correctly', () {
      final route = Route(basePrice: 1500);
      final result = PriceCalculator.calculateTotalPrice(
        route: route,
        tripType: TripType.group,
        baggage: [],
        pets: [],
        hasVKDiscount: false,
        customerTier: CustomerTier.regular,
      );
      
      expect(result, equals(1500.0));
    });
    
    test('should apply VK discount', () {
      final route = Route(basePrice: 1500);
      final result = PriceCalculator.calculateTotalPrice(
        route: route,
        tripType: TripType.group,
        baggage: [],
        pets: [],
        hasVKDiscount: true,
        customerTier: CustomerTier.regular,
      );
      
      expect(result, equals(1470.0)); // 1500 - 30
    });
  });
}
```

### 16.2 –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

#### 16.2.1 –°—Ä–µ–¥—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
**Development (—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞):**
- Firebase –ø—Ä–æ–µ–∫—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
- Debug-—Ä–µ–∂–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**Staging (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ):**
- –ö–æ–ø–∏—è production –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º
- UAT (User Acceptance Testing)

**Production (–ø—Ä–æ–¥–∞–∫—à–Ω):**
- –†–µ–∞–ª—å–Ω–∞—è Firebase —Å—Ä–µ–¥–∞
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã

#### 16.2.2 CI/CD Pipeline
**–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:**
- GitHub Actions –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–±–æ—Ä–∫–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ commit
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è –≤ App Store / Google Play

```yaml
# .github/workflows/build_and_deploy.yml
name: Build and Deploy
on:
  push:
    branches: [main]
    
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: subosito/flutter-action@v2
      - run: flutter test
      
  build:
    needs: test
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: subosito/flutter-action@v2
      - run: flutter build apk --release
      - run: flutter build ios --release
```



## 18. –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

### 18.1 –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ—à–µ–Ω–∏—è
1. **–ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**: –û—Ç –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
2. **–ì–∏–±–∫–æ—Å—Ç—å –º–∞—Ä—à—Ä—É—Ç–æ–≤**: –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ + —Å–≤–æ–±–æ–¥–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã
3. **–î–µ—Ç–∞–ª—å–Ω—ã–π —É—á–µ—Ç**: –ë–∞–≥–∞–∂, –∂–∏–≤–æ—Ç–Ω—ã–µ, –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏
4. **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UX**: iOS-—Å—Ç–∏–ª—å, –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
5. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**: VK, Telegram, Yandex Maps
6. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–æ—Å—Ç—É –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### 18.2 –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞
**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏:**
- –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ —ç–∫—Ä–∞–Ω–æ–≤ < 2 —Å–µ–∫
- –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–∞ > 99.5%
- –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ API < 500ms

**–ë–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫–∏:**
- –ö–æ–Ω–≤–µ—Ä—Å–∏—è –≤ –∑–∞–∫–∞–∑ > 15%
- –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–∫–∞–∑—ã > 30%
- –°—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞ –≤ App Store/Google Play > 4.5

### 18.3 –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è
**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–∏—Å–∫–∏:**
- –°–±–æ–∏ Firebase ‚Üí Backup-—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- –ü—Ä–æ–±–ª–µ–º—ã —Å –≤–Ω–µ—à–Ω–∏–º–∏ API ‚Üí Fallback-—Ä–µ—à–µ–Ω–∏—è
- –ù–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞ ‚Üí –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ë–∏–∑–Ω–µ—Å-—Ä–∏—Å–∫–∏:**
- –ù–∏–∑–∫–∞—è adoption ‚Üí –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- –ö–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è ‚Üí –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞ ‚Üí –ì–∏–±–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

---

**–ö–û–ù–ï–¶ –¢–ï–•–ù–ò–ß–ï–°–ö–û–ì–û –ó–ê–î–ê–ù–ò–Ø v2.0**
  final BaggageSize size;
  final int quantity;
  final String? customDimensions;
  final String? description;
}

enum BaggageSize { small, medium, large, custom }
```

### 1.6.2 –§—É–Ω–∫—Ü–∏—è "–ñ–∏–≤–æ—Ç–Ω—ã–µ"
**–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∂–∏–≤–æ—Ç–Ω—ã—Ö:**

1. **–ú–∞–ª–µ–Ω—å–∫–∏–µ –ø–æ—Ä–æ–¥—ã (–†–∞–∑–º–µ—Ä XS)**
   - –¢–∏–ø—ã: –¢–æ–π-—Ç–µ—Ä—å–µ—Ä, –ô–æ—Ä–∫—à–∏—Ä—Å–∫–∏–π —Ç–µ—Ä—å–µ—Ä, –ß–∏—Ö—É–∞—Ö—É–∞
   - –†–∞–∑–º–µ—â–µ–Ω–∏–µ: –ù–∞ –∫–æ–ª–µ–Ω—è—Ö, –≤ —Å—É–º–∫–µ-–ø–µ—Ä–µ–Ω–æ—Å–∫–µ
   - –î–æ–ø–ª–∞—Ç–∞: +500 —Ä—É–±.
   - –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏: –ù–µ –∑–∞–Ω–∏–º–∞–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ

2. **–ö–∞—Ä–ª–∏–∫–æ–≤—ã–µ –ø–æ—Ä–æ–¥—ã (–†–∞–∑–º–µ—Ä S)**
   - –¢–∏–ø—ã: –ú–æ–ø—Å, –§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π –±—É–ª—å–¥–æ–≥, –ö–æ—Ä–≥–∏
   - –†–∞–∑–º–µ—â–µ–Ω–∏–µ: –ù–∞ –∫–æ–ª–µ–Ω—è—Ö, –≤ –ø–µ—Ä–µ–Ω–æ—Å–∫–µ
   - –î–æ–ø–ª–∞—Ç–∞: +500 —Ä—É–±.
   - –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏: –ú–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å –º–µ—Å—Ç–æ —Ä—è–¥–æ–º

3. **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–æ—Ä–æ–¥—ã (–†–∞–∑–º–µ—Ä M)**
   - –¢–∏–ø—ã: –°–ø–∞–Ω–∏–µ–ª—å, –ë–∏–≥–ª—å, –®–µ–ª—Ç–∏
   - –†–∞–∑–º–µ—â–µ–Ω–∏–µ: –û—Ç–¥–µ–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ –≤ —Å–∞–ª–æ–Ω–µ
   - **–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ: –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä**
   - –¶–µ–Ω–∞: 10,000 —Ä—É–±. (–≤–º–µ—Å—Ç–æ 8,000 —Ä—É–±.)

4. **–ë–æ–ª—å—à–∏–µ –ø–æ—Ä–æ–¥—ã (–†–∞–∑–º–µ—Ä L)**
   - –¢–∏–ø—ã: –û–≤—á–∞—Ä–∫–∞, –õ–∞–±—Ä–∞–¥–æ—Ä, –†–æ—Ç–≤–µ–π–ª–µ—Ä, –∏ –¥—Ä—É–≥–∏–µ –∫—Ä—É–ø–Ω—ã–µ
   - –†–∞–∑–º–µ—â–µ–Ω–∏–µ: **–¢–æ–ª—å–∫–æ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä**
   - –¶–µ–Ω–∞: 10,000 —Ä—É–±. + –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è —Ö–∏–º—á–∏—Å—Ç–∫–∞
   - –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ: –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –¥–∏—Å–∫–æ–º—Ñ–æ—Ä—Ç–∞ –¥—Ä—É–≥–∏—Ö –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏:**
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è —Ö–∏–º—á–∏—Å—Ç–∫–∞ –ø–æ—Å–ª–µ –±–æ–ª—å—à–∏—Ö —Å–æ–±–∞–∫
- –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–∞ –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–∞
- –ò–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ –ø—Ä–∞–≤–∏–ª–∞—Ö –ø–µ—Ä–µ–≤–æ–∑–∫–∏ –∂–∏–≤–æ—Ç–Ω—ã—Ö

```dart
class PetInfo {
  final PetSize size;
  final String breed;
  final bool needsSeparateTransfer;
  final int additionalCost;
}

enum PetSize { extraSmall, small, medium, large }
```

---

## 1.7 –û–ë–ù–û–í–õ–ï–ù–ù–ê–Ø –°–ò–°–¢–ï–ú–ê –ë–†–û–ù–ò–†–û–í–ê–ù–ò–Ø

### 1.7.1 –î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

**–£—Ä–æ–≤–µ–Ω—å 1: –í—ã–±–æ—Ä —Ç–∏–ø–∞ –º–∞—Ä—à—Ä—É—Ç–∞**
1. **–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ä–µ–π—Å—ã**
   - –î–æ–Ω–µ—Ü–∫ ‚Üî –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É
   - –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã —Å –æ—Å—Ç–∞–Ω–æ–≤–∫–∞–º–∏
   - –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –£—Ä–æ–≤–µ–Ω—å 2

2. **–°–≤–æ–±–æ–¥–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç**
   - –ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è/–Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Yandex Maps API –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏
   - –§–æ—Ä–º—É–ª–∞ —Ä–∞—Å—á–µ—Ç–∞ –∫–∞–∫ —É –Ø–Ω–¥–µ–∫—Å.–¢–∞–∫—Å–∏

**–£—Ä–æ–≤–µ–Ω—å 2: –í—ã–±–æ—Ä —Ç–∏–ø–∞ –ø–æ–µ–∑–¥–∫–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ä–µ–π—Å–æ–≤)**
1. **–ì—Ä—É–ø–ø–æ–≤–∞—è –ø–æ–µ–∑–¥–∫–∞**
   - –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: 2,000‚ÇΩ
   - –õ—é–±–∞—è —Ç–æ—á–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∞ –∑–∞ —Ç—É –∂–µ —Ü–µ–Ω—É
   - –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è

2. **–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –ø–æ–µ–∑–¥–∫–∞**
   - –ë–∞–∑–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: 8,000‚ÇΩ (–¥–Ω–µ–º)
   - –ù–æ—á–Ω–∞—è –Ω–∞–¥–±–∞–≤–∫–∞: +2,000‚ÇΩ (–∏—Ç–æ–≥–æ 10,000‚ÇΩ)
   - –ì–∏–±–∫–æ–µ –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1.7.2 –£–ø—Ä–∞–≤–ª—è–µ–º—ã–µ —á–µ—Ä–µ–∑ CMS –æ–ø–∏—Å–∞–Ω–∏—è
**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ë–ª–æ–∫ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø–æ–¥ –≤—ã–±–æ—Ä–æ–º —Ç–∏–ø–∞ –ø–æ–µ–∑–¥–∫–∏
- –ö–æ–Ω—Ç–µ–Ω—Ç —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∫–∞–±–∏–Ω–µ—Ç –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞
- API –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–ø–∏—Å–∞–Ω–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞

```dart
// –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
Future<String> loadTripDescription(TripType type) async {
  final doc = await FirebaseFirestore.instance
    .collection('content')
    .doc('trip_descriptions')
    .get();
  return doc.data()?[type.toString()] ?? '–û–ø–∏—Å–∞–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ';
}
```

---

## 1.8 –°–ò–°–¢–ï–ú–ê –£–í–ï–î–û–ú–õ–ï–ù–ò–ô –ò –ò–ù–¢–ï–ì–†–ê–¶–ò–ô

### 1.8.1 –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞–º
**–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞:**
```
–°–ø–∞—Å–∏–±–æ –∑–∞ –∑–∞–∫–∞–∑! –ó–∞ –¥–µ–Ω—å –¥–æ –ø–æ–µ–∑–¥–∫–∏ –≤–æ–¥–∏—Ç–µ–ª—å —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ 
–∏–ª–∏ –Ω–∞–±–µ—Ä–µ—Ç –¥–∏—Å–ø–µ—Ç—á–µ—Ä –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π –ø–æ–µ–∑–¥–∫–∏.
```

**Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ Firebase:**
1. **–ó–∞ 24 —á–∞—Å–∞ –¥–æ –ø–æ–µ–∑–¥–∫–∏**
   - –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –ø—Ä–µ–¥—Å—Ç–æ—è—â–µ–π –ø–æ–µ–∑–¥–∫–µ
   - –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞
   - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è/–æ—Ç–º–µ–Ω—ã

2. **–ó–∞ 1 —á–∞—Å –¥–æ –ø–æ–µ–∑–¥–∫–∏**
   - –§–∏–Ω–∞–ª—å–Ω–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ
   - –ö–æ–Ω—Ç–∞–∫—Ç—ã –≤–æ–¥–∏—Ç–µ–ª—è
   - –¢–æ—á–∫–∞ –≤—Å—Ç—Ä–µ—á–∏

### 1.8.2 Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–≤
**–§–æ—Ä–º–∞—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤–æ–º –∑–∞–∫–∞–∑–µ:**
```
29.09 1 —á–µ–ª 6:00
–†–æ—Å—Ç–æ–≤ - –ú–∞–∫–µ–µ–≤–∫–∞ 
+79490490677 –ì–µ–æ—Ä–≥–∏–π
–ë–µ–∑ –±–∞–≥–∞–∂–∞ 
2000‚ÇΩ
```

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:**
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–∞–≥–∞–∂–µ (–µ—Å–ª–∏ –µ—Å—Ç—å)
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∂–∏–≤–æ—Ç–Ω—ã—Ö (–µ—Å–ª–∏ –µ—Å—Ç—å)
- –û—Å–æ–±—ã–µ –ø–æ–º–µ—Ç–∫–∏ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- –ö–Ω–æ–ø–∫–∏ –±—ã—Å—Ç—Ä—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π (–ü—Ä–∏–Ω—è—Ç—å/–û—Ç–∫–ª–æ–Ω–∏—Ç—å)

```dart
class TelegramNotification {
  static String formatBooking(Booking booking) {
    return '''
${booking.date} ${booking.passengerCount} —á–µ–ª ${booking.time}
${booking.route}
${booking.phone} ${booking.clientName}
${booking.baggageInfo}
${booking.totalPrice}‚ÇΩ
''';
  }
}
```

---

## 1.9 –ü–†–û–§–ò–õ–¨ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø –ò –í–ï–†–ò–§–ò–ö–ê–¶–ò–Ø

### 1.9.1 –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å
**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:**
- –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (–∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)
- –§–ò–û (–§–∞–º–∏–ª–∏—è, –ò–º—è, –û—Ç—á–µ—Å—Ç–≤–æ)
- –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:**
- –§–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è
- –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–æ–µ–∑–¥–æ–∫
- –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤

### 1.9.2 VK –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
**–ü—Ä–æ—Ü–µ—Å—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏:**
1. –ö–Ω–æ–ø–∫–∞ "–ü–æ–¥–∫–ª—é—á–∏—Ç—å VKontakte" –≤ –ø—Ä–æ—Ñ–∏–ª–µ
2. OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ VK API
3. –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è
4. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- **–°–∫–∏–¥–∫–∞ 300‚ÇΩ** –Ω–∞ –∫–∞–∂–¥—ã–π –∑–∞–∫–∞–∑
- –î–æ–≤–µ—Ä–∏–µ —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–≤ –∏ –≤–æ–¥–∏—Ç–µ–ª–µ–π
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø—Ä–æ—Ñ–∏–ª—è –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫–∏–¥–∫–æ–π:**
- –†–∞–∑–º–µ—Ä —Å–∫–∏–¥–∫–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∫–∞–±–∏–Ω–µ—Ç –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –∞–∫—Ü–∏–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

```dart
class VKVerification {
  final bool isVerified;
  final String? vkId;
  final String? profileUrl;
  final DateTime? verificationDate;
  final double discountAmount; // –£–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
}
```

---

## 1.10 –°–í–û–ë–û–î–ù–´–ï –ú–ê–†–®–†–£–¢–´ –ò –ò–ù–¢–ï–ì–†–ê–¶–ò–ò

### 1.10.1 –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- –í—ã–±–æ—Ä –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö —Ç–æ—á–µ–∫ "–û—Ç–∫—É–¥–∞" –∏ "–ö—É–¥–∞"
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–∞—Ä—Ç–∞–º–∏ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø–æ —Ñ–æ—Ä–º—É–ª–µ

**–†–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏:**
- –ë–∞–∑–æ–≤–∞—è —Ñ–æ—Ä–º—É–ª–∞: —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ √ó —Ç–∞—Ä–∏—Ñ –∑–∞ –∫–º
- –ù–∞–¥–±–∞–≤–∫–∏ –∑–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç—å –º–∞—Ä—à—Ä—É—Ç–∞
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ–µ–∑–¥–∫–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Yandex API –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞

```dart
class FreRouteCalculator {
  static Future<double> calculatePrice({
    required LatLng from,
    required LatLng to,
    required DateTime dateTime,
  }) async {
    // –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Yandex API
    final route = await YandexMapsAPI.buildRoute(from, to);
    final distance = route.distance;
    final basePrice = distance * pricePerKm;
    final timeMultiplier = _getTimeMultiplier(dateTime);
    return basePrice * timeMultiplier;
  }
}
```

### 1.10.2 –ö–æ–¥ –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ç–∞–∫—Å–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
**–¢—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–Ω–æ—Å:**
- –≠–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ —Ç–æ—á–µ–∫ –Ω–∞ –∫–∞—Ä—Ç–µ
- –õ–æ–≥–∏–∫–∞ –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –∞–¥—Ä–µ—Å–æ–≤
- UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–∞—Ä—Ç–∞–º–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤–≤–µ–¥–µ–Ω–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤

---

## 2. –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø

### 2.1 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
lib/
‚îú‚îÄ‚îÄ main.dart                    # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ models/                      # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ user.dart               # –ú–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ booking.dart            # –ú–æ–¥–µ–ª—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ trip_type.dart          # –¢–∏–ø—ã –ø–æ–µ–∑–¥–æ–∫ –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚îú‚îÄ‚îÄ services/                    # –°–µ—Ä–≤–∏—Å—ã –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ auth_service.dart       # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ user_service.dart       # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ booking_service.dart    # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏
‚îú‚îÄ‚îÄ features/                    # –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ auth/                   # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ home/                   # –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
‚îÇ   ‚îú‚îÄ‚îÄ booking/                # –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ orders/                 # –ó–∞–∫–∞–∑—ã
‚îÇ   ‚îú‚îÄ‚îÄ tracking/               # –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ profile/                # –ü—Ä–æ—Ñ–∏–ª—å


### 2.2 –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- **Provider**: –î–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è (—Ç–µ–º—ã, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
- **StatefulWidget**: –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è —ç–∫—Ä–∞–Ω–æ–≤
- **SharedPreferences**: –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

---

## 3. –¢–ò–ü–´ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô –ò –ò–• –†–ê–ó–õ–ò–ß–ò–Ø

### 3.1 –ö–ª–∏–µ–Ω—Ç (UserType.client)

#### –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:
- –°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π (–≥—Ä—É–ø–ø–æ–≤—ã–µ –∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø–æ–µ–∑–¥–∫–∏)
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–∏—Ö –∑–∞–∫–∞–∑–æ–≤
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–µ–∑–¥–æ–∫
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–º

#### –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
- **–ì–ª–∞–≤–Ω–∞—è**: –î–∞—à–±–æ—Ä–¥ —Å –∫–Ω–æ–ø–∫–∞–º–∏ –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- **–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í—ã–±–æ—Ä —Ç–∏–ø–∞ –ø–æ–µ–∑–¥–∫–∏ (–≥—Ä—É–ø–ø–æ–≤–∞—è/–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è)
- **–ú–æ–∏ –∑–∞–∫–∞–∑—ã**: –°–ø–∏—Å–æ–∫ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
- **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ**: –ö–∞—Ä—Ç–∞ —Å –∞–∫—Ç–∏–≤–Ω—ã–º–∏ –ø–æ–µ–∑–¥–∫–∞–º–∏
- **–ü—Ä–æ—Ñ–∏–ª—å**: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–∫–∫–∞—É–Ω—Ç–∞

#### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
```dart
// –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä—É–ø–ø–æ–≤–æ–≥–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
final booking = Booking(
  clientId: currentUser.id,
  tripType: TripType.group,
  direction: Direction.donetskToRostov,
  pickupPoint: selectedPickupPoint,
  // ... –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
);
```

### 3.2 –î–∏—Å–ø–µ—Ç—á–µ—Ä (UserType.dispatcher)

#### –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–µ–∑–¥–æ–∫
- –î–æ—Å—Ç—É–ø –∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ

#### –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
- **–ì–ª–∞–≤–Ω–∞—è**: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –±—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
- **–í—Å–µ –∑–∞–∫–∞–∑—ã**: –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ**: –ö–∞—Ä—Ç–∞ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–µ–∑–¥–æ–∫
- **–ü—Ä–æ—Ñ–∏–ª—å**: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞

#### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
```dart
// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞
await BookingService().updateBookingStatus(
  bookingId, 
  BookingStatus.confirmed
);

// –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞
await BookingService().assignVehicle(bookingId, vehicleId);
```

---

## 4. –õ–û–ì–ò–ö–ê –†–ê–ë–û–¢–´ –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø

### 4.1 –ü—Ä–æ—Ü–µ—Å—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

#### –ê–ª–≥–æ—Ä–∏—Ç–º –≤—Ö–æ–¥–∞:
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
2. –í—ã–±–∏—Ä–∞–µ—Ç —Ç–∏–ø –∞–∫–∫–∞—É–Ω—Ç–∞ (–ö–ª–∏–µ–Ω—Ç/–î–∏—Å–ø–µ—Ç—á–µ—Ä)
3. –°–∏—Å—Ç–µ–º–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç SMS-–∫–æ–¥
4. –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–¥–∞ —á–µ—Ä–µ–∑ Firebase Auth
5. –°–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –≤ Firestore
6. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –ª–æ–∫–∞–ª—å–Ω–æ

```dart
// –ü—Ä–æ—Ü–µ—Å—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
Future<bool> verifyCode({
  required String verificationId,
  required String smsCode,
  required String name,
  required UserType userType,
}) async {
  final credential = PhoneAuthProvider.credential(
    verificationId: verificationId,
    smsCode: smsCode,
  );
  
  final authResult = await _firebaseAuth.signInWithCredential(credential);
  // –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Firestore...
}
```

### 4.2 –°–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

#### –ì—Ä—É–ø–ø–æ–≤—ã–µ –ø–æ–µ–∑–¥–∫–∏:
- **–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è**: –î–æ–Ω–µ—Ü–∫ ‚Üî –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É
- **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ**: –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- **–ú–µ—Å—Ç–∞ –ø–æ—Å–∞–¥–∫–∏**: –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ç–æ—á–∫–∏
- **–¶–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ**: –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã

#### –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø–æ–µ–∑–¥–∫–∏:
- **–ì–∏–±–∫–æ–µ –≤—Ä–µ–º—è**: –í—ã–±–æ—Ä –ª—é–±–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
- **–ê–¥—Ä–µ—Å–∞**: –ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ –ø–æ—Å–∞–¥–∫–∏/–≤—ã—Å–∞–¥–∫–∏
- **–¶–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ**: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ç–∞—Ä–∏—Ñ—ã

```dart
// –ú–æ–¥–µ–ª—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
class Booking {
  final String id;
  final String clientId;
  final TripType tripType;          // group | individual
  final Direction direction;        // donetskToRostov | rostovToDonetsk
  final DateTime departureDate;
  final String departureTime;
  final int passengerCount;
  final BookingStatus status;       // pending | confirmed | inProgress | completed
  final List<TrackingPoint> trackingPoints;
}
```

### 4.3 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ –∑–∞–∫–∞–∑–æ–≤

#### –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∑–∞–∫–∞–∑–∞:
1. **Pending** - –°–æ–∑–¥–∞–Ω, –æ–∂–∏–¥–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
2. **Confirmed** - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–º
3. **Assigned** - –ù–∞–∑–Ω–∞—á–µ–Ω —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç
4. **InProgress** - –ü–æ–µ–∑–¥–∫–∞ –Ω–∞—á–∞–ª–∞—Å—å
5. **Completed** - –ü–æ–µ–∑–¥–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
6. **Cancelled** - –û—Ç–º–µ–Ω—ë–Ω

```dart
enum BookingStatus {
  pending,
  confirmed,
  assigned,
  inProgress,
  completed,
  cancelled,
}
```

---

## 5. –í–ó–ê–ò–ú–û–î–ï–ô–°–¢–í–ò–ï –° –°–ï–†–í–ï–†–û–ú

### 5.1 Firebase Authentication
- **–ú–µ—Ç–æ–¥**: Phone Authentication
- **SMS-–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —á–µ—Ä–µ–∑ Firebase
- **–¢–æ–∫–µ–Ω—ã**: JWT –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

### 5.2 Firestore Database

#### –ö–æ–ª–ª–µ–∫—Ü–∏–∏:
```
/users/{userId}
- id: string
- phone: string
- name: string
- userType: "UserType.client" | "UserType.dispatcher"
- createdAt: timestamp
- fcmToken: string?

/bookings/{bookingId}
- id: string
- clientId: string
- tripType: "TripType.group" | "TripType.individual"
- direction: Direction
- departureDate: timestamp
- status: BookingStatus
- trackingPoints: TrackingPoint[]
```

#### –ò–Ω–¥–µ–∫—Å—ã:
- `clientId` –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∑–∞–∫–∞–∑–æ–≤ –∫–ª–∏–µ–Ω—Ç–∞
- `status` –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤
- `departureDate` –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –ø–æ –¥–∞—Ç–µ

### 5.3 API —Å–µ—Ä–≤–∏—Å–æ–≤

#### AuthService –º–µ—Ç–æ–¥—ã:
```dart
Future<bool> isLoggedIn()
Future<User?> getCurrentUser()
Future<UserType?> getUserType()
Future<bool> verifyCode({...})
Future<void> logout()
```

#### BookingService –º–µ—Ç–æ–¥—ã:
```dart
Future<String> createBooking(Booking booking)
Future<List<Booking>> getClientBookings(String clientId)
Future<List<Booking>> getActiveBookings()
Future<void> updateBookingStatus(String id, BookingStatus status)
Future<void> assignVehicle(String bookingId, String vehicleId)
```

---

## 6. –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨–°–ö–ò–ô –ò–ù–¢–ï–†–§–ï–ô–°

### 6.1 –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
- **Bottom Tab Bar**: 5 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª–æ–≤
- **–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è**: –í—Ç–æ—Ä–æ–π —Ç–∞–± –º–µ–Ω—è–µ—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –ö–ª–∏–µ–Ω—Ç: "–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ"
  - –î–∏—Å–ø–µ—Ç—á–µ—Ä: "–ó–∞–∫–∞–∑—ã"

```dart
// –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
Widget _buildSecondTab() {
  if (_userType == UserType.client) {
    return const BookingScreen();
  } else {
    return const OrdersScreen();
  }
}
```

### 6.2 –î–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∞
- **–°—Ç–∏–ª—å**: iOS Cupertino Design
- **–¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞**: –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ü–≤–µ—Ç–∞ iOS
- **–¢–µ–º—ã**: –°–≤–µ—Ç–ª–∞—è –∏ —Ç—ë–º–Ω–∞—è (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ)
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**: –ù–∞—Ç–∏–≤–Ω—ã–µ iOS –≤–∏–¥–∂–µ—Ç—ã

### 6.3 –≠–∫—Ä–∞–Ω—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

#### –≠–∫—Ä–∞–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:
- –ü–æ–ª–µ –≤–≤–æ–¥–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ —Å –º–∞—Å–∫–æ–π
- –í—ã–±–æ—Ä —Ç–∏–ø–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ä–∞–¥–∏–æ-–∫–Ω–æ–ø–∫–∏)
- –ö–Ω–æ–ø–∫–∞ "–í–æ–π—Ç–∏" —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º –∑–∞–≥—Ä—É–∑–∫–∏

#### –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω:
**–î–ª—è –∫–ª–∏–µ–Ω—Ç–∞:**
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–µ–∑–¥–æ–∫
- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø–æ–µ–∑–¥–∫—É)
- –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–∫–∞–∑—ã

**–î–ª—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞:**
- –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–∫–∞–∑–æ–≤
- –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–µ–∑–¥–∫–∏
- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

#### –≠–∫—Ä–∞–Ω –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (—Ç–æ–ª—å–∫–æ –∫–ª–∏–µ–Ω—Ç):
- –í—ã–±–æ—Ä —Ç–∏–ø–∞ –ø–æ–µ–∑–¥–∫–∏
- –ì—Ä—É–ø–ø–æ–≤–∞—è: —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è: –≥–∏–±–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

---

## 7. –ë–ò–ó–ù–ï–°-–õ–û–ì–ò–ö–ê

### 7.1 –¶–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ

#### –ì—Ä—É–ø–ø–æ–≤—ã–µ –ø–æ–µ–∑–¥–∫–∏:
```dart
class TripPricing {
  static const Map<Direction, int> groupPrices = {
    Direction.donetskToRostov: 2000,
    Direction.rostovToDonetsk: 2000,
  };
}
```

#### –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø–æ–µ–∑–¥–∫–∏:
- –ë–∞–∑–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å 8000 —Ä—É–±. 
- –ù–∞–¥–±–∞–≤–∫–∏ –∑–∞ –≤—Ä–µ–º—è —Å—É—Ç–æ–∫ + 2000 —Ä—É–±. –∏—Ç–æ–≥–æ 10 000 —Ä—É–±. 
- –°–∫–∏–¥–∫–∏ –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤

### 7.2 –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

#### –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:
```dart
bool _validateBooking() {
  if (_selectedDate.isBefore(DateTime.now())) {
    _showError('–î–∞—Ç–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –ø—Ä–æ—à–ª–æ–º');
    return false;
  }
  
  if (_passengerCount < 1 || _passengerCount > 8) {
    _showError('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤: 1-8');
    return false;
  }
  
  return true;
}
```

#### –°–µ—Ä–≤–µ—Ä–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –º–µ—Å—Ç
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

### 7.3 –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

#### Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞
- –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –ø–æ–µ–∑–¥–∫–µ
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–≤ –æ –Ω–æ–≤—ã—Ö –∑–∞–∫–∞–∑–∞—Ö

```dart
// FCM —Ç–æ–∫–µ–Ω –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
Future<void> updateFCMToken(String userId, String fcmToken) async {
  await _firestore.collection('users').doc(userId).update({
    'fcmToken': fcmToken,
  });
}
```

---

## 8. –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨ –ò –î–ê–ù–ù–´–ï

### 8.1 –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **Firebase Auth**: –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è SMS-–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
- **–¢–æ–∫–µ–Ω—ã**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ JWT
- **–°–µ—Å—Å–∏–∏**: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤—Ö–æ–¥–∞

### 8.2 –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–µ–π**: –ù–∞ —É—Ä–æ–≤–Ω–µ UI –∏ API
- **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**: –ö–ª–∏–µ–Ω—Ç—ã –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –∑–∞–∫–∞–∑—ã
- **–ü—Ä–∞–≤–∏–ª–∞ Firestore**: –°–µ—Ä–≤–µ—Ä–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–∞

### 8.3 –ó–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö
- **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ**: HTTPS –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **–õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ**: SharedPreferences –¥–ª—è –Ω–µ—Å–µ–∫—Ä–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä (—Ç–µ–ª–µ—Ñ–æ–Ω, –∏–º—è)

---

## 9. –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨ –ò –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø

### 9.1 –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ**: –ü–æ—Å–ª–µ–¥–Ω–∏–π —ç–∫—Ä–∞–Ω, –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **Firestore**: –û—Ñ–ª–∞–π–Ω-–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### 9.2 –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- **–ü–∞–≥–∏–Ω–∞—Ü–∏—è**: –î–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤ –∑–∞–∫–∞–∑–æ–≤
- **–õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞**: –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é
- **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã**: CupertinoActivityIndicator –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### 9.3 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è UI
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π**: –ü—Ä–æ–≤–µ—Ä–∫–∞ `mounted` –ø–µ—Ä–µ–¥ `setState`
- **–†–µ—Å—É—Ä—Å—ã**: –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤
- **Hot Reload**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±—ã—Å—Ç—Ä–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

---

## 10. –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ò –ö–ê–ß–ï–°–¢–í–û

### 10.1 –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
```dart
try {
  final user = await AuthService.instance.getCurrentUser();
  if (mounted) {
    setState(() => _currentUser = user);
  }
} catch (e) {
  if (mounted) {
    _showError('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: $e');
  }
}
```

### 10.2 –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
- –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–æ–º–µ—Ä–æ–≤ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞—Ç –∏ –≤—Ä–µ–º–µ–Ω–∏

### 10.3 –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç
- –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤–∞–∂–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π

---

## 11. –ü–õ–ê–ù–´ –†–ê–ó–í–ò–¢–ò–Ø

### 11.1 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–∞—Ä—Ç
- **Yandex Maps**: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è**: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–ú–∞—Ä—à—Ä—É—Ç—ã**: –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö –ø—É—Ç–µ–π

### 11.2 –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- **–†–µ–π—Ç–∏–Ω–≥–∏**: –°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–æ–∫ –≤–æ–¥–∏—Ç–µ–ª–µ–π
- **–ß–∞—Ç**: –°–≤—è–∑—å —Å –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–º
- **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞**: –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–≤

### 11.3 –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å
- **Faerbase





