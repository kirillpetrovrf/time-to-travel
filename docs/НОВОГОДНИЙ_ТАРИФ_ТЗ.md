# üéÑ –¢–ï–•–ù–ò–ß–ï–°–ö–û–ï –ó–ê–î–ê–ù–ò–ï: –ù–æ–≤–æ–≥–æ–¥–Ω–∏–π —Ç–∞—Ä–∏—Ñ (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω–∞–º–∏)

## üìä –¢–ï–ö–£–©–ê–Ø –°–ò–¢–£–ê–¶–ò–Ø

### –ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —Ü–µ–Ω—ã —Å–µ–π—á–∞—Å:
1. **–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ü–µ–Ω—ã** (—Å—Ç–∞—Ä–∞—è —Å–∏—Å—Ç–µ–º–∞) ‚Äî `lib/models/trip_type.dart`
   - –§–∞–π–ª: `_fixedRoutesPrices` (Map<String, double>)
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—Ä—à—Ä—É—Ç–æ–≤: ~**300+ –ø–∞—Ä** (–ø—Ä—è–º—ã–µ + –æ–±—Ä–∞—Ç–Ω—ã–µ)
   - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ü–µ–Ω:
     - 5000‚ÇΩ ‚Äî –º–∞—Ä—à—Ä—É—Ç—ã –¥–æ –ö–ü–ü –£—Å–ø–µ–Ω–∫–∞ (12 –≥–æ—Ä–æ–¥–æ–≤ √ó 2 –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è = 24 –º–∞—Ä—à—Ä—É—Ç–∞)
     - 7000‚ÇΩ ‚Äî –ü—Ä–∏–∞–∑–æ–≤—å–µ (3 –º–∞—Ä—à—Ä—É—Ç–∞)
     - 8000‚ÇΩ ‚Äî –ª–æ–∫–∞–ª—å–Ω—ã–µ (10 –≥–æ—Ä–æ–¥–æ–≤ √ó 2 = 20 –º–∞—Ä—à—Ä—É—Ç–æ–≤)
     - 8000‚ÇΩ ‚Äî –†–æ—Å—Ç–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å (6 –≥–æ—Ä–æ–¥–æ–≤ √ó 6 —Å—Ç–∞—Ä—Ç–æ–≤—ã—Ö —Ç–æ—á–µ–∫ √ó 2 = 72 –º–∞—Ä—à—Ä—É—Ç–∞)
     - 10000‚ÇΩ ‚Äî –î–æ–Ω–µ—Ü–∫-–õ—É–≥–∞–Ω—Å–∫ (8 –≥–æ—Ä–æ–¥–æ–≤ √ó 2 = 16 –º–∞—Ä—à—Ä—É—Ç–æ–≤)
     - 22000-24000‚ÇΩ ‚Äî –ï–π—Å–∫ (3 –º–∞—Ä—à—Ä—É—Ç–∞)
     - 40000-50000‚ÇΩ ‚Äî –¥–∞–ª—å–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã (15 –º–∞—Ä—à—Ä—É—Ç–æ–≤)
     - 45000‚ÇΩ ‚Äî –ö—Ä—ã–º (13 –≥–æ—Ä–æ–¥–æ–≤ √ó 3 –≤–∞—Ä–∏–∞–Ω—Ç–∞ = 39 –º–∞—Ä—à—Ä—É—Ç–æ–≤)
     - 77000‚ÇΩ ‚Äî –ú–æ—Å–∫–≤–∞ (1 –º–∞—Ä—à—Ä—É—Ç)

2. **–ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã** (–Ω–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞) ‚Äî SQLite –±–∞–∑–∞
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑: `RouteManagementService`
   - –≠–∫—Ä–∞–Ω –∞–¥–º–∏–Ω–∞: `FixedPricesAdminScreen` ‚Üí `RouteManagementWidget`
   - –ë–∞–∑–∞: `predefined_routes` (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å/—É–¥–∞–ª—è—Ç—å/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å)

3. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ü–µ–Ω:**
   ```
   1Ô∏è‚É£ –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã (SQLite)
   2Ô∏è‚É£ –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã (_fixedRoutesPrices)
   3Ô∏è‚É£ –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç –î–æ–Ω–µ—Ü–∫-–†–æ—Å—Ç–æ–≤
   4Ô∏è‚É£ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç –ø–æ –∫–∏–ª–æ–º–µ—Ç—Ä–∞–∂—É
   ```

### –ü—Ä–æ–±–ª–µ–º–∞:
- –ù–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º–∞ –º–∞—Å—Å–æ–≤–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–¥–Ω—è—Ç—å –≤—Å–µ –Ω–∞ 10% –ø–µ—Ä–µ–¥ –ø—Ä–∞–∑–¥–Ω–∏–∫–∞–º–∏)
- –†—É—á–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ 300+ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∑–∞–π–º—ë—Ç —á–∞—Å—ã
- –ù—É–∂–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—Ä–µ–º–µ–Ω–Ω–æ –ø–æ–≤—ã—Å–∏—Ç—å —Ü–µ–Ω—ã –∏ –ø–æ—Ç–æ–º –≤–µ—Ä–Ω—É—Ç—å –æ–±—Ä–∞—Ç–Ω–æ

---

## üéØ –¶–ï–õ–¨

–°–æ–∑–¥–∞—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º **"–ù–æ–≤–æ–≥–æ–¥–Ω–∏–π —Ç–∞—Ä–∏—Ñ"** (–∏–ª–∏ "–ü—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–π —Ä–µ–∂–∏–º") –¥–ª—è –º–∞—Å—Å–æ–≤–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω –≤—Å–µ—Ö —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é:
1. –ü–æ–≤—ã—Å–∏—Ç—å —Ü–µ–Ω—ã –Ω–∞ –ø—Ä–æ—Ü–µ–Ω—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, +15%)
2. –ü–æ–≤—ã—Å–∏—Ç—å —Ü–µ–Ω—ã –Ω–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å—É–º–º—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, +1000‚ÇΩ)
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –±—ã—Å—Ç—Ä–æ–≥–æ –≤–æ–∑–≤—Ä–∞—Ç–∞
4. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –¥–ª—è –≤—Å–µ—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤

---

## üìã –í–ê–†–ò–ê–ù–¢–´ –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### ‚≠ê –í–ê–†–ò–ê–ù–¢ 1: –ú–Ω–æ–∂–∏—Ç–µ–ª—å —Ü–µ–Ω—ã –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

**–°—É—Ç—å:** –î–æ–±–∞–≤–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å/–Ω–∞–¥–±–∞–≤–∫—É, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ —Ä–∞—Å—á—ë—Ç–µ —Ü–µ–Ω—ã.

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```
–¶–µ–Ω–∞ = –ë–∞–∑–æ–≤–∞—è–¶–µ–Ω–∞ √ó –ú–Ω–æ–∂–∏—Ç–µ–ª—å + –ù–∞–¥–±–∞–≤–∫–∞

–ü—Ä–∏–º–µ—Ä—ã:
- –û–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º: 5000‚ÇΩ √ó 1.0 + 0‚ÇΩ = 5000‚ÇΩ
- +15%: 5000‚ÇΩ √ó 1.15 + 0‚ÇΩ = 5750‚ÇΩ
- +1000‚ÇΩ: 5000‚ÇΩ √ó 1.0 + 1000‚ÇΩ = 6000‚ÇΩ
```

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**

1. **–î–æ–±–∞–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** (5 –º–∏–Ω)
   - –§–∞–π–ª: `lib/services/calculator_settings_service.dart`
   - –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è:
     ```dart
     bool holidayModeEnabled = false;
     String holidayModeType = 'percent'; // 'percent' –∏–ª–∏ 'fixed'
     double holidayMultiplier = 1.0; // –¥–ª—è –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ (1.15 = +15%)
     double holidayAddition = 0.0; // –¥–ª—è —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –Ω–∞–¥–±–∞–≤–∫–∏
     ```

2. **–ò–∑–º–µ–Ω–∏—Ç—å –º–µ—Ç–æ–¥ `getFixedRoutePrice()`** (10 –º–∏–Ω)
   - –§–∞–π–ª: `lib/models/trip_type.dart` (—Å—Ç—Ä–æ–∫–∞ 810)
   - –¢–µ–∫—É—â–∏–π –∫–æ–¥:
     ```dart
     static double? getFixedRoutePrice(String? fromCity, String? toCity) {
       // ... –ø–æ–∏—Å–∫ —Ü–µ–Ω—ã ...
       return price; // –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –±–∞–∑–æ–≤—É—é —Ü–µ–Ω—É
     }
     ```
   - –ù–æ–≤—ã–π –∫–æ–¥:
     ```dart
     static double? getFixedRoutePrice(String? fromCity, String? toCity, {
       bool applyHolidayMode = true, // –º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –¥–ª—è –∞–¥–º–∏–Ω–∫–∏
     }) async {
       // ... –ø–æ–∏—Å–∫ –±–∞–∑–æ–≤–æ–π —Ü–µ–Ω—ã ...
       if (basePrice == null) return null;
       
       // –ü—Ä–∏–º–µ–Ω—è–µ–º –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–π —Ä–µ–∂–∏–º
       if (applyHolidayMode) {
         final settings = await CalculatorSettingsService.instance.getSettings();
         if (settings.holidayModeEnabled) {
           if (settings.holidayModeType == 'percent') {
             basePrice *= settings.holidayMultiplier;
           } else {
             basePrice += settings.holidayAddition;
           }
         }
       }
       
       return basePrice;
     }
     ```

3. **–°–æ–∑–¥–∞—Ç—å UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è** (30 –º–∏–Ω)
   - –§–∞–π–ª: –Ω–æ–≤—ã–π `lib/features/admin/screens/holiday_pricing_screen.dart`
   - –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
     ```
     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
     ‚îÇ  üéÑ –ü—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–π —Ä–µ–∂–∏–º —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è ‚îÇ
     ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
     ‚îÇ                                     ‚îÇ
     ‚îÇ  [ ] –í–∫–ª—é—á–∏—Ç—å –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–π —Ç–∞—Ä–∏—Ñ     ‚îÇ
     ‚îÇ                                     ‚îÇ
     ‚îÇ  –¢–∏–ø –∏–∑–º–µ–Ω–µ–Ω–∏—è:                     ‚îÇ
     ‚îÇ  ‚óã –ü—Ä–æ—Ü–µ–Ω—Ç       ‚óã –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è    ‚îÇ
     ‚îÇ                     —Å—É–º–º–∞           ‚îÇ
     ‚îÇ                                     ‚îÇ
     ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
     ‚îÇ  ‚îÇ –ü—Ä–æ—Ü–µ–Ω—Ç –ø–æ–≤—ã—à–µ–Ω–∏—è: [15] %     ‚îÇ  ‚îÇ
     ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
     ‚îÇ                                     ‚îÇ
     ‚îÇ  –∏–ª–∏                                ‚îÇ
     ‚îÇ                                     ‚îÇ
     ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
     ‚îÇ  ‚îÇ –î–æ–ø–ª–∞—Ç–∞: [1000] ‚ÇΩ             ‚îÇ  ‚îÇ
     ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
     ‚îÇ                                     ‚îÇ
     ‚îÇ  üìä –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π:         ‚îÇ
     ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
     ‚îÇ  ‚îÇ –ö–ü–ü –£—Å–ø–µ–Ω–∫–∞: 5000‚ÇΩ ‚Üí 5750‚ÇΩ   ‚îÇ  ‚îÇ
     ‚îÇ  ‚îÇ –î–æ–Ω–µ—Ü–∫-–ú–∞–∫–µ–µ–≤–∫–∞: 8000‚ÇΩ ‚Üí 9200‚ÇΩ‚îÇ ‚îÇ
     ‚îÇ  ‚îÇ –ö—Ä—ã–º: 45000‚ÇΩ ‚Üí 51750‚ÇΩ        ‚îÇ  ‚îÇ
     ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
     ‚îÇ                                     ‚îÇ
     ‚îÇ  [  –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è  ]         ‚îÇ
     ‚îÇ  [  –í–µ—Ä–Ω—É—Ç—å –æ–±—ã—á–Ω—ã–µ —Ü–µ–Ω—ã ]         ‚îÇ
     ‚îÇ                                     ‚îÇ
     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
     ```

4. **–î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** (5 –º–∏–Ω)
   - –§–∞–π–ª: `lib/features/admin/screens/admin_panel_screen.dart`
   - –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "üéÑ –ü—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–µ —Ü–µ–Ω—ã"

**–ü–ª—é—Å—ã:**
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (50 –º–∏–Ω—É—Ç)
- ‚úÖ –ù–µ –∏–∑–º–µ–Ω—è–µ—Ç –±–∞–∑–æ–≤—ã–µ —Ü–µ–Ω—ã (–º–æ–∂–Ω–æ –æ—Ç–∫–∞—Ç–∏—Ç—å –º–≥–Ω–æ–≤–µ–Ω–Ω–æ)
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å –æ–±–µ–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ (—Å—Ç–∞—Ä—ã–µ + –Ω–æ–≤—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã)
- ‚úÖ –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–µ—Ä–µ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º
- ‚úÖ –ú–æ–∂–Ω–æ –≤–∫–ª—é—á–∞—Ç—å/–≤—ã–∫–ª—é—á–∞—Ç—å –æ–¥–Ω–æ–π –∫–Ω–æ–ø–∫–æ–π

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –º–µ—Ç–æ–¥–æ–≤ (`getFixedRoutePrice` ‚Üí async)
- ‚ö†Ô∏è –ú–Ω–æ–∂–∏—Ç–µ–ª—å —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö (–Ω—É–∂–µ–Ω Firebase –∏–ª–∏ SharedPreferences)

**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** ‚≠ê‚≠ê‚òÜ‚òÜ‚òÜ (2/5)
**–í—Ä–µ–º—è:** ~50-60 –º–∏–Ω—É—Ç
**–ö–æ–¥:** ~150 —Å—Ç—Ä–æ–∫

---

### üîß –í–ê–†–ò–ê–ù–¢ 2: –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ø–∏–π –º–∞—Ä—à—Ä—É—Ç–æ–≤

**–°—É—Ç—å:** –°–æ–∑–¥–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—É—é –∫–æ–ø–∏—é –≤—Å–µ—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Å –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–º–∏ —Ü–µ–Ω–∞–º–∏.

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```
–û–±—ã—á–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã:
‚îú‚îÄ‚îÄ –¥–æ–Ω–µ—Ü–∫-—É—Å–ø–µ–Ω–∫–∞: 5000‚ÇΩ
‚îú‚îÄ‚îÄ –¥–æ–Ω–µ—Ü–∫-–º–∞–∫–µ–µ–≤–∫–∞: 8000‚ÇΩ
‚îî‚îÄ‚îÄ ...

–ü—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã (–∫–æ–ø–∏—è):
‚îú‚îÄ‚îÄ –¥–æ–Ω–µ—Ü–∫-—É—Å–ø–µ–Ω–∫–∞: 5750‚ÇΩ
‚îú‚îÄ‚îÄ –¥–æ–Ω–µ—Ü–∫-–º–∞–∫–µ–µ–≤–∫–∞: 9200‚ÇΩ
‚îî‚îÄ‚îÄ ...

–ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å: –∫–∞–∫–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
```

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**

1. **–î–æ–±–∞–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É `holiday_routes` –≤ SQLite** (10 –º–∏–Ω)
   ```sql
   CREATE TABLE holiday_routes (
     id TEXT PRIMARY KEY,
     fromCity TEXT,
     toCity TEXT,
     originalPrice REAL,
     holidayPrice REAL,
     createdAt INTEGER
   )
   ```

2. **–ú–µ—Ç–æ–¥ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤** (20 –º–∏–Ω)
   ```dart
   Future<void> createHolidayPrices({
     required String type, // 'percent' –∏–ª–∏ 'fixed'
     required double value,
   }) async {
     // 1. –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–µ —Ü–µ–Ω—ã
     await db.delete('holiday_routes');
     
     // 2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –º–∞—Ä—à—Ä—É—Ç—ã –∏–∑ _fixedRoutesPrices
     for (var entry in _fixedRoutesPrices.entries) {
       final route = entry.key.split('-');
       final originalPrice = entry.value;
       final holidayPrice = type == 'percent'
         ? originalPrice * (1 + value / 100)
         : originalPrice + value;
       
       await db.insert('holiday_routes', {
         'id': Uuid().v4(),
         'fromCity': route[0],
         'toCity': route[1],
         'originalPrice': originalPrice,
         'holidayPrice': holidayPrice,
         'createdAt': DateTime.now().millisecondsSinceEpoch,
       });
     }
   }
   ```

3. **–ò–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É –ø–æ–ª—É—á–µ–Ω–∏—è —Ü–µ–Ω—ã** (15 –º–∏–Ω)
   ```dart
   static Future<double?> getFixedRoutePrice(
     String? fromCity,
     String? toCity,
   ) async {
     // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤–∫–ª—é—á–µ–Ω –ª–∏ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–π —Ä–µ–∂–∏–º
     final settings = await CalculatorSettingsService.instance.getSettings();
     
     if (settings.holidayModeEnabled) {
       // –ò—â–µ–º –≤ —Ç–∞–±–ª–∏—Ü–µ holiday_routes
       final holidayPrice = await db.query(
         'holiday_routes',
         where: '(fromCity = ? AND toCity = ?) OR (fromCity = ? AND toCity = ?)',
         whereArgs: [from, to, to, from],
       );
       if (holidayPrice.isNotEmpty) {
         return holidayPrice.first['holidayPrice'] as double;
       }
     }
     
     // –ò–Ω–∞—á–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ–±—ã—á–Ω—É—é —Ü–µ–Ω—É
     return _fixedRoutesPrices['$from-$to'];
   }
   ```

4. **UI –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç—É 1** (30 –º–∏–Ω)

**–ü–ª—é—Å—ã:**
- ‚úÖ –ù–µ –∏–∑–º–µ–Ω—è–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã
- ‚úÖ –ú–æ–∂–Ω–æ –æ—Ç–∫–∞—Ç–∏—Ç—å –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (300+ –∑–∞–ø–∏—Å–µ–π –≤ –ë–î)
- ‚ö†Ô∏è –°–ª–æ–∂–Ω–µ–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
- ‚ö†Ô∏è –ë–æ–ª—å—à–µ –∫–æ–¥–∞ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏

**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** ‚≠ê‚≠ê‚≠ê‚òÜ‚òÜ (3/5)
**–í—Ä–µ–º—è:** ~75-90 –º–∏–Ω—É—Ç
**–ö–æ–¥:** ~250 —Å—Ç—Ä–æ–∫

---

### üóÑÔ∏è –í–ê–†–ò–ê–ù–¢ 3: –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –±–∞–∑–æ–≤–æ–π Map –Ω–∞–ø—Ä—è–º—É—é

**–°—É—Ç—å:** –í—Ä–µ–º–µ–Ω–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –≤ `_fixedRoutesPrices` —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª–æ–≤.

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```dart
// –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã (read-only)
static const Map<String, double> _originalPrices = { ... };

// –¢–µ–∫—É—â–∏–µ —Ü–µ–Ω—ã (–º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å—Å—è)
static Map<String, double> _fixedRoutesPrices = Map.from(_originalPrices);

// –ü—Ä–∏–º–µ–Ω–∏—Ç—å –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–π —Ä–µ–∂–∏–º
static void applyHolidayPricing(String type, double value) {
  _fixedRoutesPrices = _originalPrices.map((key, price) {
    return MapEntry(key, type == 'percent' 
      ? price * (1 + value / 100)
      : price + value
    );
  });
}

// –í–µ—Ä–Ω—É—Ç—å –æ–±—ã—á–Ω—ã–µ —Ü–µ–Ω—ã
static void resetToOriginalPricing() {
  _fixedRoutesPrices = Map.from(_originalPrices);
}
```

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**

1. **–ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ü–µ–Ω** (15 –º–∏–Ω)
   - –§–∞–π–ª: `lib/models/trip_type.dart`
   - –î—É–±–ª–∏—Ä–æ–≤–∞—Ç—å `_fixedRoutesPrices` ‚Üí `_originalPrices`
   - –°–¥–µ–ª–∞—Ç—å `_fixedRoutesPrices` –∏–∑–º–µ–Ω—è–µ–º–æ–π

2. **–î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è** (10 –º–∏–Ω)
   ```dart
   static void applyHolidayPricing({
     required String type,
     required double value,
   }) {
     _fixedRoutesPrices = _originalPrices.map((key, price) {
       final newPrice = type == 'percent'
         ? price * (1 + value / 100)
         : price + value;
       return MapEntry(key, newPrice);
     });
     print('‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω—ã –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–µ —Ü–µ–Ω—ã: ${_fixedRoutesPrices.length} –º–∞—Ä—à—Ä—É—Ç–æ–≤');
   }
   
   static void resetToOriginalPricing() {
     _fixedRoutesPrices = Map.from(_originalPrices);
     print('‚úÖ –í–æ–∑–≤—Ä–∞—â–µ–Ω—ã –æ–±—ã—á–Ω—ã–µ —Ü–µ–Ω—ã');
   }
   ```

3. **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ** (10 –º–∏–Ω)
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SharedPreferences –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:
     - –í–∫–ª—é—á–µ–Ω –ª–∏ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–π —Ä–µ–∂–∏–º
     - –¢–∏–ø (–ø—Ä–æ—Ü–µ–Ω—Ç/—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è)
     - –ó–Ω–∞—á–µ–Ω–∏–µ
   - –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∏ –ø—Ä–∏–º–µ–Ω—è—Ç—å

4. **UI –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç—É 1** (30 –º–∏–Ω)

**–ü–ª—é—Å—ã:**
- ‚úÖ –°–∞–º–∞—è –±—ã—Å—Ç—Ä–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- ‚úÖ –ú–∏–Ω–∏–º—É–º –∫–æ–¥–∞
- ‚úÖ –ù–µ –Ω—É–∂–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –ò–∑–º–µ–Ω–µ–Ω–∏—è —Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ (–Ω—É–∂–µ–Ω SharedPreferences)
- ‚ö†Ô∏è –ú–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å, –∫–∞–∫–∏–µ —Ü–µ–Ω—ã —Å–µ–π—á–∞—Å –¥–µ–π—Å—Ç–≤—É—é—Ç
- ‚ö†Ô∏è –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏–∑ SQLite

**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** ‚≠ê‚≠ê‚òÜ‚òÜ‚òÜ (2/5)
**–í—Ä–µ–º—è:** ~60-70 –º–∏–Ω—É—Ç
**–ö–æ–¥:** ~120 —Å—Ç—Ä–æ–∫

---

## üìä –°–†–ê–í–ù–ò–¢–ï–õ–¨–ù–ê–Ø –¢–ê–ë–õ–ò–¶–ê

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –í–∞—Ä–∏–∞–Ω—Ç 1: –ú–Ω–æ–∂–∏—Ç–µ–ª—å | –í–∞—Ä–∏–∞–Ω—Ç 2: –ö–æ–ø–∏–∏ | –í–∞—Ä–∏–∞–Ω—Ç 3: –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è Map |
|----------|---------------------|------------------|---------------------------|
| **–í—Ä–µ–º—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏** | ~50-60 –º–∏–Ω | ~75-90 –º–∏–Ω | ~60-70 –º–∏–Ω |
| **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞** | ~150 | ~250 | ~120 |
| **–°–ª–æ–∂–Ω–æ—Å—Ç—å** | 2/5 | 3/5 | 2/5 |
| **–û—Ç–∫–∞—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π** | –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ | –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ | –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ |
| **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ä–∏–≥–∏–Ω–∞–ª–æ–≤** | ‚úÖ –ù–µ —Ç—Ä–æ–≥–∞–µ—Ç | ‚úÖ –í –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ | ‚úÖ –í `_originalPrices` |
| **–†–∞–±–æ—Ç–∞ —Å SQLite –º–∞—Ä—à—Ä—É—Ç–∞–º–∏** | ‚úÖ –î–∞ | ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ | ‚ùå –¢–æ–ª—å–∫–æ Map |
| **–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä** | ‚úÖ –õ–µ–≥–∫–æ | ‚úÖ –õ–µ–≥–∫–æ | ‚úÖ –õ–µ–≥–∫–æ |
| **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Firebase** | ‚úÖ –ß–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ | ‚ö†Ô∏è –ù—É–∂–Ω–∞ –ª–æ–≥–∏–∫–∞ | ‚ö†Ô∏è –¢–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ |

---

## üèÜ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø

**–í—ã–±—Ä–∞—Ç—å –í–ê–†–ò–ê–ù–¢ 1: –ú–Ω–æ–∂–∏—Ç–µ–ª—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö**

**–ü—Ä–∏—á–∏–Ω—ã:**
1. ‚úÖ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –æ–±–µ–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤
2. ‚úÖ –ì–∏–±–∫–æ—Å—Ç—å ‚Äî –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –ø—Ä–æ—Ü–µ–Ω—Ç/—Å—É–º–º—É –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç
3. ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Äî –Ω–µ —Ç—Ä–æ–≥–∞–µ—Ç –±–∞–∑–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
4. ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å ‚Äî –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∏–µ —Ç–∏–ø—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–∫–∏–¥–∫–∏)
5. ‚úÖ –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

---

## üìù –ü–õ–ê–ù –í–ù–ï–î–†–ï–ù–ò–Ø (–í–∞—Ä–∏–∞–Ω—Ç 1)

### –≠—Ç–∞–ø 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (10 –º–∏–Ω)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è –≤ `CalculatorSettingsService`
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ SharedPreferences

### –≠—Ç–∞–ø 2: –õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á—ë—Ç–∞ (15 –º–∏–Ω)
- [ ] –ò–∑–º–µ–Ω–∏—Ç—å `getFixedRoutePrice()` ‚Üí –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–Ω–æ–∂–∏—Ç–µ–ª—è
- [ ] –ò–∑–º–µ–Ω–∏—Ç—å `RouteManagementService.getRoutePrice()` ‚Äî –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—á—ë—Ç–æ–≤

### –≠—Ç–∞–ø 3: UI (30 –º–∏–Ω)
- [ ] –°–æ–∑–¥–∞—Ç—å `HolidayPricingScreen`
- [ ] –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –≤–∫–ª/–≤—ã–∫–ª
- [ ] –í—ã–±–æ—Ä —Ç–∏–ø–∞ (–ø—Ä–æ—Ü–µ–Ω—Ç/—Å—É–º–º–∞)
- [ ] –í–≤–æ–¥ –∑–Ω–∞—á–µ–Ω–∏—è
- [ ] –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π (5-7 –ø—Ä–∏–º–µ—Ä–æ–≤)
- [ ] –ö–Ω–æ–ø–∫–∏ "–ü—Ä–∏–º–µ–Ω–∏—Ç—å" –∏ "–°–±—Ä–æ—Å–∏—Ç—å"

### –≠—Ç–∞–ø 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (5 –º–∏–Ω)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É –≤ `AdminPanelScreen`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –≠—Ç–∞–ø 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (10 –º–∏–Ω)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ü–µ–Ω–∞–º–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–∫–∞—Ç –∫ –æ–±—ã—á–Ω—ã–º —Ü–µ–Ω–∞–º
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞

**–û–±—â–µ–µ –≤—Ä–µ–º—è: 70 –º–∏–Ω—É—Ç**

---

## üíª –ü–†–ò–ú–ï–†–ù–´–ô –ö–û–î (–í–∞—Ä–∏–∞–Ω—Ç 1)

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∏
```dart
// lib/models/calculator_settings.dart
class CalculatorSettings {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è ...
  
  final bool holidayModeEnabled;
  final String holidayModeType; // 'percent' –∏–ª–∏ 'fixed'
  final double holidayValue; // 15.0 –¥–ª—è –ø—Ä–æ—Ü–µ–Ω—Ç–∞, 1000.0 –¥–ª—è —Å—É–º–º—ã
  
  CalculatorSettings({
    // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã ...
    this.holidayModeEnabled = false,
    this.holidayModeType = 'percent',
    this.holidayValue = 0.0,
  });
}
```

### 2. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–Ω–æ–∂–∏—Ç–µ–ª—è
```dart
// lib/models/trip_type.dart
static Future<double?> getFixedRoutePrice(
  String? fromCity,
  String? toCity, {
  bool applyHolidayMode = true,
}) async {
  if (fromCity == null || toCity == null) return null;
  
  // –ü–æ–∏—Å–∫ –±–∞–∑–æ–≤–æ–π —Ü–µ–Ω—ã (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥)
  final basePrice = _findBasePriceInMap(fromCity, toCity);
  if (basePrice == null) return null;
  
  // –ü—Ä–∏–º–µ–Ω—è–µ–º –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–π —Ä–µ–∂–∏–º
  if (applyHolidayMode) {
    final settings = await CalculatorSettingsService.instance.getSettings();
    if (settings.holidayModeEnabled) {
      if (settings.holidayModeType == 'percent') {
        return basePrice * (1 + settings.holidayValue / 100);
      } else {
        return basePrice + settings.holidayValue;
      }
    }
  }
  
  return basePrice;
}
```

### 3. UI —ç–∫—Ä–∞–Ω–∞
```dart
// lib/features/admin/screens/holiday_pricing_screen.dart
class HolidayPricingScreen extends StatefulWidget {
  @override
  State<HolidayPricingScreen> createState() => _HolidayPricingScreenState();
}

class _HolidayPricingScreenState extends State<HolidayPricingScreen> {
  bool _isEnabled = false;
  String _type = 'percent';
  double _value = 0.0;
  
  final _settingsService = CalculatorSettingsService.instance;
  
  @override
  void initState() {
    super.initState();
    _loadSettings();
  }
  
  Future<void> _loadSettings() async {
    final settings = await _settingsService.getSettings();
    setState(() {
      _isEnabled = settings.holidayModeEnabled;
      _type = settings.holidayModeType;
      _value = settings.holidayValue;
    });
  }
  
  Future<void> _applyChanges() async {
    await _settingsService.updateSettings(
      holidayModeEnabled: _isEnabled,
      holidayModeType: _type,
      holidayValue: _value,
    );
    
    if (mounted) {
      showCupertinoDialog(
        context: context,
        builder: (context) => CupertinoAlertDialog(
          title: Text('‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω–æ'),
          content: Text(_isEnabled 
            ? '–ü—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–µ —Ü–µ–Ω—ã –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω—ã'
            : '–í–æ–∑–≤—Ä–∞—â–µ–Ω—ã –æ–±—ã—á–Ω—ã–µ —Ü–µ–Ω—ã'),
          actions: [
            CupertinoDialogAction(
              child: Text('OK'),
              onPressed: () => Navigator.pop(context),
            ),
          ],
        ),
      );
    }
  }
  
  @override
  Widget build(BuildContext context) {
    final theme = context.themeManager.currentTheme;
    
    return CupertinoPageScaffold(
      navigationBar: CupertinoNavigationBar(
        middle: Text('üéÑ –ü—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–µ —Ü–µ–Ω—ã'),
      ),
      child: SafeArea(
        child: ListView(
          padding: EdgeInsets.all(16),
          children: [
            // –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å
            Container(
              padding: EdgeInsets.all(16),
              decoration: BoxDecoration(
                color: theme.secondarySystemBackground,
                borderRadius: BorderRadius.circular(12),
              ),
              child: Row(
                mainAxisAlignment: MainAxisAlignment.spaceBetween,
                children: [
                  Text('–í–∫–ª—é—á–∏—Ç—å –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–π —Ä–µ–∂–∏–º',
                    style: TextStyle(fontSize: 16)),
                  CupertinoSwitch(
                    value: _isEnabled,
                    onChanged: (value) => setState(() => _isEnabled = value),
                  ),
                ],
              ),
            ),
            
            SizedBox(height: 16),
            
            // –¢–∏–ø –∏–∑–º–µ–Ω–µ–Ω–∏—è
            if (_isEnabled) ...[
              Text('–¢–∏–ø –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω:',
                style: TextStyle(fontSize: 14, color: theme.secondaryLabel)),
              SizedBox(height: 8),
              CupertinoSegmentedControl<String>(
                groupValue: _type,
                children: {
                  'percent': Text('–ü—Ä–æ—Ü–µ–Ω—Ç'),
                  'fixed': Text('–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—É–º–º–∞'),
                },
                onValueChanged: (value) => setState(() => _type = value),
              ),
              
              SizedBox(height: 16),
              
              // –í–≤–æ–¥ –∑–Ω–∞—á–µ–Ω–∏—è
              CupertinoTextField(
                placeholder: _type == 'percent' ? '–ü—Ä–æ—Ü–µ–Ω—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, 15)' : '–°—É–º–º–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1000)',
                keyboardType: TextInputType.number,
                onChanged: (value) {
                  _value = double.tryParse(value) ?? 0.0;
                },
              ),
              
              SizedBox(height: 24),
              
              // –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä
              _buildPreview(theme),
              
              SizedBox(height: 24),
            ],
            
            // –ö–Ω–æ–ø–∫–∞ –ø—Ä–∏–º–µ–Ω–∏—Ç—å
            CupertinoButton.filled(
              child: Text('–ü—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è'),
              onPressed: _applyChanges,
            ),
          ],
        ),
      ),
    );
  }
  
  Widget _buildPreview(theme) {
    final examples = [
      {'name': '–ö–ü–ü –£—Å–ø–µ–Ω–∫–∞', 'price': 5000.0},
      {'name': '–î–æ–Ω–µ—Ü–∫-–ú–∞–∫–µ–µ–≤–∫–∞', 'price': 8000.0},
      {'name': '–î–æ–Ω–µ—Ü–∫-–õ—É–≥–∞–Ω—Å–∫', 'price': 10000.0},
      {'name': '–ö—Ä—ã–º', 'price': 45000.0},
    ];
    
    return Container(
      padding: EdgeInsets.all(16),
      decoration: BoxDecoration(
        color: theme.secondarySystemBackground,
        borderRadius: BorderRadius.circular(12),
      ),
      child: Column(
        crossAxisAlignment: CrossAxisAlignment.start,
        children: [
          Text('üìä –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π:',
            style: TextStyle(fontWeight: FontWeight.bold)),
          SizedBox(height: 12),
          ...examples.map((ex) {
            final original = ex['price'] as double;
            final updated = _type == 'percent'
              ? original * (1 + _value / 100)
              : original + _value;
            
            return Padding(
              padding: EdgeInsets.only(bottom: 8),
              child: Row(
                mainAxisAlignment: MainAxisAlignment.spaceBetween,
                children: [
                  Text(ex['name'] as String),
                  Text('${original.toInt()}‚ÇΩ ‚Üí ${updated.toInt()}‚ÇΩ',
                    style: TextStyle(fontWeight: FontWeight.w500)),
                ],
              ),
            );
          }).toList(),
        ],
      ),
    );
  }
}
```

---

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ú–û–ú–ï–ù–¢–´

1. **–ù–æ—á–Ω–æ–π —Ç–∞—Ä–∏—Ñ** ‚Äî –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–π —Ä–µ–∂–∏–º –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ü–û–°–õ–ï –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ—á–Ω–æ–π –¥–æ–ø–ª–∞—Ç—ã:
   ```
   –¶–µ–Ω–∞ = (–ë–∞–∑–æ–≤–∞—è–¶–µ–Ω–∞ + –ù–æ—á–Ω–∞—è–î–æ–ø–ª–∞—Ç–∞) √ó –ú–Ω–æ–∂–∏—Ç–µ–ª—å
   
   –ü—Ä–∏–º–µ—Ä (–£—Å–ø–µ–Ω–∫–∞ –Ω–æ—á—å—é —Å +15%):
   = (5000‚ÇΩ + 1000‚ÇΩ) √ó 1.15 = 6900‚ÇΩ
   ```

2. **–ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã** ‚Äî –Ω—É–∂–Ω–æ —Ç–∞–∫–∂–µ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –º–Ω–æ–∂–∏—Ç–µ–ª—å –≤ `RouteManagementService.getRoutePrice()`

3. **–û—Ç–∫–∞—Ç** ‚Äî –ø—Ä–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ —Ü–µ–Ω—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –∫ –±–∞–∑–æ–≤—ã–º –º–≥–Ω–æ–≤–µ–Ω–Ω–æ

4. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ** ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ SharedPreferences –∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ

---

## üéØ –ò–¢–û–ì–û

**–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –í–∞—Ä–∏–∞–Ω—Ç 1**

**–í—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:** ~70 –º–∏–Ω—É—Ç  
**–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~150  
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** 2/5  

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í–∫–ª—é—á–∞–µ—Ç–µ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–π —Ä–µ–∂–∏–º ‚Üí –≤—Å–µ —Ü–µ–Ω—ã –ø–æ–≤—ã—à–∞—é—Ç—Å—è –Ω–∞ –∑–∞–¥–∞–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ–Ω—Ç/—Å—É–º–º—É
- –í—ã–∫–ª—é—á–∞–µ—Ç–µ ‚Üí –≤—Å–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫ –æ–±—ã—á–Ω—ã–º —Ü–µ–Ω–∞–º
- –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –ø–µ—Ä–µ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º
- –†–∞–±–æ—Ç–∞–µ—Ç —Å–æ –≤—Å–µ–º–∏ 300+ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
