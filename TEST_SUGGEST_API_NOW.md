# üö® –°–†–û–ß–ù–û: –ü—Ä–æ–≤–µ—Ä–∫–∞ Suggest API Callback

## –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –ª–æ–≥–∏ –≤ `yandex_maps_service.dart`
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω timeout –Ω–∞ 10 —Å–µ–∫—É–Ω–¥
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ª–æ–≥–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞

## –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –°–ï–ô–ß–ê–°:

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```bash
cd /Users/kirillpetrov/Projects/time-to-travel
flutter run
```

### 2. –û—Ç–∫—Ä—ã—Ç—å —ç–∫—Ä–∞–Ω "–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä"

### 3. –í–≤–µ—Å—Ç–∏ –≤ –ø–æ–ª–µ "–û—Ç–∫—É–¥–∞": `–ú–æ—Å–∫–≤–∞`

### 4. –°–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ

## –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:

### –°—Ü–µ–Ω–∞—Ä–∏–π A: API —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ
```
üí° [YANDEX SUGGEST] –ü–æ–∏—Å–∫ –ø–æ–¥—Å–∫–∞–∑–æ–∫ –¥–ª—è: "–ú–æ—Å–∫"
üåê [YANDEX SUGGEST] –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ API...
‚è≥ [YANDEX SUGGEST] –û–∂–∏–¥–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ API (timeout 10 —Å–µ–∫)...
‚úÖ [YANDEX SUGGEST] CALLBACK onResponse –≤—ã–∑–≤–∞–Ω!
‚úÖ [YANDEX SUGGEST] –ü–æ–ª—É—á–µ–Ω–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤: 10
   üìç Title: "–ú–æ—Å–∫–≤–∞", Subtitle: "–†–æ—Å—Å–∏—è"
   üìç Title: "–ú–æ—Å–∫–≤–∞", Subtitle: "–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"
üìù [YANDEX SUGGEST] –ü—Ä–∏–º–µ—Ä—ã –ø–æ–¥—Å–∫–∞–∑–æ–∫:
   1. –ú–æ—Å–∫–≤–∞, –†–æ—Å—Å–∏—è
   2. –ú–æ—Å–∫–≤–∞, –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å
```

### –°—Ü–µ–Ω–∞—Ä–∏–π B: API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É ‚ùå
```
üí° [YANDEX SUGGEST] –ü–æ–∏—Å–∫ –ø–æ–¥—Å–∫–∞–∑–æ–∫ –¥–ª—è: "–ú–æ—Å–∫"
üåê [YANDEX SUGGEST] –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ API...
‚è≥ [YANDEX SUGGEST] –û–∂–∏–¥–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ API (timeout 10 —Å–µ–∫)...
‚ùå [YANDEX SUGGEST] CALLBACK onError –≤—ã–∑–≤–∞–Ω!
‚ùå [YANDEX SUGGEST] –û—à–∏–±–∫–∞: [–æ–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏]
```

### –°—Ü–µ–Ω–∞—Ä–∏–π C: API –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç ‚è±Ô∏è
```
üí° [YANDEX SUGGEST] –ü–æ–∏—Å–∫ –ø–æ–¥—Å–∫–∞–∑–æ–∫ –¥–ª—è: "–ú–æ—Å–∫"
üåê [YANDEX SUGGEST] –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ API...
‚è≥ [YANDEX SUGGEST] –û–∂–∏–¥–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ API (timeout 10 —Å–µ–∫)...
‚è±Ô∏è [YANDEX SUGGEST] Timeout! API –Ω–µ –æ—Ç–≤–µ—Ç–∏–ª –∑–∞ 10 —Å–µ–∫—É–Ω–¥
```

## –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –°—Ü–µ–Ω–∞—Ä–∏–π B –∏–ª–∏ C:

### –†–µ—à–µ–Ω–∏–µ 1: Downgrade –≤–µ—Ä—Å–∏–∏
```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ pubspec.yaml
# –ó–∞–º–µ–Ω–∏—Ç–µ:
yandex_maps_mapkit: ^4.8.1

# –ù–∞:
yandex_maps_mapkit: 4.24.0

# –ó–∞—Ç–µ–º:
flutter clean
flutter pub get
flutter run
```

### –†–µ—à–µ–Ω–∏–µ 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é –±–∞–∑—É
```bash
# –û—Ç–∫–∞—Ç–∏—Ç—å—Å—è –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é –±–∞–∑—É –∞–¥—Ä–µ—Å–æ–≤
# –°–º. —Ñ–∞–π–ª SUGGEST_API_CALLBACK_PROBLEM.md
```

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –¢–µ—Ä–º–∏–Ω–∞–ª 1: –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
flutter run
```

### –¢–µ—Ä–º–∏–Ω–∞–ª 2: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Suggest API
```bash
./monitor_suggest_api.sh
```

---

**–ü–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–æ–±—â–∏—Ç–µ –∫–∞–∫–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π —É–≤–∏–¥–µ–ª–∏!**
