# üî¥ –°–†–û–ß–ù–û: –ü—Ä–æ–±–ª–µ–º–∞ —Å API –∫–ª—é—á–æ–º Yandex Maps

## üìä –ß–¢–û –û–ë–ù–ê–†–£–ñ–ï–ù–û –í –õ–û–ì–ê–•:

```
10-20 18:42:17.616 W/yandex.maps( 8502): UDJFd3dKAo6oib7P77kw: Clearing cache
10-20 18:42:20.504 I/flutter ( 8502): üó∫Ô∏è [MAP] üîç ‚ùå –¢–∞–π–ª—ã –ù–ï –ó–ê–ì–†–£–ó–ò–õ–ò–°–¨ –æ—Ç Yandex API
```

## üîç –î–ò–ê–ì–ù–û–ó:

**MapKit –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è, –Ω–æ –ù–ï –î–ï–õ–ê–ï–¢ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Yandex API!**

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:
- ‚ùå API –∫–ª—é—á **–Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è** Yandex MapKit
- ‚ùå –ò–ª–∏ –∫–ª—é—á **–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω/–Ω–µ–∞–∫—Ç–∏–≤–µ–Ω**
- ‚ùå –ò–ª–∏ –∫–ª—é—á **–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ç–∏–ø–∞**

## üéØ –ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨ –ü–†–Ø–ú–û –°–ï–ô–ß–ê–°:

### –®–∞–≥ 1: –í–æ–π—Ç–∏ –≤ –∫–æ–Ω—Å–æ–ª—å Yandex

1. –û—Ç–∫—Ä–æ–π—Ç–µ: **https://console.cloud.yandex.ru/**
2. –í–æ–π–¥–∏—Ç–µ –ø–æ–¥ –∞–∫–∫–∞—É–Ω—Ç–æ–º, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –∫–ª—é—á
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: **–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã** ‚Üí **JavaScript API –∏ HTTP –ì–µ–æ–∫–æ–¥–µ—Ä**

### –®–∞–≥ 2: –ù–∞–π—Ç–∏ –≤–∞—à API –∫–ª—é—á

–í–∞—à —Ç–µ–∫—É—â–∏–π –∫–ª—é—á: `2f1d6a75-b751-4077-b305-c6abaea0b542`

**–í —Å–ø–∏—Å–∫–µ –∫–ª—é—á–µ–π –Ω–∞–π–¥–∏—Ç–µ —ç—Ç–æ—Ç –∫–ª—é—á –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:**

#### ‚úÖ –°—Ç–∞—Ç—É—Å –∫–ª—é—á–∞:
- [ ] **–ê–∫—Ç–∏–≤–µ–Ω?** (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–µ–ª—ë–Ω–∞—è –≥–∞–ª–æ—á–∫–∞)
- [ ] **–ù–µ –∏—Å—Ç—ë–∫ —Å—Ä–æ–∫?** (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞—Ç—É –∏—Å—Ç–µ—á–µ–Ω–∏—è)
- [ ] **–ù–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω?** (–Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∫—Ä–∞—Å–Ω–æ–≥–æ –∫—Ä–µ—Å—Ç–∏–∫–∞)

#### ‚úÖ –¢–∏–ø –∫–ª—é—á–∞:
**–ö–†–ò–¢–ò–ß–ù–û!** –ö–ª—é—á –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–∏–ø–∞:
- ‚úÖ **"JavaScript API –∏ HTTP –ì–µ–æ–∫–æ–¥–µ—Ä"**
- ‚ùå –ù–ï –ø—Ä–æ—Å—Ç–æ "HTTP –ì–µ–æ–∫–æ–¥–µ—Ä" (–¥–ª—è –≤–µ–±)
- ‚ùå –ù–ï "MapKit SDK for Android" (—É—Å—Ç–∞—Ä–µ–≤—à–∏–π)

#### ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –¥–æ–º–µ–Ω–∞–º/bundle ID:
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–¥–µ–ª "–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è":
- [ ] –î–æ–±–∞–≤–ª–µ–Ω –ª–∏ `com.timetotravel.app`?
- [ ] –ò–ª–∏ —Å—Ç–æ–∏—Ç `*` (–±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π)?

**–í–ê–ñ–ù–û:** –ï—Å–ª–∏ –≤—ã –ø–æ—Å—Ç–∞–≤–∏–ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ, –Ω–æ —É–∫–∞–∑–∞–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π bundle ID - –∫–ª—é—á –ù–ï –ë–£–î–ï–¢ –†–ê–ë–û–¢–ê–¢–¨!

#### ‚úÖ –õ–∏–º–∏—Ç—ã –∏ –±–∏–ª–ª–∏–Ω–≥:
- [ ] **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –°–∫–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –∑–∞ –º–µ—Å—è—Ü?
- [ ] **–õ–∏–º–∏—Ç:** –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ = 25,000 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–µ—Å—è—Ü
- [ ] **–ë–∏–ª–ª–∏–Ω–≥:** –ü—Ä–∏–≤—è–∑–∞–Ω–∞ –ª–∏ –ø–ª–∞—Ç—ë–∂–Ω–∞—è –∫–∞—Ä—Ç–∞? (–º–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –¥–∞–∂–µ –¥–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ —Ç–∞—Ä–∏—Ñ–∞!)

### –®–∞–≥ 3: –ï—Å–ª–∏ –∫–ª—é—á –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ç–∏–ø–∞

#### –í–∞—Ä–∏–∞–Ω—Ç A: –°–æ–∑–¥–∞—Ç—å –ù–û–í–´–ô –∫–ª—é—á (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

1. –í –∫–æ–Ω—Å–æ–ª–∏ Yandex –Ω–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å API-–∫–ª—é—á"**
2. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø: **"JavaScript API –∏ HTTP –ì–µ–æ–∫–æ–¥–µ—Ä"**
3. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
   - –û—Å—Ç–∞–≤—å—Ç–µ `*` (–±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π) –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   - –ò–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ `com.timetotravel.app`
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–π –∫–ª—é—á

#### –í–∞—Ä–∏–∞–Ω—Ç B: –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–ª—é—á

1. –ù–∞–π–¥–∏—Ç–µ –∫–ª—é—á –≤ —Å–ø–∏—Å–∫–µ
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ
3. –ï—Å–ª–∏ –æ–Ω –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω - –Ω–∞–∂–º–∏—Ç–µ "–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å"
4. –ï—Å–ª–∏ –æ–Ω –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ç–∏–ø–∞ - **—Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π** (—Ç–∏–ø –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å)

### –®–∞–≥ 4: –û–±–Ω–æ–≤–∏—Ç—å –∫–ª—é—á –≤ –∫–æ–¥–µ

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è **–ù–û–í–û–ì–û –†–ê–ë–û–¢–ê–Æ–©–ï–ì–û –ö–õ–Æ–ß–ê**:

#### 4.1 –û–±–Ω–æ–≤–∏—Ç—å –≤ AndroidManifest.xml
```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª
open android/app/src/main/AndroidManifest.xml

# –ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É:
<meta-data
    android:name="com.yandex.mapkit.ApiKey"
    android:value="2f1d6a75-b751-4077-b305-c6abaea0b542" />

# –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –Ω–æ–≤—ã–π –∫–ª—é—á:
android:value="–í–ê–®_–ù–û–í–´–ô_–ö–õ–Æ–ß"
```

#### 4.2 –û–±–Ω–æ–≤–∏—Ç—å –≤ map_config.dart
```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª
open lib/config/map_config.dart

# –ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É:
static const String yandexMapKitApiKey = '2f1d6a75-b751-4077-b305-c6abaea0b542';

# –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –Ω–æ–≤—ã–π –∫–ª—é—á:
static const String yandexMapKitApiKey = '–í–ê–®_–ù–û–í–´–ô_–ö–õ–Æ–ß';
```

#### 4.3 –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ flutter run –Ω–∞–∂–º–∏—Ç–µ 'q')

# –û—á–∏—Å—Ç–∏—Ç—å —Å–±–æ—Ä–∫—É
flutter clean

# –ü–æ–ª—É—á–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
flutter pub get

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ
flutter run
```

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞:
1. –û—Ç–∫—Ä–æ–π—Ç–µ "–°–≤–æ–±–æ–¥–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç"
2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5-10 —Å–µ–∫—É–Ω–¥
3. –¢–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è!

## üìù –ß–ê–°–¢–´–ï –ü–†–ò–ß–ò–ù–´ –ü–†–û–ë–õ–ï–ú–´:

### 1. **–ö–ª—é—á –¥–ª—è –≤–µ–±-–≤–µ—Ä—Å–∏–∏ (HTTP Geocoder only)**
–ï—Å–ª–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–ª—é—á–∞ –≤—ã –≤—ã–±—Ä–∞–ª–∏ —Ç–æ–ª—å–∫–æ "HTTP –ì–µ–æ–∫–æ–¥–µ—Ä" - –æ–Ω **–ù–ï –†–ê–ë–û–¢–ê–ï–¢** –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π!

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫–ª—é—á —Ç–∏–ø–∞ "JavaScript API –∏ HTTP –ì–µ–æ–∫–æ–¥–µ—Ä"

### 2. **–ö–ª—é—á —Å–æ–∑–¥–∞–Ω, –Ω–æ –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω**
–ò–Ω–æ–≥–¥–∞ –Ω–æ–≤—ã–µ –∫–ª—é—á–∏ —Ç—Ä–µ–±—É—é—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏–ª–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –±–∏–ª–ª–∏–Ω–≥–∞.

**–†–µ—à–µ–Ω–∏–µ:** –í–æ–π—Ç–∏ –≤ –∫–æ–Ω—Å–æ–ª—å –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á

### 3. **Bundle ID –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç**
–ï—Å–ª–∏ –≤—ã —É–∫–∞–∑–∞–ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ, –Ω–æ bundle ID –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π - –∫–ª—é—á –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω.

**–†–µ—à–µ–Ω–∏–µ:** –£–±—Ä–∞—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏–ª–∏ —É–∫–∞–∑–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π `com.timetotravel.app`

### 4. **–ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç**
–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ = 25,000 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–µ—Å—è—Ü. –ï—Å–ª–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–æ - –∫–ª—é—á –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è.

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–∏–≤—è–∑–∞—Ç—å –∫–∞—Ä—Ç—É –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞—Ç–Ω—ã–π –±–∏–ª–ª–∏–Ω–≥

### 5. **–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è –±–∏–ª–ª–∏–Ω–≥–∞**
–î–∞–∂–µ –¥–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Yandex –º–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –ø—Ä–∏–≤—è–∑–∫—É –∫–∞—Ä—Ç—ã.

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–∏–≤—è–∑–∞—Ç—å –∫–∞—Ä—Ç—É –≤ –∫–æ–Ω—Å–æ–ª–∏ Yandex Cloud

## üö® –ï–°–õ–ò –ù–ï –ü–û–õ–£–ß–ê–ï–¢–°–Ø:

### –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å OpenStreetMap

–Ø –º–æ–≥—É –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É OpenStreetMap –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É Yandex Maps.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç API –∫–ª—é—á–∞
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ùå –ú–µ–Ω–µ–µ –¥–µ—Ç–∞–ª—å–Ω—ã–µ –∫–∞—Ä—Ç—ã –†–æ—Å—Å–∏–∏
- ‚ùå –ù–µ—Ç API –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ - —Å–∫–∞–∂–∏—Ç–µ, –∏ —è –¥–æ–±–∞–≤–ª—é!

## üìû –°–õ–ï–î–£–Æ–©–ò–ô –®–ê–ì:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å Yandex** –∏ —Å–æ–æ–±—â–∏—Ç–µ:
   - –°—Ç–∞—Ç—É—Å –∫–ª—é—á–∞ (–∞–∫—Ç–∏–≤–µ–Ω/–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω/–∏—Å—Ç—ë–∫?)
   - –¢–∏–ø –∫–ª—é—á–∞ (JavaScript API –∏–ª–∏ —á—Ç–æ-—Ç–æ –¥—Ä—É–≥–æ–µ?)
   - –ï—Å—Ç—å –ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ bundle ID?
   - –ï—Å—Ç—å –ª–∏ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–∞—è –∫–∞—Ä—Ç–∞ –¥–ª—è –±–∏–ª–ª–∏–Ω–≥–∞?

2. **–ï—Å–ª–∏ –∫–ª—é—á –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω** - —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∏ –¥–∞–π—Ç–µ –º–Ω–µ, —è –æ–±–Ω–æ–≤–ª—é –∫–æ–¥

3. **–ï—Å–ª–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –≤–æ–π—Ç–∏ –≤ –∫–æ–Ω—Å–æ–ª—å** - —Å–æ–∑–¥–∞–¥–∏–º –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ —Å OpenStreetMap

---

**–î–ï–ô–°–¢–í–£–ô–¢–ï –ü–†–Ø–ú–û –°–ï–ô–ß–ê–°!** –ë–µ–∑ —Ä–∞–±–æ—á–µ–≥–æ API –∫–ª—é—á–∞ –∫–∞—Ä—Ç–∞ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å. üöÄ
