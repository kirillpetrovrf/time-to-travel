# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –û–¢–û–ë–†–ê–ñ–ï–ù–ò–Ø –ó–ê–ö–ê–ó–û–í - –ó–ê–í–ï–†–®–ï–ù–û

**–î–∞—Ç–∞**: 27 —è–Ω–≤–∞—Ä—è 2026 –≥.  
**–ü—Ä–æ–±–ª–µ–º–∞**: –í —Å–ø–∏—Å–∫–µ "–ú–æ–∏ –∑–∞–∫–∞–∑—ã" –∏ –≤ –¥–µ—Ç–∞–ª—å–Ω–æ–º –ø—Ä–æ—Å–º–æ—Ç—Ä–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏—Å—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Å—Ç–∞—Ä—ã—Ö offline –∑–∞–∫–∞–∑–æ–≤

---

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã

### –ß—Ç–æ –±—ã–ª–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ:

**1. –°—Ç–∞—Ä—ã–µ offline –∑–∞–∫–∞–∑—ã –≤ SharedPreferences:**
```json
{
  "id": "22798216-a7ac-4a8a-80c9-457c47a949c2",
  "orderId": null,  ‚ùå –ù–µ—Ç –∫—Ä–∞—Å–∏–≤–æ–≥–æ –Ω–æ–º–µ—Ä–∞
  "pickupAddress": "–ù–µ —É–∫–∞–∑–∞–Ω",  ‚ùå Placeholder –∞–¥—Ä–µ—Å
  "dropoffAddress": "–ù–µ —É–∫–∞–∑–∞–Ω",  ‚ùå Placeholder –∞–¥—Ä–µ—Å
  "tripType": "customRoute"
}
```

**2. –ü—Ä–æ–±–ª–µ–º—ã –≤ UI:**
- –ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞ –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–ª—Å—è –¥–ª—è offline –∑–∞–∫–∞–∑–æ–≤ (–ø–æ—Ç–æ–º—É —á—Ç–æ `orderId == null`)
- –ú–∞—Ä—à—Ä—É—Ç –ø–æ–∫–∞–∑—ã–≤–∞–ª—Å—è –∫–∞–∫ "–ù–µ —É–∫–∞–∑–∞–Ω ‚Üí –ù–µ —É–∫–∞–∑–∞–Ω"
- –í –¥–µ—Ç–∞–ª—å–Ω–æ–º –ø—Ä–æ—Å–º–æ—Ç—Ä–µ —Ç–æ–∂–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏—Å—å placeholder-–∞–¥—Ä–µ—Å–∞

**3. Backend –∑–∞–∫–∞–∑—ã (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ):**
```json
{
  "orderId": "2026-01-26-189-I",  ‚úÖ
  "fromAddress": "–õ–µ–Ω–∏–Ω—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç, 47, –î–æ–Ω–µ—Ü–∫",  ‚úÖ
  "toAddress": "–º–∏–∫—Ä–æ—Ä–∞–π–æ–Ω –õ–µ–Ω–≥–æ—Ä–æ–¥–æ–∫, –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É",  ‚úÖ
  "tripType": "individual"
}
```

---

## üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. `lib/features/orders/screens/orders_screen.dart`

**–ü—Ä–æ–±–ª–µ–º–∞ 1**: –ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª—Å—è, –µ—Å–ª–∏ `orderId == null`

**–ë—ã–ª–æ:**
```dart
// –ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å orderId)
if (booking.orderId != null && booking.orderId!.isNotEmpty) ...[
  Text('–ó–∞–∫–∞–∑ #${booking.orderId}', ...),
  const SizedBox(height: 8),
],
```

**–°—Ç–∞–ª–æ:**
```dart
// –ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å orderId, –∏–Ω–∞—á–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–æ—Ä–æ—Ç–∫–∏–π ID)
Text(
  booking.orderId != null && booking.orderId!.isNotEmpty
      ? '–ó–∞–∫–∞–∑ #${booking.orderId}'  // "2026-01-26-189-I"
      : '–ó–∞–∫–∞–∑ #${booking.id.substring(0, 8)}',  // "22798216"
  style: TextStyle(
    fontSize: 13,
    color: theme.secondaryLabel.withOpacity(0.7),
    fontWeight: FontWeight.w500,
  ),
),
const SizedBox(height: 8),
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –¢–µ–ø–µ—Ä—å –í–°–ï–ì–î–ê –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞, –¥–∞–∂–µ –¥–ª—è offline –∑–∞–∫–∞–∑–æ–≤.

---

**–ü—Ä–æ–±–ª–µ–º–∞ 2**: –ú–∞—Ä—à—Ä—É—Ç –ø–æ–∫–∞–∑—ã–≤–∞–ª—Å—è –∫–∞–∫ "–ù–µ —É–∫–∞–∑–∞–Ω ‚Üí –ù–µ —É–∫–∞–∑–∞–Ω"

**–ë—ã–ª–æ:**
```dart
if ((booking.tripType == TripType.customRoute ||
     booking.tripType == TripType.individual) &&
    booking.pickupAddress != null &&
    booking.pickupAddress!.isNotEmpty &&
    booking.dropoffAddress != null &&
    booking.dropoffAddress!.isNotEmpty) {
  return '${booking.pickupAddress} ‚Üí ${booking.dropoffAddress}';
}
```

**–°—Ç–∞–ª–æ:**
```dart
if ((booking.tripType == TripType.customRoute ||
     booking.tripType == TripType.individual) &&
    booking.pickupAddress != null &&
    booking.pickupAddress!.isNotEmpty &&
    booking.pickupAddress != '–ù–µ —É–∫–∞–∑–∞–Ω' &&  // ‚úÖ –î–û–ë–ê–í–õ–ï–ù–û
    booking.dropoffAddress != null &&
    booking.dropoffAddress!.isNotEmpty &&
    booking.dropoffAddress != '–ù–µ —É–∫–∞–∑–∞–Ω') {  // ‚úÖ –î–û–ë–ê–í–õ–ï–ù–û
  return '${booking.pickupAddress} ‚Üí ${booking.dropoffAddress}';
}

// Fallback: –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –æ–±—â–µ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
return '–î–æ–Ω–µ—Ü–∫ ‚Üí –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É';
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –î–ª—è —Å—Ç–∞—Ä—ã—Ö offline –∑–∞–∫–∞–∑–æ–≤ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ–±—â–µ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, –∞ –Ω–µ "–ù–µ —É–∫–∞–∑–∞–Ω ‚Üí –ù–µ —É–∫–∞–∑–∞–Ω".

---

### 2. `lib/features/orders/screens/booking_detail_screen.dart`

**–¢–µ –∂–µ —Å–∞–º—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è** –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞:

**1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –º–∞—Ä—à—Ä—É—Ç–∞** (—Å—Ç—Ä–æ–∫–∏ 183-206):
```dart
else if ((_currentBooking.tripType == TripType.customRoute ||
          _currentBooking.tripType == TripType.individual) &&
         _currentBooking.pickupAddress != null &&
         _currentBooking.pickupAddress!.isNotEmpty &&
         _currentBooking.pickupAddress != '–ù–µ —É–∫–∞–∑–∞–Ω' &&  // ‚úÖ –î–û–ë–ê–í–õ–ï–ù–û
         _currentBooking.dropoffAddress != null &&
         _currentBooking.dropoffAddress!.isNotEmpty &&
         _currentBooking.dropoffAddress != '–ù–µ —É–∫–∞–∑–∞–Ω') {  // ‚úÖ –î–û–ë–ê–í–õ–ï–ù–û
```

**2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤** (—Å—Ç—Ä–æ–∫–∏ 224-230, 251-257):
```dart
if (_currentBooking.pickupAddress != null &&
    _currentBooking.pickupAddress!.isNotEmpty &&
    _currentBooking.pickupAddress != '–ù–µ —É–∫–∞–∑–∞–Ω') ...[  // ‚úÖ –î–û–ë–ê–í–õ–ï–ù–û
  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º "–û—Ç–∫—É–¥–∞: ..."
]

if (_currentBooking.dropoffAddress != null &&
    _currentBooking.dropoffAddress!.isNotEmpty &&
    _currentBooking.dropoffAddress != '–ù–µ —É–∫–∞–∑–∞–Ω') ...[  // ‚úÖ –î–û–ë–ê–í–õ–ï–ù–û
  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º "–ö—É–¥–∞: ..."
]
```

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã (–î–æ –∏ –ü–æ—Å–ª–µ)

### –°—Ç–∞—Ä—ã–µ offline –∑–∞–∫–∞–∑—ã (–° "–ù–µ —É–∫–∞–∑–∞–Ω"):

**–î–û –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:**

**–°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤:**
```
‚îå‚îÄ Order Card ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ [pending]             10000 ‚ÇΩ > ‚îÇ
‚îÇ                                  ‚îÇ  ‚ùå –ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è!
‚îÇ –ù–µ —É–∫–∞–∑–∞–Ω ‚Üí –ù–µ —É–∫–∞–∑–∞–Ω      ‚ùå   ‚îÇ
‚îÇ üìÖ 26 —è–Ω–≤–∞—Ä—è 2026 –≥.            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä:**
```
Header: –ó–∞–∫–∞–∑ #22798216  (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π ID)

‚îå‚îÄ –ú–∞—Ä—à—Ä—É—Ç ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ù–µ —É–∫–∞–∑–∞–Ω ‚Üí –ù–µ —É–∫–∞–∑–∞–Ω      ‚ùå   ‚îÇ
‚îÇ                                  ‚îÇ
‚îÇ üìç –û—Ç–∫—É–¥–∞: –ù–µ —É–∫–∞–∑–∞–Ω       ‚ùå   ‚îÇ
‚îÇ üìç –ö—É–¥–∞: –ù–µ —É–∫–∞–∑–∞–Ω         ‚ùå   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ü–û–°–õ–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:**

**–°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤:**
```
‚îå‚îÄ Order Card ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ [pending]             10000 ‚ÇΩ > ‚îÇ
‚îÇ –ó–∞–∫–∞–∑ #22798216          ‚úÖ     ‚îÇ  ‚Üê –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–æ—Ä–æ—Ç–∫–∏–π ID
‚îÇ –î–æ–Ω–µ—Ü–∫ ‚Üí –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É  ‚úÖ     ‚îÇ  ‚Üê –û–±—â–µ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
‚îÇ üìÖ 26 —è–Ω–≤–∞—Ä—è 2026 –≥.            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä:**
```
Header: –ó–∞–∫–∞–∑ #22798216  ‚úÖ

‚îå‚îÄ –ú–∞—Ä—à—Ä—É—Ç ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –î–æ–Ω–µ—Ü–∫ ‚Üí –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É  ‚úÖ     ‚îÇ  ‚Üê –û–±—â–µ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
‚îÇ                                  ‚îÇ
‚îÇ (–î–µ—Ç–∞–ª—å–Ω—ã–µ –∞–¥—Ä–µ—Å–∞ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è, —Ç.–∫. "–ù–µ —É–∫–∞–∑–∞–Ω")
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### –ù–æ–≤—ã–µ backend –∑–∞–∫–∞–∑—ã (–° —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∞–¥—Ä–µ—Å–∞–º–∏):

**–°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤:**
```
‚îå‚îÄ Order Card ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ [pending]              8000 ‚ÇΩ > ‚îÇ
‚îÇ –ó–∞–∫–∞–∑ #2026-01-26-189-I  ‚úÖ     ‚îÇ  ‚Üê –ö—Ä–∞—Å–∏–≤—ã–π –Ω–æ–º–µ—Ä
‚îÇ –õ–µ–Ω–∏–Ω—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç, 47 ‚Üí        ‚îÇ
‚îÇ –º–∏–∫—Ä–æ—Ä–∞–π–æ–Ω –õ–µ–Ω–≥–æ—Ä–æ–¥–æ–∫    ‚úÖ     ‚îÇ  ‚Üê –†–µ–∞–ª—å–Ω—ã–µ –∞–¥—Ä–µ—Å–∞
‚îÇ üìÖ 28 —è–Ω–≤–∞—Ä—è 2026 –≥.            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä:**
```
Header: –ó–∞–∫–∞–∑ #2026-01-26-189-I  ‚úÖ

‚îå‚îÄ –ú–∞—Ä—à—Ä—É—Ç ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –õ–µ–Ω–∏–Ω—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç, 47 ‚Üí        ‚îÇ
‚îÇ –º–∏–∫—Ä–æ—Ä–∞–π–æ–Ω –õ–µ–Ω–≥–æ—Ä–æ–¥–æ–∫    ‚úÖ     ‚îÇ
‚îÇ                                  ‚îÇ
‚îÇ üìç –û—Ç–∫—É–¥–∞: –õ–µ–Ω–∏–Ω—Å–∫–∏–π...   ‚úÖ   ‚îÇ
‚îÇ üìç –ö—É–¥–∞: –º–∏–∫—Ä–æ—Ä–∞–π–æ–Ω...    ‚úÖ   ‚îÇ
‚îÇ                                  ‚îÇ
‚îÇ üî¢ –ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞: 2026-01-26...  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üéØ –õ–æ–≥–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π)

### –ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞:
```dart
if (orderId != null && orderId.isNotEmpty) {
  –ü–æ–∫–∞–∑–∞—Ç—å: "–ó–∞–∫–∞–∑ #2026-01-26-189-I"
} else {
  –ü–æ–∫–∞–∑–∞—Ç—å: "–ó–∞–∫–∞–∑ #22798216" (–ø–µ—Ä–≤—ã–µ 8 —Å–∏–º–≤–æ–ª–æ–≤ UUID)
}
```

### –ú–∞—Ä—à—Ä—É—Ç:
```dart
if (fromStop != null && toStop != null) {
  // –ì—Ä—É–ø–ø–æ–≤–æ–π –º–∞—Ä—à—Ä—É—Ç
  –ü–æ–∫–∞–∑–∞—Ç—å: "–ö—É—Ç–µ–π–Ω–∏–∫–æ–≤–æ ‚Üí –ß–∞–ª—Ç—ã—Ä—å"
} 
else if (customRoute/individual && 
         pickupAddress != "–ù–µ —É–∫–∞–∑–∞–Ω" && 
         dropoffAddress != "–ù–µ —É–∫–∞–∑–∞–Ω") {
  // –ù–æ–≤—ã–π –∑–∞–∫–∞–∑ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∞–¥—Ä–µ—Å–∞–º–∏
  –ü–æ–∫–∞–∑–∞—Ç—å: "–õ–µ–Ω–∏–Ω—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç, 47 ‚Üí –º–∏–∫—Ä–æ—Ä–∞–π–æ–Ω –õ–µ–Ω–≥–æ—Ä–æ–¥–æ–∫"
}
else {
  // Fallback (—Å—Ç–∞—Ä—ã–µ offline –∑–∞–∫–∞–∑—ã –∏–ª–∏ –æ–±—â–µ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
  –ü–æ–∫–∞–∑–∞—Ç—å: "–î–æ–Ω–µ—Ü–∫ ‚Üí –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É"
}
```

### –î–µ—Ç–∞–ª—å–Ω—ã–µ –∞–¥—Ä–µ—Å–∞:
```dart
if (pickupAddress != null && 
    pickupAddress.isNotEmpty && 
    pickupAddress != "–ù–µ —É–∫–∞–∑–∞–Ω") {
  –ü–æ–∫–∞–∑–∞—Ç—å: "üìç –û—Ç–∫—É–¥–∞: –õ–µ–Ω–∏–Ω—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç, 47"
}

if (dropoffAddress != null && 
    dropoffAddress.isNotEmpty && 
    dropoffAddress != "–ù–µ —É–∫–∞–∑–∞–Ω") {
  –ü–æ–∫–∞–∑–∞—Ç—å: "üìç –ö—É–¥–∞: –º–∏–∫—Ä–æ—Ä–∞–π–æ–Ω –õ–µ–Ω–≥–æ—Ä–æ–¥–æ–∫"
}
```

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

- [x] –ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞ –í–°–ï–ì–î–ê –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è (orderId –∏–ª–∏ –∫–æ—Ä–æ—Ç–∫–∏–π id)
- [x] –ú–∞—Ä—à—Ä—É—Ç –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–ù–µ —É–∫–∞–∑–∞–Ω ‚Üí –ù–µ —É–∫–∞–∑–∞–Ω"
- [x] –î–µ—Ç–∞–ª—å–Ω—ã–µ –∞–¥—Ä–µ—Å–∞ –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è, –µ—Å–ª–∏ "–ù–µ —É–∫–∞–∑–∞–Ω"
- [x] –î–ª—è –Ω–æ–≤—ã—Ö –∑–∞–∫–∞–∑–æ–≤ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–µ –∞–¥—Ä–µ—Å–∞
- [x] –î–ª—è —Å—Ç–∞—Ä—ã—Ö offline –∑–∞–∫–∞–∑–æ–≤ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ–±—â–µ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- [x] –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤ —Å–ø–∏—Å–∫–µ –∏ –¥–µ—Ç–∞–ª—å–Ω–æ–º –ø—Ä–æ—Å–º–æ—Ç—Ä–µ

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–î

**Backend –∑–∞–∫–∞–∑—ã –∏–∑ PostgreSQL:**
```bash
curl -s 'https://titotr.ru/api/orders' | \
jq '.orders[] | {orderId, tripType, fromAddress, toAddress}'
```

**–í—ã–≤–æ–¥:**
```json
{
  "orderId": "2026-01-26-189-I",
  "tripType": "individual",
  "fromAddress": "–õ–µ–Ω–∏–Ω—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç, 47, –î–æ–Ω–µ—Ü–∫",
  "toAddress": "–º–∏–∫—Ä–æ—Ä–∞–π–æ–Ω –õ–µ–Ω–≥–æ—Ä–æ–¥–æ–∫, –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É"
}
{
  "orderId": "2026-01-26-326-S",
  "tripType": "customRoute",
  "fromAddress": "–º–∏–∫—Ä–æ—Ä–∞–π–æ–Ω –ö—Ä–∞—Å–Ω–æ–≤–∞, —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è –ì–°–ö-52...",
  "toAddress": "–ü–µ—Ä–º—å, —É–ª–∏—Ü–∞ –ì–∞–∑–µ—Ç—ã –ó–≤–µ–∑–¥–∞, 5"
}
```

‚úÖ **Backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ!**

**–ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ —Ç–æ–ª—å–∫–æ –≤ –ª–æ–∫–∞–ª—å–Ω—ã—Ö offline –∑–∞–∫–∞–∑–∞—Ö –∏–∑ SharedPreferences.**

---

## üì± –¢–∏–ø—ã –∑–∞–∫–∞–∑–æ–≤ –∏ –∏—Ö –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ

| –¢–∏–ø –∑–∞–∫–∞–∑–∞ | orderId | –ê–¥—Ä–µ—Å–∞ | –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞ |
|------------|---------|--------|---------------------|
| **group** (backend) | `2026-01-26-970-G` | `fromStop` / `toStop` | `–ö—É—Ç–µ–π–Ω–∏–∫–æ–≤–æ ‚Üí –ß–∞–ª—Ç—ã—Ä—å` |
| **individual** (backend) | `2026-01-26-189-I` | –†–µ–∞–ª—å–Ω—ã–µ | `–õ–µ–Ω–∏–Ω—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç ‚Üí –õ–µ–Ω–≥–æ—Ä–æ–¥–æ–∫` |
| **customRoute** (backend) | `2026-01-26-326-S` | –†–µ–∞–ª—å–Ω—ã–µ | `–º–∏–∫—Ä–æ—Ä–∞–π–æ–Ω –ö—Ä–∞—Å–Ω–æ–≤–∞ ‚Üí –ì–∞–∑–µ—Ç—ã –ó–≤–µ–∑–¥–∞` |
| **customRoute** (offline) | `null` ‚Üí `22798216` | `"–ù–µ —É–∫–∞–∑–∞–Ω"` | `–î–æ–Ω–µ—Ü–∫ ‚Üí –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É` ‚úÖ |

---

## üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –®–∞–≥ 1: Hot Restart
```bash
# –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ Flutter –Ω–∞–∂–º–∏—Ç–µ:
R  # Full restart
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤
1. –û—Ç–∫—Ä–æ–π—Ç–µ "–ú–æ–∏ –∑–∞–∫–∞–∑—ã"
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - ‚úÖ –£ –í–°–ï–• –∑–∞–∫–∞–∑–æ–≤ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–æ–º–µ—Ä (orderId –∏–ª–∏ –∫–æ—Ä–æ—Ç–∫–∏–π id)
   - ‚úÖ –°—Ç–∞—Ä—ã–µ offline –∑–∞–∫–∞–∑—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç "–î–æ–Ω–µ—Ü–∫ ‚Üí –†–æ—Å—Ç–æ–≤"
   - ‚úÖ –ù–æ–≤—ã–µ backend –∑–∞–∫–∞–∑—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –∞–¥—Ä–µ—Å–∞

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç–∞—Ä—ã–π offline –∑–∞–∫–∞–∑ (—Å id `22798216...`)
   - ‚úÖ –ó–∞–≥–æ–ª–æ–≤–æ–∫: "–ó–∞–∫–∞–∑ #22798216"
   - ‚úÖ –ú–∞—Ä—à—Ä—É—Ç: "–î–æ–Ω–µ—Ü–∫ ‚Üí –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É"
   - ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–µ –∞–¥—Ä–µ—Å–∞ –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è

2. –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–æ–≤—ã–π backend –∑–∞–∫–∞–∑ (—Å orderId `2026-01-26-189-I`)
   - ‚úÖ –ó–∞–≥–æ–ª–æ–≤–æ–∫: "–ó–∞–∫–∞–∑ #2026-01-26-189-I"
   - ‚úÖ –ú–∞—Ä—à—Ä—É—Ç: "–õ–µ–Ω–∏–Ω—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç ‚Üí –º–∏–∫—Ä–æ—Ä–∞–π–æ–Ω –õ–µ–Ω–≥–æ—Ä–æ–¥–æ–∫"
   - ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–µ –∞–¥—Ä–µ—Å–∞ –ü–û–ö–ê–ó–´–í–ê–Æ–¢–°–Ø

---

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### –ü–æ—á–µ–º—É –Ω–µ —É–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ offline –∑–∞–∫–∞–∑—ã?
- –û–Ω–∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤–∞–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–≥ —Å–æ–∑–¥–∞—Ç—å –∏—Ö –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ
- –õ—É—á—à–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏—Ö –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, —á–µ–º —É–¥–∞–ª—è—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–ª—è –±—É–¥—É—â–µ–≥–æ:
–î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ offline –∑–∞–∫–∞–∑–æ–≤ —Å backend:
```dart
Future<void> syncOfflineOrdersToBackend() async {
  // –ù–∞–π—Ç–∏ offline –∑–∞–∫–∞–∑—ã (orderId == null)
  // –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∏—Ö –Ω–∞ backend —á–µ—Ä–µ–∑ POST /orders
  // –ü–æ–ª—É—á–∏—Ç—å –∫—Ä–∞—Å–∏–≤—ã–π orderId
  // –û–±–Ω–æ–≤–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
}
```

---

## üéâ –ò—Ç–æ–≥–∏

‚úÖ **–í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã:**
1. –ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞ –í–°–ï–ì–î–ê –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è
2. –ú–∞—Ä—à—Ä—É—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–Ω–µ "–ù–µ —É–∫–∞–∑–∞–Ω ‚Üí –ù–µ —É–∫–∞–∑–∞–Ω")
3. –î–µ—Ç–∞–ª—å–Ω—ã–µ –∞–¥—Ä–µ—Å–∞ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

‚úÖ **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –¥–ª—è —Å—Ç–∞—Ä—ã—Ö offline –∑–∞–∫–∞–∑–æ–≤

‚úÖ **–£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è** –º–µ–∂–¥—É —Å–ø–∏—Å–∫–æ–º –∏ –¥–µ—Ç–∞–ª—å–Ω—ã–º –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–º

---

**–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é! üöÄ**
