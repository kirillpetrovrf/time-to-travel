# üó∫Ô∏è –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –æ—Ç–ª–∞–¥–∫–µ MapKit

## üîç –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### 1. **–ö–∞—Ä—Ç–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å–µ—Ç–∫—É (–Ω–µ—Ç —Ç–∞–π–ª–æ–≤)**

#### –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
- ‚ùå API –∫–ª—é—á –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- ‚ùå –ù–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- ‚ùå –õ–∏—Ü–µ–Ω–∑–∏—è API –∫–ª—é—á–∞ –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞ (15 –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è)
- ‚ùå –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤

#### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
```dart
// –í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
‚úÖ Yandex MapKit —É—Å–ø–µ—à–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω (v4.24.0)
üó∫Ô∏è [MAP] ‚úÖ Map –æ–±—ä–µ–∫—Ç –¥–æ—Å—Ç—É–ø–µ–Ω
üó∫Ô∏è [MAP] ‚úÖ –ö–∞–º–µ—Ä–∞ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∞
```

#### –†–µ—à–µ–Ω–∏–µ:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á –≤ `lib/config/map_config.dart`:
   ```dart
   static const String yandexMapKitApiKey = '–í–ê–®_–ö–õ–Æ–ß';
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –∫–ª—é—á–∞ –≤ [–ö–∞–±–∏–Ω–µ—Ç–µ –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞](https://developer.tech.yandex.ru/):
   - API –∫–ª—é—á –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **–ê–ö–¢–ò–í–ï–ù**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–∏–º–∏—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–æ—à–ª–æ 15 –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ:
   ```bash
   adb shell ping -c 3 ya.ru
   ```

4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
   ```bash
   flutter run
   ```

---

### 2. **–ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–æ–≤ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**

#### –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
- ‚ùå SearchManager –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
- ‚ùå –í–∏–¥–∏–º–∞—è –æ–±–ª–∞—Å—Ç—å –∫–∞—Ä—Ç—ã –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞
- ‚ùå –ó–∞–ø—Ä–æ—Å —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π (< 3 —Å–∏–º–≤–æ–ª–æ–≤)
- ‚ùå –ù–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞

#### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏:
```
üîç [SUGGEST] ========== –ù–û–í–´–ô –ó–ê–ü–†–û–° ==========
üîç [SUGGEST] –¢–µ–∫—Å—Ç: "–ø–µ—Ä–º—å"
üì° [SUGGEST] –°–æ–∑–¥–∞–µ–º SuggestSession...
üì° [SUGGEST] –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å suggest()...
‚úÖ [SUGGEST] ========== –û–¢–í–ï–¢ –ü–û–õ–£–ß–ï–ù ==========
‚úÖ [SUGGEST] –ü–æ–¥—Å–∫–∞–∑–æ–∫: 5
```

#### –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É:
```
‚ùå [SUGGEST] –û–®–ò–ë–ö–ê API: ...
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –≤ `main.dart`:
   ```dart
   MapKitSearchService.initialize();
   ```

2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–∞—Ä—Ç–∞ –≤–∏–¥–∏–º–∞ –∏ –∑–∞–≥—Ä—É–∂–µ–Ω–∞:
   ```dart
   _isMapReady = true
   _visibleRegion != null
   ```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–ª–∏–Ω—É –∑–∞–ø—Ä–æ—Å–∞ (>= 3 —Å–∏–º–≤–æ–ª–∞)

---

### 3. **–ú–∞—Ä—à—Ä—É—Ç –Ω–µ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è**

#### –õ–æ–≥–∏ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º —Ä–∞—Å—á–µ—Ç–µ:
```
üó∫Ô∏è –ù–∞—á–∏–Ω–∞–µ–º —Ä–∞—Å—á–µ—Ç –º–∞—Ä—à—Ä—É—Ç–∞...
üó∫Ô∏è –û—Ç–∫—É–¥–∞: –ü–µ—Ä–º—å
üó∫Ô∏è –ö—É–¥–∞: –ú–æ—Å–∫–≤–∞
üöó [YANDEX MAPKIT] ========== –†–ê–°–ß–Å–¢ –ú–ê–†–®–†–£–¢–ê ==========
üìç [YANDEX MAPKIT] –û—Ç: Coordinates(58.0, 56.3)
üìç [YANDEX MAPKIT] –î–æ: Coordinates(55.75, 37.62)
‚úÖ [YANDEX MAPKIT] –ú–∞—Ä—à—Ä—É—Ç —Ä–∞—Å—Å—á–∏—Ç–∞–Ω: 1348.5 –∫–º
üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å: 20727‚ÇΩ
```

#### –ï—Å–ª–∏ –æ—à–∏–±–∫–∞:
```
‚ùå [YANDEX MAPKIT] –û–®–ò–ë–ö–ê –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è
‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–ª—è –∞–¥—Ä–µ—Å–∞
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∞–¥—Ä–µ—Å–æ–≤
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–Ω—ã–µ –∞–¥—Ä–µ—Å–∞ (–≥–æ—Ä–æ–¥ + —É–ª–∏—Ü–∞)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç

---

## üì± –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:
```bash
flutter run --verbose
```

### –§–∏–ª—å—Ç—Ä —Ç–æ–ª—å–∫–æ –ª–æ–≥–æ–≤ MapKit:
```bash
adb logcat | grep -E "(MAP|SUGGEST|YANDEX)"
```

### –û—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞:
```bash
flutter clean
flutter pub get
flutter run
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ MapKit:
```bash
flutter pub deps | grep yandex_maps
```

---

## üîß –¢–µ—Å—Ç–æ–≤—ã–µ –∞–¥—Ä–µ—Å–∞

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–∏ –∞–¥—Ä–µ—Å–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

1. **–ü–µ—Ä–º—å ‚Üí –ú–æ—Å–∫–≤–∞** (1348 –∫–º)
2. **–î–æ–Ω–µ—Ü–∫ ‚Üí –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É** (180 –∫–º)
3. **–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ ‚Üí –ù–æ–≤–≥–æ—Ä–æ–¥** (190 –∫–º)

---

## üìã Checklist –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

- [ ] API –∫–ª—é—á –∞–∫—Ç–∏–≤–µ–Ω –≤ –ö–∞–±–∏–Ω–µ—Ç–µ –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
- [ ] –ü—Ä–æ—à–ª–æ 15+ –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª—é—á–∞
- [ ] –ò–Ω—Ç–µ—Ä–Ω–µ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
- [ ] `flutter clean && flutter pub get` –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω–æ

---

## üÜò –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç

1. –°–æ–∑–¥–∞–π—Ç–µ **–Ω–æ–≤—ã–π API –∫–ª—é—á** –≤ –ö–∞–±–∏–Ω–µ—Ç–µ –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
2. –ó–∞–º–µ–Ω–∏—Ç–µ –≤ `lib/config/map_config.dart`
3. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 15 –º–∏–Ω—É—Ç
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Yandex MapKit Documentation](https://yandex.ru/dev/mapkit/)
- [–ö–∞–±–∏–Ω–µ—Ç –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞](https://developer.tech.yandex.ru/)
- [Flutter MapKit Package](https://pub.dev/packages/yandex_maps_mapkit)
