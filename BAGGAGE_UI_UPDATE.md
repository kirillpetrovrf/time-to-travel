# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –±–∞–≥–∞–∂–µ–π

## –î–∞—Ç–∞: 2024
## –í–µ—Ä—Å–∏—è: v4.1 - UI Update

---

## üìã –ò–ó–ú–ï–ù–ï–ù–ò–Ø

### 1. –û–±–Ω–æ–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `_getFreeBaggageCount()` –≤ `baggage_selection_screen_v3.dart`

**–°—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞:**
- –¢–æ–ª—å–∫–æ –ü–ï–†–í–´–ô –±–∞–≥–∞–∂ (–ª—é–±–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞) –±–µ—Å–ø–ª–∞—Ç–Ω–æ

**–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞:**
- **–†–∞–∑–º–µ—Ä S:** –ø–µ—Ä–≤—ã–µ –î–í–ê –±–µ—Å–ø–ª–∞—Ç–Ω–æ
- **–†–∞–∑–º–µ—Ä M:** –û–î–ò–ù –±–µ—Å–ø–ª–∞—Ç–Ω–æ (–µ—Å–ª–∏ –µ—Å—Ç—å M)
- **–†–∞–∑–º–µ—Ä L:** –û–î–ò–ù –±–µ—Å–ø–ª–∞—Ç–Ω–æ (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ—Ç M)
- **Custom:** –≤—Å–µ–≥–¥–∞ –ø–ª–∞—Ç–Ω–æ

**–ö–æ–¥:**
```dart
int _getFreeBaggageCount(BaggageSize size) {
  // ... –ø—Ä–æ–≤–µ—Ä–∫–∏ ...
  
  if (size == BaggageSize.s) {
    // –î–ª—è S: –ø–µ—Ä–≤—ã–µ 2 –±–µ—Å–ø–ª–∞—Ç–Ω–æ
    return sCount >= 2 ? 2 : sCount;
  } else if (size == BaggageSize.m) {
    // –î–ª—è M: –ø–µ—Ä–≤—ã–π –±–µ—Å–ø–ª–∞—Ç–Ω–æ
    if (mCount > 0) {
      return 1;
    }
    return 0;
  } else if (size == BaggageSize.l) {
    // –î–ª—è L: –ø–µ—Ä–≤—ã–π –±–µ—Å–ø–ª–∞—Ç–Ω–æ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ—Ç M
    if (lCount > 0 && mCount == 0) {
      return 1;
    }
    return 0;
  } else if (size == BaggageSize.custom) {
    // Custom –≤—Å–µ–≥–¥–∞ –ø–ª–∞—Ç–Ω–æ
    return 0;
  }
  
  return 0;
}
```

---

### 2. –û–±–Ω–æ–≤–ª–µ–Ω –∑–∞–≥–æ–ª–æ–≤–æ–∫ —ç–∫—Ä–∞–Ω–∞ –≤—ã–±–æ—Ä–∞ –±–∞–≥–∞–∂–∞

**–ë—ã–ª–æ:**
```
–û–î–ò–ù –ë–ê–ì–ê–ñ –ë–ï–°–ü–õ–ê–¢–ù–û
–ü–µ—Ä–≤—ã–π –±–∞–≥–∞–∂ –ª—é–±–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ, –æ—Å—Ç–∞–ª—å–Ω—ã–µ - –ø–ª–∞—Ç–Ω–æ
```

**–°—Ç–∞–ª–æ:**
```
–î–í–ê S –ë–ï–°–ü–õ–ê–¢–ù–û
–ü–µ—Ä–≤—ã–µ –¥–≤–∞ –º–∞–ª—ã—Ö –±–∞–≥–∞–∂–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ. –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –¥—Ä—É–≥–∏—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ ‚Äî –æ–¥–∏–Ω M –∏–ª–∏ L —Ç–∞–∫–∂–µ –±–µ—Å–ø–ª–∞—Ç–Ω–æ
```

---

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –æ–ø–ª–∞—Ç–µ

**–ë—ã–ª–æ:**
- –ü–æ–∫–∞–∑—ã–≤–∞–ª–æ—Å—å –ø—Ä–∏ `_getTotalBaggageCount() > 1`
- –¢–µ–∫—Å—Ç: "–û–¥–∏–Ω –±–∞–≥–∞–∂ –±–µ—Å–ø–ª–∞—Ç–Ω–æ, –ª—é–±–æ–π –ø–æ—Å–ª–µ–¥—É—é—â–∏–π –ø–ª–∞—Ç–Ω–æ"

**–°—Ç–∞–ª–æ:**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ `_getTotalBaggageCount() > 2`
- –¢–µ–∫—Å—Ç: "–î–≤–∞ S –±–µ—Å–ø–ª–∞—Ç–Ω–æ + –æ–¥–∏–Ω M/L –±–µ—Å–ø–ª–∞—Ç–Ω–æ, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–ª–∞—Ç–Ω–æ"

---

## ‚úÖ –ü–†–ò–ú–ï–†–´ –û–¢–û–ë–†–ê–ñ–ï–ù–ò–Ø –ù–ê –ö–ê–†–¢–û–ß–ö–ê–•

### –ü—Ä–∏–º–µ—Ä 1: S = 1
- **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:** "–ë–ï–°–ü–õ–ê–¢–ù–û"
- **–¶–≤–µ—Ç:** –ó–µ–ª–µ–Ω—ã–π (CupertinoColors.activeGreen)

### –ü—Ä–∏–º–µ—Ä 2: S = 2
- **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:** "–ë–ï–°–ü–õ–ê–¢–ù–û (2 —à—Ç)"
- **–¶–≤–µ—Ç:** –ó–µ–ª–µ–Ω—ã–π

### –ü—Ä–∏–º–µ—Ä 3: S = 3
- **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:** "–ë–ï–°–ü–õ–ê–¢–ù–û (2) + 1 –¥–æ–ø."
- **–ü–æ–¥–ø–∏—Å—å:** "–î–æ–ø. –±–∞–≥–∞–∂: 500‚ÇΩ"
- **–¶–≤–µ—Ç:** –û–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç

### –ü—Ä–∏–º–µ—Ä 4: S = 2, M = 1
- **S –∫–∞—Ä—Ç–æ—á–∫–∞:** "–ë–ï–°–ü–õ–ê–¢–ù–û (2 —à—Ç)"
- **M –∫–∞—Ä—Ç–æ—á–∫–∞:** "–ë–ï–°–ü–õ–ê–¢–ù–û"

### –ü—Ä–∏–º–µ—Ä 5: S = 2, M = 2
- **S –∫–∞—Ä—Ç–æ—á–∫–∞:** "–ë–ï–°–ü–õ–ê–¢–ù–û (2 —à—Ç)"
- **M –∫–∞—Ä—Ç–æ—á–∫–∞:** "–ë–ï–°–ü–õ–ê–¢–ù–û (1) + 1 –¥–æ–ø." / "–î–æ–ø. –±–∞–≥–∞–∂: 1000‚ÇΩ"

### –ü—Ä–∏–º–µ—Ä 6: S = 2, M = 1, L = 1
- **S –∫–∞—Ä—Ç–æ—á–∫–∞:** "–ë–ï–°–ü–õ–ê–¢–ù–û (2 —à—Ç)"
- **M –∫–∞—Ä—Ç–æ—á–∫–∞:** "–ë–ï–°–ü–õ–ê–¢–ù–û"
- **L –∫–∞—Ä—Ç–æ—á–∫–∞:** –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ü–µ–Ω—É "2000‚ÇΩ" (–ø–ª–∞—Ç–Ω–æ)

---

## üé® UI –ö–û–ú–ü–û–ù–ï–ù–¢–´

### –ö–∞—Ä—Ç–æ—á–∫–∞ –±–∞–≥–∞–∂–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç:

1. **–ï—Å–ª–∏ quantity = 0:**
   - "–ù–µ –≤—ã–±—Ä–∞–Ω–æ" (—Å–µ—Ä—ã–π —Ç–µ–∫—Å—Ç)

2. **–ï—Å–ª–∏ size = custom:**
   - "–¶–µ–Ω–∞ —É—Ç–æ—á–Ω—è–µ—Ç—Å—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–º" (–æ—Ä–∞–Ω–∂–µ–≤—ã–π)
   - –ü–æ–¥–ø–∏—Å—å —Å –ø–æ—è—Å–Ω–µ–Ω–∏–µ–º

3. **–ï—Å–ª–∏ –≤—Å–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ (freeCount > 0 && paidCount = 0):**
   - "–ë–ï–°–ü–õ–ê–¢–ù–û" –∏–ª–∏ "–ë–ï–°–ü–õ–ê–¢–ù–û (X —à—Ç)" (–∑–µ–ª–µ–Ω—ã–π, –∂–∏—Ä–Ω—ã–π)

4. **–ï—Å–ª–∏ –µ—Å—Ç—å –∏ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ, –∏ –ø–ª–∞—Ç–Ω—ã–µ:**
   - "–ë–ï–°–ü–õ–ê–¢–ù–û (X) + Y –¥–æ–ø."
   - "–î–æ–ø. –±–∞–≥–∞–∂: Z‚ÇΩ" (–ø–æ–¥–ø–∏—Å—å)

5. **–ï—Å–ª–∏ –≤—Å–µ –ø–ª–∞—Ç–Ω—ã–µ:**
   - –¶–µ–Ω–∞ –∑–∞ –µ–¥–∏–Ω–∏—Ü—É
   - "–í—Å–µ–≥–æ: Z‚ÇΩ" (–µ—Å–ª–∏ quantity > 1)

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –°—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

1. ‚úÖ **–¢–æ–ª—å–∫–æ S –±–∞–≥–∞–∂–∏:**
   - S=1 ‚Üí "–ë–ï–°–ü–õ–ê–¢–ù–û"
   - S=2 ‚Üí "–ë–ï–°–ü–õ–ê–¢–ù–û (2 —à—Ç)"
   - S=3 ‚Üí "–ë–ï–°–ü–õ–ê–¢–ù–û (2) + 1 –¥–æ–ø." + "–î–æ–ø. –±–∞–≥–∞–∂: 500‚ÇΩ"
   - S=4 ‚Üí "–ë–ï–°–ü–õ–ê–¢–ù–û (2) + 2 –¥–æ–ø." + "–î–æ–ø. –±–∞–≥–∞–∂: 1000‚ÇΩ"

2. ‚úÖ **–°–º–µ—à–∞–Ω–Ω—ã–π –±–∞–≥–∞–∂:**
   - S=2, M=1 ‚Üí S: "–ë–ï–°–ü–õ–ê–¢–ù–û (2 —à—Ç)", M: "–ë–ï–°–ü–õ–ê–¢–ù–û"
   - S=2, M=2 ‚Üí S: "–ë–ï–°–ü–õ–ê–¢–ù–û (2 —à—Ç)", M: "–ë–ï–°–ü–õ–ê–¢–ù–û (1) + 1 –¥–æ–ø."
   - S=2, M=1, L=1 ‚Üí S: "–ë–ï–°–ü–õ–ê–¢–ù–û (2 —à—Ç)", M: "–ë–ï–°–ü–õ–ê–¢–ù–û", L: –ø–ª–∞—Ç–Ω–æ

3. ‚úÖ **–¢–æ–ª—å–∫–æ M –∏–ª–∏ L:**
   - M=1 ‚Üí "–ë–ï–°–ü–õ–ê–¢–ù–û"
   - M=2 ‚Üí "–ë–ï–°–ü–õ–ê–¢–ù–û (1) + 1 –¥–æ–ø."
   - L=1 ‚Üí "–ë–ï–°–ü–õ–ê–¢–ù–û"
   - L=2 ‚Üí "–ë–ï–°–ü–õ–ê–¢–ù–û (1) + 1 –¥–æ–ø."

4. ‚úÖ **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:**
   - –ü—Ä–∏ totalCount ‚â§ 2 ‚Üí –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è
   - –ü—Ä–∏ totalCount > 2 ‚Üí –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∂–µ–ª—Ç–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ

---

## üìù –§–ê–ô–õ–´

–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–π —Ñ–∞–π–ª:
- `/lib/features/booking/screens/baggage_selection_screen_v3.dart`

–ú–µ—Ç–æ–¥—ã:
1. `_getFreeBaggageCount(BaggageSize size)` - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –±–∞–≥–∞–∂–µ–π
2. –ó–∞–≥–æ–ª–æ–≤–æ–∫ –≤ `build()` - –æ–±–Ω–æ–≤–ª–µ–Ω —Ç–µ–∫—Å—Ç
3. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ `build()` - –æ–±–Ω–æ–≤–ª–µ–Ω–æ —É—Å–ª–æ–≤–∏–µ –∏ —Ç–µ–∫—Å—Ç

---

## üöÄ –†–ï–ó–£–õ–¨–¢–ê–¢

–¢–µ–ø–µ—Ä—å UI –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç:
- ‚úÖ 2 –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö S –±–∞–≥–∞–∂–∞
- ‚úÖ 1 –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π M/L (–ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —Å–º–µ—à–∞–Ω–Ω–æ–≥–æ –±–∞–≥–∞–∂–∞)
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∏ –ø–ª–∞—Ç–Ω—ã–µ –±–∞–≥–∞–∂–∏ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö
- ‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –º–µ–∂–¥—É –ª–æ–≥–∏–∫–æ–π —Ä–∞—Å—á–µ—Ç–∞ –∏ UI
