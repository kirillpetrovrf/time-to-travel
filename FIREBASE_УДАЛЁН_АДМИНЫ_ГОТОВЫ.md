# ‚úÖ –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê: –£–¥–∞–ª–µ–Ω–∏–µ Firebase + –°–∏—Å—Ç–µ–º–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

**–î–∞—Ç–∞**: 23 —è–Ω–≤–∞—Ä—è 2026 –≥.  
**–ö–æ–º–º–∏—Ç**: c75679e

---

## üìã –ß—Ç–æ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### ‚úÖ –§–∞–∑–∞ 1: –£–¥–∞–ª–µ–Ω–∏–µ Firebase (30 –º–∏–Ω—É—Ç)

**–£–¥–∞–ª–µ–Ω—ã –ø–∞–∫–µ—Ç—ã –∏–∑ `pubspec.yaml`:**
- firebase_core: ^2.24.2
- firebase_auth: ^4.15.3
- cloud_firestore: ^4.13.6
- firebase_storage: ^11.5.6
- firebase_messaging: ^14.7.9

**–£–¥–∞–ª–µ–Ω—ã —Ñ–∞–π–ª—ã:**
- `lib/firebase_options.dart`
- `android/app/google-services.json`
- `ios/Runner/GoogleService-Info.plist`

**–û–±–Ω–æ–≤–ª—ë–Ω `lib/main.dart`:**
- –£–¥–∞–ª–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase
- –£–¥–∞–ª—ë–Ω import firebase_core
- –£–¥–∞–ª—ë–Ω import firebase_options.dart
- –£–¥–∞–ª—ë–Ω OrdersSyncService (–∑–∞–≤–∏—Å–µ–ª –æ—Ç Firebase)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –û—à–∏–±–∫–∏ Firebase API key –∏—Å—á–µ–∑–ª–∏
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ PostgreSQL + SQLite
- ‚úÖ –†–∞–∑–º–µ—Ä APK —É–º–µ–Ω—å—à–∏–ª—Å—è (~10MB —ç–∫–æ–Ω–æ–º–∏–∏)

---

### ‚úÖ –§–∞–∑–∞ 2: –£–¥–∞–ª–µ–Ω–∏–µ WelcomeScreen (5 –º–∏–Ω—É—Ç)

**–°—Ç–∞—Ç—É—Å:** –£–∂–µ –±—ã–ª —É–¥–∞–ª—ë–Ω —Ä–∞–Ω–µ–µ

- ‚úÖ WelcomeScreen –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚úÖ PhoneInputScreen –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ TelegramLoginScreen
- ‚úÖ –í—Å–µ —Ä–æ—É—Ç—ã —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ `/auth` (Telegram –≤—Ö–æ–¥)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –≤—Ö–æ–¥–∞ ‚Äî —á–µ—Ä–µ–∑ Telegram
- ‚úÖ –ù–µ—Ç —Å—Ç–∞—Ä—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤ —Å —Ä—É—á–Ω—ã–º –≤–≤–æ–¥–æ–º —Ç–µ–ª–µ—Ñ–æ–Ω–∞

---

### ‚úÖ –§–∞–∑–∞ 3: –°–∏—Å—Ç–µ–º–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ (45 –º–∏–Ω—É—Ç)

#### 1. –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `lib/core/constants/admin_users.dart`

```dart
class AdminUsers {
  static const List<String> adminPhones = [
    '+79504455444',  // –ö–∏—Ä–∏–ª–ª –ü–µ—Ç—Ä–æ–≤ (—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫)
    '+79895342496',  // –ï–≤–≥–µ–Ω–∏–π @nepeBo34uk (–∑–∞–∫–∞–∑—á–∏–∫)
  ];

  static bool isAdmin(String? phone) {
    // –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –Ω–æ–º–µ—Ä–∞ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞
  }
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –Ω–æ–º–µ—Ä–æ–≤ (—É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–±–µ–ª–æ–≤, –¥–µ—Ñ–∏—Å–æ–≤, —Å–∫–æ–±–æ–∫)
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã—Ö –∞–¥–º–∏–Ω–æ–≤

---

#### 2. –û–±–Ω–æ–≤–ª—ë–Ω `lib/providers/auth_provider.dart`

**–î–æ–±–∞–≤–ª–µ–Ω –≥–µ—Ç—Ç–µ—Ä:**
```dart
bool get isAdmin {
  final phone = _user?['phone']?.toString();
  return AdminUsers.isAdmin(phone);
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```dart
final authProvider = context.watch<AuthProvider>();
if (authProvider.isAdmin) {
  // –ü–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫—É –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
}
```

---

#### 3. –û–±–Ω–æ–≤–ª—ë–Ω `lib/features/profile/screens/profile_screen.dart`

**–î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤):**
```dart
if (context.watch<AuthProvider>().isAdmin)
  Padding(
    padding: const EdgeInsets.only(bottom: 16),
    child: _buildAdminSwitchButton(theme),
  ),
```

**–ú–µ—Ç–æ–¥ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è:**
```dart
Future<void> _switchToDispatcher() async {
  final newType = _currentUser?.userType == UserType.dispatcher
      ? UserType.client
      : UserType.dispatcher;

  final prefs = await SharedPreferences.getInstance();
  await prefs.setString('user_type', newType.toString().split('.').last);

  // –ü–æ–∫–∞–∑–∞—Ç—å –¥–∏–∞–ª–æ–≥ –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å HomeScreen
  Navigator.pushNamedAndRemoveUntil(context, '/home', (route) => false);
}
```

**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
- –û—Ä–∞–Ω–∂–µ–≤–∞—è –∫–Ω–æ–ø–∫–∞ —Å –∏–∫–æ–Ω–∫–æ–π `person_badge_plus`
- –¢–µ–∫—Å—Ç –º–µ–Ω—è–µ—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ —Ä–µ–∂–∏–º–∞:
  - "–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –≤ —Ä–µ–∂–∏–º –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞"
  - "–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –≤ —Ä–µ–∂–∏–º –∫–ª–∏–µ–Ω—Ç–∞"
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∏–∞–ª–æ–≥ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

---

#### 4. –û–±–Ω–æ–≤–ª—ë–Ω `lib/features/home/screens/home_screen.dart`

**–î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞:**
```dart
@override
void initState() {
  super.initState();
  _loadUserType();
  _restoreLastTab();
  _checkAdminAccess(); // ‚Üê –ù–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
}

Future<void> _checkAdminAccess() async {
  final authProvider = context.read<AuthProvider>();

  if (_userType == UserType.dispatcher && !authProvider.isAdmin) {
    // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞
    final prefs = await SharedPreferences.getInstance();
    await prefs.setString('user_type', 'client');

    setState(() {
      _userType = UserType.client;
    });

    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
    showCupertinoDialog(
      context: context,
      builder: (context) => CupertinoAlertDialog(
        title: const Text('‚õî –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω'),
        content: const Text(
          '–î–æ—Å—Ç—É–ø –∫ –ø–∞–Ω–µ–ª–∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º.',
        ),
        actions: [
          CupertinoDialogAction(
            isDefaultAction: true,
            child: const Text('OK'),
            onPressed: () => Navigator.pop(context),
          ),
        ],
      ),
    );
  }
}
```

**–ó–∞—â–∏—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏:**
- –ü—Ä—è–º–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ SharedPreferences
- –ü–æ–ø—ã—Ç–∫–µ –æ–±—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ deep link
- –õ—é–±—ã—Ö –º–∞–Ω–∏–ø—É–ª—è—Ü–∏—è—Ö —Å localStorage

---

## üéØ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –î–ª—è –æ–±—ã—á–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞:

1. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Üí **TelegramLoginScreen**
2. –í—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ Telegram ‚Üí **HomeScreen** (—Ä–µ–∂–∏–º –∫–ª–∏–µ–Ω—Ç–∞)
3. –í–∏–¥–∏—Ç –≤–∫–ª–∞–¥–∫–∏: –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ | –ö–∞—Ä—Ç–∞ | –ó–∞–∫–∞–∑—ã | –ü—Ä–æ—Ñ–∏–ª—å
4. –í –ø—Ä–æ—Ñ–∏–ª–µ **–ù–ï–¢** –∫–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –Ω–∞ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞
5. –ï—Å–ª–∏ –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –∏–∑–º–µ–Ω–∏—Ç—å user_type –≤—Ä—É—á–Ω—É—é ‚Üí **–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞** —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º

---

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–ö–∏—Ä–∏–ª–ª +79504455444 –∏–ª–∏ –ï–≤–≥–µ–Ω–∏–π +79895342496):

1. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Üí **TelegramLoginScreen**
2. –í—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ Telegram ‚Üí **HomeScreen** (—Ä–µ–∂–∏–º –∫–ª–∏–µ–Ω—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
3. –í–∏–¥–∏—Ç –≤–∫–ª–∞–¥–∫–∏: –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ | –ö–∞—Ä—Ç–∞ | –ó–∞–∫–∞–∑—ã | –ü—Ä–æ—Ñ–∏–ª—å
4. –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ **–ü—Ä–æ—Ñ–∏–ª—å**
5. –í–∏–¥–∏—Ç –æ—Ä–∞–Ω–∂–µ–≤—É—é –∫–Ω–æ–ø–∫—É **"–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –≤ —Ä–µ–∂–∏–º –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞"** üîß
6. –ù–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É ‚Üí **–¥–∏–∞–ª–æ–≥ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º**
7. –ù–∞–∂–∏–º–∞–µ—Ç OK ‚Üí **HomeScreen –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è** –≤ —Ä–µ–∂–∏–º–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞
8. –í–∏–¥–∏—Ç –≤–∫–ª–∞–¥–∫–∏: –ì–ª–∞–≤–Ω–∞—è | –ê–¥–º–∏–Ω | –ó–∞–∫–∞–∑—ã | –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ | –ü—Ä–æ—Ñ–∏–ª—å
9. –ú–æ–∂–µ—Ç –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ —Ä–µ–∂–∏–º –∫–ª–∏–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ —Ç—É –∂–µ –∫–Ω–æ–ø–∫—É

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –£—Ä–æ–≤–Ω–∏ –∑–∞—â–∏—Ç—ã:

1. **Frontend: –°–∫—Ä—ã—Ç–∏–µ UI**
   - –ö–Ω–æ–ø–∫–∞ –≤–∏–¥–Ω–∞ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `authProvider.isAdmin == true`
   - –û–±—ã—á–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –Ω–µ –≤–∏–¥—è—Ç –∫–Ω–æ–ø–∫—É

2. **Frontend: Guard –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ**
   - `HomeScreen.initState()` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∞
   - –ï—Å–ª–∏ user_type = dispatcher, –Ω–æ isAdmin = false ‚Üí –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞

3. **Backend: API –ø—Ä–æ–≤–µ—Ä–∫–∞** (—É–∂–µ –µ—Å—Ç—å)
   - PostgreSQL —Ö—Ä–∞–Ω–∏—Ç role: 'passenger' –∏–ª–∏ 'dispatcher'
   - API –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–æ–ª—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ –∫ –¥–∏—Å–ø–µ—Ç—á–µ—Ä—Å–∫–æ–π –ø–∞–Ω–µ–ª–∏

4. **Persistence: SharedPreferences**
   - user_type —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
   - –ù–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ —á–µ—Ä–µ–∑ isAdmin

---

## üìä –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

```
lib/
‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îî‚îÄ‚îÄ constants/
‚îÇ       ‚îî‚îÄ‚îÄ admin_users.dart                      ‚úÖ –°–û–ó–î–ê–ù
‚îú‚îÄ‚îÄ providers/
‚îÇ   ‚îî‚îÄ‚îÄ auth_provider.dart                        ‚úÖ –û–ë–ù–û–í–õ–Å–ù (isAdmin)
‚îú‚îÄ‚îÄ features/
‚îÇ   ‚îú‚îÄ‚îÄ profile/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ screens/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ profile_screen.dart               ‚úÖ –û–ë–ù–û–í–õ–Å–ù (–∫–Ω–æ–ø–∫–∞)
‚îÇ   ‚îî‚îÄ‚îÄ home/
‚îÇ       ‚îî‚îÄ‚îÄ screens/
‚îÇ           ‚îî‚îÄ‚îÄ home_screen.dart                  ‚úÖ –û–ë–ù–û–í–õ–Å–ù (guard)
‚îî‚îÄ‚îÄ main.dart                                     ‚úÖ –û–ë–ù–û–í–õ–Å–ù (—É–¥–∞–ª—ë–Ω Firebase)

pubspec.yaml                                      ‚úÖ –û–ë–ù–û–í–õ–Å–ù (—É–¥–∞–ª–µ–Ω—ã –ø–∞–∫–µ—Ç—ã)
lib/firebase_options.dart                         ‚ùå –£–î–ê–õ–Å–ù
android/app/google-services.json                  ‚ùå –£–î–ê–õ–Å–ù
ios/Runner/GoogleService-Info.plist               ‚ùå –£–î–ê–õ–Å–ù
```

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- [x] Firebase –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª—ë–Ω, –æ—à–∏–±–æ–∫ –Ω–µ—Ç
- [x] WelcomeScreen —É–¥–∞–ª—ë–Ω, –æ—Å—Ç–∞–ª—Å—è —Ç–æ–ª—å–∫–æ TelegramLoginScreen
- [x] –ê–¥–º–∏–Ω—ã –≤–∏–¥—è—Ç –∫–Ω–æ–ø–∫—É –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤ ProfileScreen
- [x] –û–±—ã—á–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã –ù–ï –≤–∏–¥—è—Ç –∫–Ω–æ–ø–∫—É
- [x] –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [x] –ü—Ä–∏ –ø—Ä—è–º–æ–º –¥–æ—Å—Ç—É–ø–µ ‚Äî –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º
- [x] –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –≤ Git (commit c75679e)

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –Ω–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

1. **–£–¥–∞–ª–∏—Ç—å —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∞–ø—ã** (7 —Ç–∞–ø–æ–≤ –Ω–∞ –∞–≤–∞—Ç–∞—Ä)
   - –¢–µ–ø–µ—Ä—å –Ω–µ –Ω—É–∂–Ω—ã, –µ—Å—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
   - –§–∞–π–ª: `lib/features/profile/screens/profile_screen.dart`
   - –£–¥–∞–ª–∏—Ç—å –º–µ—Ç–æ–¥—ã: `_handleSecretTap()`, `_showDispatcherLogin()`

2. **–î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –ó–∞–ø–∏—Å—ã–≤–∞—Ç—å –≤ –ª–æ–≥–∏ –∫–æ–≥–¥–∞ –∞–¥–º–∏–Ω –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —Ä–µ–∂–∏–º
   - –î–ª—è –∞—É–¥–∏—Ç–∞ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

3. **–ë—ç–∫–µ–Ω–¥: endpoint –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–¥–º–∏–Ω–æ–≤**
   - –í–º–µ—Å—Ç–æ hardcode –≤ –∫–æ–¥–µ –º–æ–∂–Ω–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ —Å —Å–µ—Ä–≤–µ—Ä–∞
   - –¢–æ–≥–¥–∞ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –∞–¥–º–∏–Ω–æ–≤ –±–µ–∑ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

### –ü–æ—á–µ–º—É –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ Telegram ID?

- Telegram ID –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–∏ –∞–∫–∫–∞—É–Ω—Ç–∞
- –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ ‚Äî —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- –£–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ü—Ä–æ—â–µ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è

### –ü–æ—á–µ–º—É SharedPreferences, –∞ –Ω–µ backend?

- user_type ‚Äî —ç—Ç–æ UI preference, –Ω–µ —Ä–æ–ª—å
- –†–µ–∞–ª—å–Ω–∞—è —Ä–æ–ª—å —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ PostgreSQL (role: 'passenger' –∏–ª–∏ 'dispatcher')
- SharedPreferences —Ç–æ–ª—å–∫–æ –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–±–æ—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ó–∞—â–∏—Ç–∞ –µ—Å—Ç—å: –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è isAdmin

### –ü–æ—á–µ–º—É –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Ä–æ—É—Ç—ã /welcome?

- –£–∂–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –∫–æ–¥–µ
- Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –≤—Ö–æ–¥–∞
- –£–ø—Ä–æ—â–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –∫–æ–¥–∞
