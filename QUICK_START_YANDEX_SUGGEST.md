# üöÄ Yandex Suggest API - –ë—ã—Å—Ç—Ä—ã–π –°—Ç–∞—Ä—Ç

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ?

–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω **–Ω–∞—Ç–∏–≤–Ω—ã–π Yandex Suggest API** –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–Ω–ª–∞–π–Ω –ø–æ–¥—Å–∫–∞–∑–æ–∫ –≤—Å–µ—Ö –∞–¥—Ä–µ—Å–æ–≤ –†–æ—Å—Å–∏–∏ (–≥–æ—Ä–æ–¥–∞, —É–ª–∏—Ü—ã, –¥–æ–º–∞).

---

## üéØ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å?

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```bash
cd /Users/kirillpetrov/Projects/time-to-travel
flutter run
```

### 2. –û—Ç–∫—Ä—ã—Ç—å —ç–∫—Ä–∞–Ω —Å –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º
- –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω ‚Üí **"–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä"**
- –ò–ª–∏: **"–ì—Ä—É–ø–ø–æ–≤–∞—è –ø–æ–µ–∑–¥–∫–∞"** ‚Üí **"–°–≤–æ–π –º–∞—Ä—à—Ä—É—Ç"**

### 3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫–∏

**–¢–µ—Å—Ç 1: –ì–æ—Ä–æ–¥–∞**
```
–í–≤–µ—Å—Ç–∏: "–ú–æ—Å–∫–≤–∞"
–û–∂–∏–¥–∞–µ—Ç—Å—è: –ú–æ—Å–∫–≤–∞, –†–æ—Å—Å–∏—è + –¥—Ä—É–≥–∏–µ –≥–æ—Ä–æ–¥–∞
```

**–¢–µ—Å—Ç 2: –£–ª–∏—Ü—ã**
```
–í–≤–µ—Å—Ç–∏: "–ü–µ—Ä–º—å –õ–µ–Ω–∏–Ω–∞"
–û–∂–∏–¥–∞–µ—Ç—Å—è: —É–ª–∏—Ü–∞ –õ–µ–Ω–∏–Ω–∞, –ü–µ—Ä–º—å, –ü–µ—Ä–º—Å–∫–∏–π –∫—Ä–∞–π, –†–æ—Å—Å–∏—è
```

**–¢–µ—Å—Ç 3: –î–æ–º–∞**
```
–í–≤–µ—Å—Ç–∏: "–ú–æ—Å–∫–≤–∞ –¢–≤–µ—Ä—Å–∫–∞—è 1"
–û–∂–∏–¥–∞–µ—Ç—Å—è: –¢–≤–µ—Ä—Å–∫–∞—è —É–ª–∏—Ü–∞, 1, –ú–æ—Å–∫–≤–∞, –†–æ—Å—Å–∏—è
```

**–¢–µ—Å—Ç 4: –õ—é–±–æ–π –≥–æ—Ä–æ–¥ –†–æ—Å—Å–∏–∏**
```
–ü–æ–ø—Ä–æ–±—É–π—Ç–µ: –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥, –ö–∞–∑–∞–Ω—å, –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫, –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä, –°–æ—á–∏
```

---

## üìã –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

### –í–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
```bash
# –û–∫–Ω–æ 1: –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
flutter run

# –û–∫–Ω–æ 2: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Yandex API
flutter logs | grep YANDEX
```

### –ß—Ç–æ –∏—Å–∫–∞—Ç—å –≤ –ª–æ–≥–∞—Ö:
```
‚úÖ [YANDEX MAPKIT] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω —É—Å–ø–µ—à–Ω–æ
‚úÖ [YANDEX SUGGEST] SuggestSession —Å–æ–∑–¥–∞–Ω–∞
üí° [YANDEX SUGGEST] –ü–æ–∏—Å–∫ –ø–æ–¥—Å–∫–∞–∑–æ–∫ –¥–ª—è: "–ú–æ—Å–∫–≤–∞"
‚úÖ [YANDEX SUGGEST] –ü–æ–ª—É—á–µ–Ω –æ—Ç–≤–µ—Ç: 10 —ç–ª–µ–º–µ–Ω—Ç–æ–≤
üìù [YANDEX SUGGEST] –ü—Ä–∏–º–µ—Ä—ã:
   1. –ú–æ—Å–∫–≤–∞, –†–æ—Å—Å–∏—è
   2. –ú–æ—Å–∫–≤–∞, –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å
   3. ...
```

---

## ‚ö° –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. `pubspec.yaml`
```yaml
# –ë—ã–ª–æ: yandex_mapkit: ^4.2.1
# –°—Ç–∞–ª–æ:
yandex_maps_mapkit: ^4.8.1  # –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ 4.25.0-beta
```

### 2. `lib/main.dart`
```dart
import 'package:yandex_maps_mapkit/init.dart' as mapkit_init;

void main() async {
  WidgetsFlutterBinding.ensureInitialized();
  
  // ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è MapKit
  await mapkit_init.initMapkit(
    apiKey: '2f1d6a75-b751-4077-b305-c6abaea0b542',
  );
  
  runApp(const TimeToTravelApp());
}
```

### 3. `lib/services/yandex_maps_service.dart`
```dart
// ‚úÖ –ù–æ–≤—ã–µ –∏–º–ø–æ—Ä—Ç—ã
import 'package:yandex_maps_mapkit/mapkit.dart';
import 'package:yandex_maps_mapkit/search.dart';

// ‚úÖ –ù–∞—Ç–∏–≤–Ω—ã–π Suggest API
Future<List<String>> getSuggestions(String query) async {
  // –ì—Ä–∞–Ω–∏—Ü—ã –†–æ—Å—Å–∏–∏
  final boundingBox = BoundingBox(
    const Point(latitude: 41.0, longitude: 19.0),
    const Point(latitude: 82.0, longitude: 180.0),
  );
  
  // –ó–∞–ø—Ä–æ—Å –ø–æ–¥—Å–∫–∞–∑–æ–∫
  _suggestSession!.suggest(
    boundingBox,
    suggestOptions,
    SearchSuggestSessionSuggestListener(...),
    text: query,
  );
}
```

---

## üêõ –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü–æ–¥—Å–∫–∞–∑–∫–∏ –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è?
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
2. –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏: `flutter logs | grep YANDEX`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–≤–µ–ª–∏ –º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞

### –û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏?
```bash
flutter clean
flutter pub get
flutter run
```

### –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?
–°–º–æ—Ç—Ä–∏—Ç–µ –ø–æ–ª–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:
- `YANDEX_SUGGEST_API_INTEGRATION_COMPLETE.md`

---

## üìä –ß—Ç–æ –¥–∞–ª—å—à–µ?

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

1. ‚úÖ **–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –æ–Ω–ª–∞–π–Ω –ø–æ–¥—Å–∫–∞–∑–∫–∏**
2. üîÑ –û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç–æ–¥ `geocode()` –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è
3. üîÑ –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤
4. üîÑ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å debounce –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤

---

**–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!** üéâ

–ó–∞–ø—É—Å–∫–∞–π—Ç–µ `flutter run` –∏ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ä–∞–±–æ—Ç—É –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –∞–¥—Ä–µ—Å–æ–≤.
