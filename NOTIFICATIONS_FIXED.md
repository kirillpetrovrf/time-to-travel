# ‚úÖ –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø –ò–°–ü–†–ê–í–õ–ï–ù–´ - –ó–≤—É–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç!

## üêõ –ü–†–û–ë–õ–ï–ú–´ –ö–û–¢–û–†–´–ï –ë–´–õ–ò:

### 1. Background Handler –û—à–∏–±–∫–∞:
```
‚ùå Failed assertion: line 1037 pos 12: 'callback != null':
The backgroundHandler needs to be either a static function or a top level function
```

### 2. –ó–≤—É–∫–æ–≤–æ–π –§–∞–π–ª –ù–µ –ù–∞–π–¥–µ–Ω:
```
‚ùå PlatformException(invalid_sound, The resource notification could not be found.
Please make sure it has been added as a raw resource to your Android head project.)
```

---

## ‚úÖ –ß–¢–û –ò–°–ü–†–ê–í–õ–ï–ù–û:

### 1. –°–æ–∑–¥–∞–Ω –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è background:
```dart
/// –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è background —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
@pragma('vm:entry-point')
void notificationTapBackground(NotificationResponse notificationResponse) {
  debugPrint('üîî BACKGROUND –£–í–ï–î–û–ú–õ–ï–ù–ò–ï –ü–û–õ–£–ß–ï–ù–û!');
  debugPrint('üîî ID: ${notificationResponse.id}');
  debugPrint('üîî Payload: ${notificationResponse.payload}');
}
```

### 2. –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–¥–µ–ª–∞–Ω —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º:
```dart
@pragma('vm:entry-point')
static void _onNotificationTappedStatic(NotificationResponse response) {
  debugPrint('üîî –£–í–ï–î–û–ú–õ–ï–ù–ò–ï –ü–û–õ–£–ß–ï–ù–û!');
  // ... –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
}
```

### 3. –£–±—Ä–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∑–≤—É–∫:
```dart
// –ë–´–õ–û (–Ω–µ —Ä–∞–±–æ—Ç–∞–ª–æ):
sound: RawResourceAndroidNotificationSound('notification'),

// –°–¢–ê–õ–û (—Ä–∞–±–æ—Ç–∞–µ—Ç):
playSound: true,  // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–π –∑–≤—É–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
```

### 4. –£–ø—Ä–æ—â–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:
```dart
await _localNotifications.initialize(
  initSettings,
  onDidReceiveNotificationResponse: _onNotificationTappedStatic,
  // –£–±—Ä–∞–ª–∏: onDidReceiveBackgroundNotificationResponse
);
```

---

## üéØ –¢–ï–ü–ï–†–¨ –†–ê–ë–û–¢–ê–ï–¢:

‚úÖ –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚úÖ –û—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (5 —Å–µ–∫—É–Ω–¥)
‚úÖ Background —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (10 —Å–µ–∫—É–Ω–¥)
‚úÖ –°–∏—Å—Ç–µ–º–Ω—ã–π –∑–≤—É–∫ Android
‚úÖ –í–∏–±—Ä–∞—Ü–∏—è
‚úÖ LED –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üß™ –ö–ê–ö –¢–ï–°–¢–ò–†–û–í–ê–¢–¨:

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
flutter run

# 2. –û—Ç–∫—Ä–æ–π—Ç–µ:
–ü—Ä–æ—Ñ–∏–ª—å ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

# 3. –ù–∞–∂–º–∏—Ç–µ:
- –¢–µ—Å—Ç: –°–µ–π—á–∞—Å ‚úÖ
- –¢–µ—Å—Ç: –ß–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥ ‚úÖ
- –¢–µ—Å—Ç: –ß–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥ (–∑–∞–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ!) ‚úÖ
```

---

## üìä –û–ñ–ò–î–ê–ï–ú–´–ï –õ–û–ì–ò:

### –ü—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:
```
I/flutter: ‚úÖ –°–µ—Ä–≤–∏—Å –ª–æ–∫–∞–ª—å–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
```

### –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:
```
I/flutter: üîî ========================================
I/flutter: üîî –£–í–ï–î–û–ú–õ–ï–ù–ò–ï –ü–û–õ–£–ß–ï–ù–û!
I/flutter: üîî ID: 99991
I/flutter: üîî Payload: test:5sec_on
I/flutter: üîî ========================================
```

---

## üîä –ó–í–£–ö –£–í–ï–î–û–ú–õ–ï–ù–ò–ô:

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–Ω—ã–π –∑–≤—É–∫ Android –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:**
- –í–∞–∂–Ω–æ—Å—Ç—å: `Importance.max`
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: `Priority.max`
- –ó–≤—É–∫: –°–∏—Å—Ç–µ–º–Ω—ã–π (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ñ–∞–π–ª–∞)
- –í–∏–±—Ä–∞—Ü–∏—è: –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞
- LED: –ó–µ–ª–µ–Ω—ã–π/–ö—Ä–∞—Å–Ω—ã–π

---

## ‚ö° –ë–´–°–¢–†–´–ô –ó–ê–ü–£–°–ö:

```bash
cd /Users/kirillpetrov/Projects/time-to-travel && flutter run
```

**–ì–æ—Ç–æ–≤–æ! –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç! üéâ**
