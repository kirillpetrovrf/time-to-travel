# üîÑ –û–¢–ö–ê–¢ SQLite –°–ò–°–¢–ï–ú–´ –ú–ê–†–®–†–£–¢–û–í - –≠–ö–°–¢–†–ï–ù–ù–´–ô –û–¢–ß–ï–¢

## üìÖ –î–∞—Ç–∞: 29 –Ω–æ—è–±—Ä—è 2025
## ‚è±Ô∏è –í—Ä–µ–º—è: –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ
## üö® –°—Ç–∞—Ç—É—Å: ‚úÖ –û–¢–ö–ê–¢ –ó–ê–í–ï–†–®–ï–ù

---

## üö® –ü–†–û–ë–õ–ï–ú–ê

–ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è SQLite-–ø–µ—Ä–≤–æ–π —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–æ–±—â–∏–ª:
> **"–ø–µ—Ä–µ—Å—Ç–∞–ª–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –≤—ã–≤–æ–¥ –≥–æ—Ä–æ–¥–æ–≤ —á–µ—Ä–µ–∑ –∞–ø–∏ —è–Ω–¥–µ–∫—Å–∞"**

### üìä –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ —Å–∏–º–ø—Ç–æ–º—ã
- –ê–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç –≥–æ—Ä–æ–¥–æ–≤ —á–µ—Ä–µ–∑ Yandex API –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω—ã –æ—à–∏–±–∫–∏ Permission Denied –¥–ª—è Firebase  
- –ü–æ–∏—Å–∫ –≥–æ—Ä–æ–¥–æ–≤ —Å—Ç–∞–ª –Ω–µ—Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω—ã–º

---

## ‚ö° –≠–ö–°–¢–†–ï–ù–ù–´–ï –î–ï–ô–°–¢–í–ò–Ø

### üîÑ –ü–æ–ª–Ω—ã–π –æ—Ç–∫–∞—Ç –∫ —Å—Ç–∞—Ä–æ–π —Å–∏—Å—Ç–µ–º–µ

#### 1Ô∏è‚É£ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã
- ‚úÖ `lib/features/admin/widgets/route_management_widget.dart`
- ‚úÖ `lib/features/admin/screens/admin_routes_screen.dart`  
- ‚úÖ `lib/data/route_initializer.dart`
- ‚úÖ `lib/services/price_calculator_service.dart`

#### 2Ô∏è‚É£ –í–æ–∑–≤—Ä–∞—â–µ–Ω—ã —Å—Ç–∞—Ä—ã–µ —Å–µ—Ä–≤–∏—Å—ã
```dart
// –ë–´–õ–û (–Ω–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞)
final RouteManagementServiceV2 _routeService = RouteManagementServiceV2.instance;

// –°–¢–ê–õ–û (—Å—Ç–∞—Ä–∞—è —Å–∏—Å—Ç–µ–º–∞)  
final RouteManagementService _routeService = RouteManagementService.instance;
```

#### 3Ô∏è‚É£ –û—Ç–∫–ª—é—á–µ–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤
- ‚ùå –£–¥–∞–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `RoutesSyncService`
- ‚ùå –û—Ç–∫–ª—é—á–µ–Ω `RoutesSyncService.instance.startAutoSync()`
- ‚ùå –£–±—Ä–∞–Ω—ã SQLite –º–∞—Ä—à—Ä—É—Ç—ã –∏–∑ main.dart

---

## üìÅ –ò–ó–ú–ï–ù–ï–ù–ù–´–ï –§–ê–ô–õ–´

### üîÑ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- `lib/features/admin/widgets/route_management_widget.dart`
- `lib/features/admin/screens/admin_routes_screen.dart`
- `lib/data/route_initializer.dart`
- `lib/services/price_calculator_service.dart`
- `lib/main.dart`

### üóÇÔ∏è –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ–∞–π–ª—ã (—Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã)
- `lib/services/local_routes_service.dart`
- `lib/services/route_management_service_v2.dart`
- `lib/services/routes_sync_service.dart`

---

## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢ –û–¢–ö–ê–¢–ê

### ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- **Yandex API –∞–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç** –¥–æ–ª–∂–µ–Ω —Å–Ω–æ–≤–∞ —Ä–∞–±–æ—Ç–∞—Ç—å
- **Firebase —Å–∏—Å—Ç–µ–º–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤** –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∞ –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–∞—è
- **–ü–æ–∏—Å–∫ –≥–æ—Ä–æ–¥–æ–≤** –¥–æ–ª–∂–µ–Ω —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω–æ

### üîß –¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–ø–æ—Å–ª–µ –æ—Ç–∫–∞—Ç–∞)
- **–û—Å–Ω–æ–≤–∞:** `RouteManagementService` (–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π)  
- **–•—Ä–∞–Ω–µ–Ω–∏–µ:** Firebase Firestore (–∫–∞–∫ –±—ã–ª–æ)
- **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∫–µ—à —Å–µ—Ä–≤–∏—Å–∞ (–∫–∞–∫ –±—ã–ª–æ)
- **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:** –¢–æ–ª—å–∫–æ –∑–∞–∫–∞–∑—ã (OrdersSync), –±–µ–∑ –º–∞—Ä—à—Ä—É—Ç–æ–≤

---

## üîç –ü–†–ò–ß–ò–ù–ê –ü–†–û–ë–õ–ï–ú–´

–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –≤–ª–∏—è–Ω–∏—è –Ω–∞ Yandex API:
1. **–ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å–µ—Ä–≤–∏—Å–æ–≤** - –Ω–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã –º–æ–≥–ª–∏ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã
2. **–ò–∑–º–µ–Ω–µ–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–æ–≤** - –º–æ–≥–ª–∏ –ø–æ–≤–ª–∏—è—Ç—å –Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é API  
3. **SQLite –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** - –º–æ–≥–ª–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å —Å Yandex MapKit
4. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ñ–æ–Ω–æ–º** - –º–æ–≥–ª–∞ –∑–∞–±–∏—Ä–∞—Ç—å —Ä–µ—Å—É—Ä—Å—ã —Å–∏—Å—Ç–µ–º—ã

---

## ‚ö†Ô∏è –£–†–û–ö–ò –ò –í–´–í–û–î–´

### üìö –ß—Ç–æ –∏–∑—É—á–∏–ª–∏
- SQLite –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–æ–∂–µ—Ç –≤–ª–∏—è—Ç—å –Ω–∞ –≤–Ω–µ—à–Ω–∏–µ API
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–∏—Å—Ç–µ–º—ã –Ω—É–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ
- –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Ç—Ä–µ–±—É–µ—Ç –ø–æ—à–∞–≥–æ–≤–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### üõ°Ô∏è –ú–µ—Ä—ã –ø—Ä–µ–¥–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏  
- –°–æ—Ö—Ä–∞–Ω–∏–ª–∏ –≤—Å–µ —Ñ–∞–π–ª—ã SQLite —Å–∏—Å—Ç–µ–º—ã –¥–ª—è –±—É–¥—É—â–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- –ú–æ–∂–µ–º –±—ã—Å—Ç—Ä–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- –°—Ç–∞—Ä–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–∞

---

## üöÄ –ù–ï–ú–ï–î–õ–ï–ù–ù–´–ï –î–ï–ô–°–¢–í–ò–Ø

### 1Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```bash
flutter run
```

### 2Ô∏è‚É£ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∞–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç
- –û—Ç–∫—Ä—ã—Ç—å –ø–æ–ª–µ "–û—Ç–∫—É–¥–∞"  
- –í–≤–µ—Å—Ç–∏ "–¥–æ–Ω" –∏–ª–∏ "–¥–æ–Ω–µ—Ü–∫"
- –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –ø–æ—è–≤–ª—è—é—Ç—Å—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –≥–æ—Ä–æ–¥–æ–≤

### 3Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç—ã
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞ –≤ –∞–¥–º–∏–Ω–∫–µ
- –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –Ω–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏

---

## üìû –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ Yandex API —Å–Ω–æ–≤–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - —Å–ª–µ–¥–∏—Ç—å –∑–∞ –ª–æ–≥–∞–º–∏ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –æ—à–∏–±–æ–∫  
3. **–ê–Ω–∞–ª–∏–∑** - –∏–∑—É—á–∏—Ç—å –ø–æ—á–µ–º—É SQLite –ø–æ–≤–ª–∏—è–ª –Ω–∞ –≤–Ω–µ—à–Ω–∏–µ API
4. **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø—Ä–æ–¥—É–º–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –æ—Ñ—Ñ–ª–∞–π–Ω —Å–∏—Å—Ç–µ–º—ã

---

## ‚úÖ –°–¢–ê–¢–£–° –°–ò–°–¢–ï–ú–´

**üü¢ –û–¢–ö–ê–¢ –ó–ê–í–ï–†–®–ï–ù - –°–ò–°–¢–ï–ú–ê –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ê**

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–∫–∞—á–µ–Ω—ã, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ –¥–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è SQLite —Å–∏—Å—Ç–µ–º—ã. Yandex API –∞–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç –¥–æ–ª–∂–µ–Ω —Å–Ω–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω–æ.

**–ì–û–¢–û–í–û –ö –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ! üéØ**