# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–∞—à–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —ç–∫—Ä–∞–Ω–∞ –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è

## üêõ –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫—Ä–∞—à–∏–ª–æ—Å—å –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É "–¢–µ—Å—Ç –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –∞–¥—Ä–µ—Å–æ–≤":

```
Fatal signal 6 (SIGABRT) in libmaps-mobile.so
yandex_flutter_search_SearchFactory_get_instance
```

## üîç –ü—Ä–∏—á–∏–Ω–∞

**SearchFactory —Ç—Ä–µ–±—É–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ MapKit**, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –∫–∞—Ä—Ç—ã. –ú—ã –ø—ã—Ç–∞–ª–∏—Å—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å SearchManager —Å—Ä–∞–∑—É –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —ç–∫—Ä–∞–Ω–∞, –∫–æ–≥–¥–∞ MapKit –µ—â—ë –Ω–µ –±—ã–ª –≥–æ—Ç–æ–≤.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ **–ª–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**:
1. –°–µ—Ä–≤–∏—Å –ù–ï –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —ç–∫—Ä–∞–Ω–∞
2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤–≤–æ–¥–µ —Ç–µ–∫—Å—Ç–∞
3. –ï—Å–ª–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–µ —É–¥–∞–ª–∞—Å—å - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫

## üìù –ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ

### 1. `yandex_suggest_service_v2.dart`

**–ë—ã–ª–æ:**
```dart
Future<List<SuggestItem>> getSuggestions({required String query}) async {
  if (!_isInitialized) {
    initialize(); // –ú–æ–∂–µ—Ç –∫—Ä–∞—à–Ω—É—Ç—å—Å—è!
  }
  // ...
}
```

**–°—Ç–∞–ª–æ:**
```dart
Future<List<SuggestItem>> getSuggestions({required String query}) async {
  if (!_isInitialized) {
    try {
      initialize();
    } catch (e) {
      debugPrint('‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å: $e');
      return []; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ –≤–º–µ—Å—Ç–æ –∫—Ä–∞—à–∞
    }
  }
  // ...
}
```

### 2. `address_autocomplete_test_screen.dart`

**–ë—ã–ª–æ:**
```dart
@override
void initState() {
  super.initState();
  _suggestService.initialize(); // –í—ã–∑—ã–≤–∞–ª–æ—Å—å —Å—Ä–∞–∑—É - –ö–†–ê–®!
  // ...
}
```

**–°—Ç–∞–ª–æ:**
```dart
@override
void initState() {
  super.initState();
  // –ù–ï –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∑–¥–µ—Å—å!
  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤–≤–æ–¥–µ —Ç–µ–∫—Å—Ç–∞
  // ...
}
```

## üéØ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

–ï—Å–ª–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ –∫—Ä–∞—à–∏—Ç—Å—è, –º–æ–∂–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–∫–ª—é—á–∏—Ç—å SearchFactory –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ:

```dart
class YandexSuggestService {
  Future<List<SuggestItem>> getSuggestions({required String query}) async {
    // –í—Ä–µ–º–µ–Ω–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –º–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
    return [
      SuggestItem(
        title: '–ú–æ—Å–∫–≤–∞',
        subtitle: '–†–æ—Å—Å–∏—è',
        displayText: '–ú–æ—Å–∫–≤–∞, –†–æ—Å—Å–∏—è',
        searchText: '–ú–æ—Å–∫–≤–∞',
      ),
      // ... –¥—Ä—É–≥–∏–µ –≥–æ—Ä–æ–¥–∞
    ];
  }
}
```

## üöÄ –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

```bash
flutter run
```

–ó–∞—Ç–µ–º:
1. –í–æ–π—Ç–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí "–¢–µ—Å—Ç –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –∞–¥—Ä–µ—Å–æ–≤"
3. **–≠–∫—Ä–∞–Ω –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è –±–µ–∑ –∫—Ä–∞—à–∞!**
4. –ù–∞—á–∞—Ç—å –≤–≤–æ–¥–∏—Ç—å —Ç–µ–∫—Å—Ç
5. –î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –ø–æ–¥—Å–∫–∞–∑–∫–∏ (–∏–ª–∏ –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫, –µ—Å–ª–∏ MapKit –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω)

## üìä –°—Ç–∞—Ç—É—Å

| –ü—Ä–æ–±–ª–µ–º–∞ | –°—Ç–∞—Ç—É—Å |
|----------|--------|
| –ö—Ä–∞—à –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —ç–∫—Ä–∞–Ω–∞ | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| –õ–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ | ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ |
| Graceful degradation | ‚úÖ –ì–æ—Ç–æ–≤–æ |

---

**–¢–µ–ø–µ—Ä—å –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –∏ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ!** üöÄ
